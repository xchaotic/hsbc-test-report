<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
   <head>
      <title>FpML 5.0 Recommendation</title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      <link rel="stylesheet" type="text/css" href="fpml.css"/>
   </head>
   <body>
      <h1>FpML®  Financial product Markup Language Recommendation 07 July 2010</h1>
      <h2 class="abstractHeader">Version: 5.0</h2>
      <h4>This version: <i>http://www.fpml.org/spec/fpml-5-0-8-rec-1</i>
      </h4>
      <h4>Latest version: <a href="http://www.fpml.org/spec/fpml-5-0-8-rec-1" target="_blank" title="Link opens in new window.">
            <i>http://www.fpml.org/spec/fpml-5-0-8-rec-1</i>
         </a>
      </h4>
      <h4>Previous version: <a href="http://www.fpml.org/spec/fpml-5-0-7-tr-1/" target="_blank" title="Link opens in new window.">
            <i>http://www.fpml.org/spec/fpml-5-0-7-tr-1/</i>
         </a>
      </h4>
   	<h4>Errata for this version: <a href="http://www.fpml.org/spec/fpml-5-0-8-rec-1/html/confirmation/fpml-5-0-errata.html">
   		<i>http://www.fpml.org/spec/fpml-5-0-8-rec-1/html/confirmation/fpml-5-0-errata.html</i>
         </a>
      </h4>
      <p>
		Build Number: 8; Document built: Tue 07/06/2010 15:56:14.83</p>
      <p/>
      <p>Copyright (c) 1999 - 2010 by International Swaps and Derivatives Association, Inc.</p>
      <p>Financial Products Markup Language is subject to the FpML®  Public License.</p>
      <p>FpML®  is a registered trademark of the International Swaps and Derivatives Association, Inc.</p>
      <p> A copy of this license is available at <a href="http://www.fpml.org/license/license.html" target="_blank" title="Link opens in new window.">http://www.fpml.org/license/license.html</a>
      </p>
      <p>
         <br/>
         <br/>
      </p>
      <p>The FpML specifications provided are without warranty of any kind, either expressed or implied, including, without limitation, warranties that FpML, or the FpML specifications are free of defects, merchantable, fit for a particular purpose or non-infringing.  The entire risk as to the quality and performance of the specifications is with you.  Should any of the FpML specifications prove defective in any respect, you assume the cost of any necessary servicing or repair.  Under no circumstances and under no legal theory, whether tort (including negligence), contract, or otherwise, shall ISDA, any of its members, or any distributor of documents or software containing any of the FpML specifications, or any supplier of any of such parties, be liable to you or any other person for any indirect, special, incidental, or consequential damages of any character including, without limitation, damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses, even if such party shall have been informed of the possibility of such damages.  </p>
      <p>
         <br/>
         <br/>
      </p>
      <h2 class="tocHeader">Table Of Contents</h2>
      <p class="toc">&nbsp;&nbsp;&nbsp;&nbsp;<b>1 <a href="#s1">INTRODUCTION AND OVERVIEW</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.1 <a href="#s1.1">STATUS OF THIS DOCUMENT</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.2 <a href="#s1.2">ORGANIZATION OF THE DOCUMENTATION</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.2.1 <a href="#s1.2.1">Schema Reference</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.2.2 <a href="#s1.2.2">Other Documents in the Specification</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.2.3 <a href="#s1.2.3">Diagram Notation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.3 <a href="#s1.3">WORKING GROUP MEMBERS AND ACKNOWLEDGEMENTS</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.1 <a href="#s1.3.1">Architecture Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.2 <a href="#s1.3.2">Business Process Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.3 <a href="#s1.3.3">Validation Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.4 <a href="#s1.3.4">IRD Products Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.5 <a href="#s1.3.5">Credit Derivatives Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.6 <a href="#s1.3.6">Equity Derivatives Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.7 <a href="#s1.3.7">Commodity Derivatives Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.3.8 <a href="#s1.3.8">Pricing and Risk Working Group</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.4 <a href="#s1.4">FpML INTRODUCTION</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.5 <a href="#s1.5">REQUESTED FEEDBACK</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.5.1 <a href="#s1.5.1">Messaging Framework</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.5.2 <a href="#s1.5.2">Revamped reporting view</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.5.3 <a href="#s1.5.3">Providing Feedback</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.6 <a href="#s1.6">CHANGES IN THIS VERSION</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.6.1 <a href="#s1.6.1">Changes compared to FpML 5.0 Last Call Working Draft 2010-03-30</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.7 <a href="#s1.7">SCOPE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.1 <a href="#s1.7.1">Architecture Framework</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.2 <a href="#s1.7.2">Business Process Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.2.1 <a href="#s1.7.2.1">Generic processes:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.2.1.1 <a href="#s1.7.2.1.1">Post-trade</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.2.2 <a href="#s1.7.2.2">Generic (Multi-Event) Flows</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.3 <a href="#s1.7.3">Validation Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.4 <a href="#s1.7.4">IRD Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.5 <a href="#s1.7.5">Credit Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.6 <a href="#s1.7.6">Equity Derivative Options and Forwards Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.7 <a href="#s1.7.7">Return Swaps Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.8 <a href="#s1.7.8">Correlation Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.9 <a href="#s1.7.9">Variance Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.10 <a href="#s1.7.10">Dividend Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.11 <a href="#s1.7.11">Commodity Derivative Product Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.7.12 <a href="#s1.7.12">Pricing and Risk Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.8 <a href="#s1.8">CHARACTER ENCODING AND CHARACTER REPERTOIRE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.8.1 <a href="#s1.8.1">Character Encoding</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.8.2 <a href="#s1.8.2">Character Repertoire</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>1.9 <a href="#s1.9">TOOLS AND VALIDATION</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>1.9.1 <a href="#s1.9.1">Schema and Example Validation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>2 <a href="#s2">FpML OVERVIEW</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.1 <a href="#s2.1">FpML</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.2 <a href="#s2.2">Overview of FpML views</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.3 <a href="#s2.3">Overview of the organization of the master schema</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.4 <a href="#s2.4">Overview of Document Types</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.5 <a href="#s2.5">Using FpML</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.6 <a href="#s2.6">The FpML root element</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.7 <a href="#s2.7">Annotations</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.7.1 <a href="#s2.7.1">eCore</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.8 <a href="#s2.8">Main Components</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.1 <a href="#s2.8.1">The DataDocument type</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2 <a href="#s2.8.2">The Trade Component</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.1 <a href="#s2.8.2.1">tradeHeader</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.1.1 <a href="#s2.8.2.1.1">Primary Trade Identifier</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.2 <a href="#s2.8.2.2">product</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.2.1 <a href="#s2.8.2.2.1">Product Identification</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.3 <a href="#s2.8.2.3">otherPartyPayment</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.4 <a href="#s2.8.2.4">brokerPartyReference</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.5 <a href="#s2.8.2.5">calculationAgent</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.6 <a href="#s2.8.2.6">documentation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.6.1 <a href="#s2.8.2.6.1">contractualMatrix</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.6.1.1 <a href="#s2.8.2.6.1.1">Examples of using the contractualMatrix structure</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.7 <a href="#s2.8.2.7">collateral</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.7.1 <a href="#s2.8.2.7.1">independentAmount</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.2.8 <a href="#s2.8.2.8">governingLaw</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.3 <a href="#s2.8.3">The Portfolio Component</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.4 <a href="#s2.8.4">The Party Component</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.5 <a href="#s2.8.5">The Account Component</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.6 <a href="#s2.8.6">The Product Component</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.8.7 <a href="#s2.8.7">The Strategy Component</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>2.9 <a href="#s2.9">More Background on FpML's Design</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.9.1 <a href="#s2.9.1">Rationale for Structured Approach</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.9.2 <a href="#s2.9.2">Component Framework</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>2.9.3 <a href="#s2.9.3">Coding Schemes</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>3 <a href="#s3">BUSINESS PROCESS ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>3.1 <a href="#s3.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.1.1 <a href="#s3.1.1">Why Business Messaging?</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>3.2 <a href="#s3.2">The Messaging Framework</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.1 <a href="#s3.2.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.2 <a href="#s3.2.2">Issues in FpML 4 Messaging Framework</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3 <a href="#s3.2.3">Design Assumptions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.1 <a href="#s3.2.3.1">Highly Assured Transport</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.2 <a href="#s3.2.3.2">No Preservation of Message Sequence</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.3 <a href="#s3.2.3.3">Long-Running Processes</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.4 <a href="#s3.2.3.4">Observable Completion</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.5 <a href="#s3.2.3.5">Consistent Message Correlation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.6 <a href="#s3.2.3.6">Consistent Error Reporting</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.7 <a href="#s3.2.3.7">Consistent correction and retraction mechanism</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.8 <a href="#s3.2.3.8">Consistent Processes Across Trades and Post-trade Events</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.9 <a href="#s3.2.3.9">Transport Characteristics</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.9.1 <a href="#s3.2.3.9.1">Purpose</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.9.2 <a href="#s3.2.3.9.2">Layers</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.9.3 <a href="#s3.2.3.9.3">Reliable Mode</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.3.9.4 <a href="#s3.2.3.9.4">Bulk Transfer Mode</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.4 <a href="#s3.2.4">Transport Independence</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.4.1 <a href="#s3.2.4.1">Business Process</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.4.2 <a href="#s3.2.4.2">Document</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.4.3 <a href="#s3.2.4.3">Messaging</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.4.4 <a href="#s3.2.4.4">Transport</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.5 <a href="#s3.2.5">Identification of Purpose</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.5.1 <a href="#s3.2.5.1">By Namespace (not used by FpML)</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.5.2 <a href="#s3.2.5.2">By Element Name (used by FpML 5.x)</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.5.3 <a href="#s3.2.5.3">By Element Type (used by FpML 4.x)</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.6 <a href="#s3.2.6">General Pattern of Messages</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.7 <a href="#s3.2.7">Naming Conventions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.8 <a href="#s3.2.8">Acknowledgements</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.9 <a href="#s3.2.9">Message correlation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.10 <a href="#s3.2.10">Message sequencing</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.11 <a href="#s3.2.11">Multi-Event Workflows</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.12 <a href="#s3.2.12">Other topics</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.12.1 <a href="#s3.2.12.1">onBehalfOf</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.12.2 <a href="#s3.2.12.2">party roles</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.2.12.3 <a href="#s3.2.12.3">separation of party and account</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>3.3 <a href="#s3.3">Business Processes</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.1 <a href="#s3.3.1">FpML 5 Business Processes</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.2 <a href="#s3.3.2">Transaction life cycle</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3 <a href="#s3.3.3">Generic (Multi-Event) Flows</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.1 <a href="#s3.3.3.1">Execution Notification Flow</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.1.1 <a href="#s3.3.3.1.1">Execution Notification</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.1.2 <a href="#s3.3.3.1.2">Execution Notification Correction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.1.3 <a href="#s3.3.3.1.3">Execution Retraction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.2 <a href="#s3.3.3.2">Execution Advice Flow</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.2.1 <a href="#s3.3.3.2.1">Execution Advice </a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.2.2 <a href="#s3.3.3.2.2">Execution Advice Correction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.2.3 <a href="#s3.3.3.2.3">Execution Advice Retraction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.3 <a href="#s3.3.3.3">Trade Change Advice Flow</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.3.1 <a href="#s3.3.3.3.1">Trade Change Advice</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.3.2 <a href="#s3.3.3.3.2">Trade Change Advice Correction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.3.3 <a href="#s3.3.3.3.3">Trade Change Advice Retraction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.4 <a href="#s3.3.3.4">Consent Negotiation Flow</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.4.1 <a href="#s3.3.3.4.1">Trade Novation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5 <a href="#s3.3.3.5">Confirmation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1 <a href="#s3.3.3.5.1">Scenarios</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1.1 <a href="#s3.3.3.5.1.1">Normal Operation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1.2 <a href="#s3.3.3.5.1.2">Exception</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1.3 <a href="#s3.3.3.5.1.3">Correction Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1.4 <a href="#s3.3.3.5.1.4">Correction Not Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1.5 <a href="#s3.3.3.5.1.5">Retraction Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.5.1.6 <a href="#s3.3.3.5.1.6">Retraction Not Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6 <a href="#s3.3.3.6">Clearing</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1 <a href="#s3.3.3.6.1">Scenarios</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1.1 <a href="#s3.3.3.6.1.1">Normal Operation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1.2 <a href="#s3.3.3.6.1.2">Exception</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1.3 <a href="#s3.3.3.6.1.3">Correction Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1.4 <a href="#s3.3.3.6.1.4">Correction Not Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1.5 <a href="#s3.3.3.6.1.5">Retraction Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.6.1.6 <a href="#s3.3.3.6.1.6">Retraction Not Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7 <a href="#s3.3.3.7">Allocation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1 <a href="#s3.3.3.7.1">Scenarios</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1.1 <a href="#s3.3.3.7.1.1">Normal Operation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1.2 <a href="#s3.3.3.7.1.2">Exception</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1.3 <a href="#s3.3.3.7.1.3">Correction Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1.4 <a href="#s3.3.3.7.1.4">Correction Not Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1.5 <a href="#s3.3.3.7.1.5">Retraction Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.3.7.1.6 <a href="#s3.3.3.7.1.6">Retraction Not Possible</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4 <a href="#s3.3.4">Description of Business Events</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.1 <a href="#s3.3.4.1">Novation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.2 <a href="#s3.3.4.2">Increase</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.3 <a href="#s3.3.4.3">Termination</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.4 <a href="#s3.3.4.4">Amendment</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5 <a href="#s3.3.4.5">Allocation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1 <a href="#s3.3.4.5.1">Linking Mechanism</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.1 <a href="#s3.3.4.5.1.1">Design Assumptions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.2 <a href="#s3.3.4.5.1.2">Implementation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.3 <a href="#s3.3.4.5.1.3">Examples</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.3.1 <a href="#s3.3.4.5.1.3.1">Normal Trade</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.3.2 <a href="#s3.3.4.5.1.3.2">Normal trade that is subsequently split/allocated into two trades</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.3.3 <a href="#s3.3.4.5.1.3.3">Each of the resulting allocated trades</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.1.4 <a href="#s3.3.4.5.1.4">N-Level Allocations</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>3.3.4.5.2 <a href="#s3.3.4.5.2">Short Form Representation of Allocations</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>4 <a href="#s4">VALIDATION ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.1 <a href="#s4.1">Validation Rules</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.2 <a href="#s4.2">Reference Implementations</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.2.1 <a href="#s4.2.1">Java and C#</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.2.2 <a href="#s4.2.2">Java/XPath</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.2.3 <a href="#s4.2.3">CLiX</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.2.4 <a href="#s4.2.4">XQuery</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.3 <a href="#s4.3">Test Cases</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.4 <a href="#s4.4">Target Audience</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.5 <a href="#s4.5">Background</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.6 <a href="#s4.6">Rule Specifications</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.6.1 <a href="#s4.6.1">General Principles and Guidelines</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.6.2 <a href="#s4.6.2">Mathematical Notation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.6.3 <a href="#s4.6.3">Rule Definition and Layout</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.6.4 <a href="#s4.6.4">Defining New Terms as Functions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.6.4.1 <a href="#s4.6.4.1">How to use functions?</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.6.5 <a href="#s4.6.5">Formatting</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.7 <a href="#s4.7">Technical Guidelines</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.7.1 <a href="#s4.7.1">Implementations</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.7.2 <a href="#s4.7.2">Evaluation of Dates</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>4.7.3 <a href="#s4.7.3">Contains</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.8 <a href="#s4.8">Revision and Publication Process</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>4.9 <a href="#s4.9">Normativity and its Implications</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>5 <a href="#s5">INTEREST RATE DERIVATIVE PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>5.1 <a href="#s5.1">Interest Rate Swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.1.1 <a href="#s5.1.1">Relative Swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.1.2 <a href="#s5.1.2">Non-Deliverable Settlement Provision</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>5.2 <a href="#s5.2">Asset Swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.2.1 <a href="#s5.2.1">Implementation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.2.2 <a href="#s5.2.2">Design Rationale</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>5.3 <a href="#s5.3">Inflation Swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.3.1 <a href="#s5.3.1">Design Approach</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.3.2 <a href="#s5.3.2">Implementation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.3.2.1 <a href="#s5.3.2.1">Inflation Terms</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>5.4 <a href="#s5.4">Forward Rate Agreement</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>5.5 <a href="#s5.5">Option Components</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.1 <a href="#s5.5.1">European Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.2 <a href="#s5.5.2">American Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.3 <a href="#s5.5.3">Bermuda Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.4 <a href="#s5.5.4">Early Termination Provision</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.5 <a href="#s5.5.5">Cancelable Provision</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.6 <a href="#s5.5.6">Extendible Provision</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.7 <a href="#s5.5.7">Swaption</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>5.5.8 <a href="#s5.5.8">Cap / Floor</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>5.6 <a href="#s5.6">Cash Settlement</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>6 <a href="#s6">CREDIT DERIVATIVE PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.1 <a href="#s6.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.1 <a href="#s6.1.1">credit default swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.2 <a href="#s6.1.2">credit default swap index</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.3 <a href="#s6.1.3">credit default swap basket</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.4 <a href="#s6.1.4">mortgage credit default swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.4.1 <a href="#s6.1.4.1">Main differences between Mortgage and Corporate CDS</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.4.2 <a href="#s6.1.4.2">The Pay-As-You-Go model</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.5 <a href="#s6.1.5">loan credit default swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.1.6 <a href="#s6.1.6">credit default swap option</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.2 <a href="#s6.2">creditDefaultSwap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.3 <a href="#s6.3">generalTerms</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.1 <a href="#s6.3.1">referenceObligation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.1.1 <a href="#s6.3.1.1">bond and convertibleBond</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.1.2 <a href="#s6.3.1.2">mortgage</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.1.3 <a href="#s6.3.1.3">loan</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.2 <a href="#s6.3.2">referenceInformation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.3 <a href="#s6.3.3">indexReferenceInformation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.3.1 <a href="#s6.3.3.1">Index Tranche</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.3.2 <a href="#s6.3.3.2">Settled Entity Matrix </a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.4 <a href="#s6.3.4">basketReferenceInformation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.3.4.1 <a href="#s6.3.4.1">Basket Tranche and Nth to Default </a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.4 <a href="#s6.4">feeLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.4.1 <a href="#s6.4.1">Credit default swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.4.2 <a href="#s6.4.2">Credit default swap index</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.4.3 <a href="#s6.4.3">Mortgage derivatives</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.5 <a href="#s6.5">protectionTerms</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.5.1 <a href="#s6.5.1">Mortgage derivatives</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.6 <a href="#s6.6">physicalSettlementTerms and cashSettlementTerms</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.7 <a href="#s6.7">creditDefaultSwapOption</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.7.1 <a href="#s6.7.1">Option Components</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.7.1.1 <a href="#s6.7.1.1">OptionBase</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.7.1.2 <a href="#s6.7.1.2">OptionBaseExtended</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.7.1.2.1 <a href="#s6.7.1.2.1">Premium</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.8 <a href="#s6.8">Credit Event Notice</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.8.1 <a href="#s6.8.1">Background</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.8.2 <a href="#s6.8.2">Implementation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.8.2.1 <a href="#s6.8.2.1">Description of some of the elements</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>6.8.2.2 <a href="#s6.8.2.2">Examples</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>6.9 <a href="#s6.9">Appendix A: Naming differences between FpML 5.0 Credit Derivatives Subschema and 2003 ISDA Credit Derivatives Definitions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>7 <a href="#s7">FX PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>8 <a href="#s8">EQUITY DERIVATIVE OPTIONS PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>8.1 <a href="#s8.1">Equity Derivative Options and Forwards Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>8.2 <a href="#s8.2">Overall Architecture</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>8.3 <a href="#s8.3">Component Descriptions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.1 <a href="#s8.3.1">underlyer</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.2 <a href="#s8.3.2">Equity Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.3 <a href="#s8.3.3">European Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.4 <a href="#s8.3.4">American Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.5 <a href="#s8.3.5">Bermuda Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.6 <a href="#s8.3.6">FxFeature</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.7 <a href="#s8.3.7">feature</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.7.1 <a href="#s8.3.7.1">asian</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.7.2 <a href="#s8.3.7.2">barrierCap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.7.3 <a href="#s8.3.7.3">Pass Through</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.7.3.1 <a href="#s8.3.7.3.1">Alternate Approaches</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.8 <a href="#s8.3.8">EquityPremium</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>8.3.9 <a href="#s8.3.9">Adjustment of dates in Equity Options</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>9 <a href="#s9">RETURN SWAPS PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.1 <a href="#s9.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.2 <a href="#s9.2">Return Swaps Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.3 <a href="#s9.3">The structure of the generic Return Swap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.4 <a href="#s9.4">Equity Swap Transaction Supplement</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.5 <a href="#s9.5">The return leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.1 <a href="#s9.5.1">The payer and receiver party</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.2 <a href="#s9.5.2">The effective date and the termination date</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.3 <a href="#s9.5.3">The underlyer</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.4 <a href="#s9.5.4">The valuation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.5 <a href="#s9.5.5">The notional amount</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.6 <a href="#s9.5.6">The amount</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.7 <a href="#s9.5.7">The return</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.8 <a href="#s9.5.8">The notional adjustment</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.5.9 <a href="#s9.5.9">The FX Feature (old FX terms)</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.6 <a href="#s9.6">The interest leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.6.1 <a href="#s9.6.1">The payer and receiver party</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.6.2 <a href="#s9.6.2">The calculation dates</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.6.3 <a href="#s9.6.3">The notional amount</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.6.4 <a href="#s9.6.4">The interest amount</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>9.6.5 <a href="#s9.6.5">The interest calculation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.7 <a href="#s9.7">The initial and final stub</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.8 <a href="#s9.8">The principal exchange</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.9 <a href="#s9.9">The additional payments when involving the principal parties to the trade</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>9.10 <a href="#s9.10">The optional early termination</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>10 <a href="#s10">VARIANCE PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>10.1 <a href="#s10.1">Variance Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>10.2 <a href="#s10.2">Overall Architecture</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>10.2.1 <a href="#s10.2.1">varianceSwap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>10.2.2 <a href="#s10.2.2">varianceSwapTransactionSupplement</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>10.2.3 <a href="#s10.2.3">VarianceLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>10.2.4 <a href="#s10.2.4">varianceOptionTransactionSupplement</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>11 <a href="#s11">DIVIDEND PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>11.1 <a href="#s11.1">Dividend Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>11.2 <a href="#s11.2">Overall Architecture</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>11.2.1 <a href="#s11.2.1">dividendSwapTransactionSupplement</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>11.2.2 <a href="#s11.2.2">dividendLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>11.2.3 <a href="#s11.2.3">fixedLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>12 <a href="#s12">CORRELATION PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>12.1 <a href="#s12.1">Correlation Derivatives Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>12.2 <a href="#s12.2">Overall Architecture</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>12.2.1 <a href="#s12.2.1">correlationSwap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>12.2.2 <a href="#s12.2.2">correlationLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>13 <a href="#s13">BOND OPTIONS PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>13.1 <a href="#s13.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.1.1 <a href="#s13.1.1">bondOption</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>13.2 <a href="#s13.2">Shared Option Components</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.1 <a href="#s13.2.1">OptionBase</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.2 <a href="#s13.2.2">OptionBaseExtended</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.2.1 <a href="#s13.2.2.1">Premium</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.2.2 <a href="#s13.2.2.2">Exercise</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.2.3 <a href="#s13.2.2.3">The ExerciseProcedure construct</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.2.4 <a href="#s13.2.2.4">The Notional construct</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.2.2.5 <a href="#s13.2.2.5">The Denomination construct</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>13.3 <a href="#s13.3">The Option on Bond and Convertible Bond</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.3.1 <a href="#s13.3.1">The strike</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>13.3.2 <a href="#s13.3.2">The convertible bond underlyer</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>14 <a href="#s14">LOAN PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>15 <a href="#s15">COMMODITY DERIVATIVE PRODUCT ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>15.1 <a href="#s15.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>15.2 <a href="#s15.2">Commodity Underlyer</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>15.3 <a href="#s15.3">commoditySwap</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.1 <a href="#s15.3.1">fixedLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.2 <a href="#s15.3.2">floatingLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.2.1 <a href="#s15.3.2.1">calculation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3 <a href="#s15.3.3">Physical Leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.1 <a href="#s15.3.3.1">Coverage</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2 <a href="#s15.3.3.2">Product Representation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.1 <a href="#s15.3.3.2.1">Gas Physical Leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.1.1 <a href="#s15.3.3.2.1.1">gasPhysicalLeg - deliveryPeriods</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.1.2 <a href="#s15.3.3.2.1.2">gasPhysicalLeg - product</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.1.3 <a href="#s15.3.3.2.1.3">gasPhysicalLeg - deliveryConditions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.1.4 <a href="#s15.3.3.2.1.4">gasPhysicalLeg - deliveryQuantity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.2 <a href="#s15.3.3.2.2">Oil  Physical Leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.2.1 <a href="#s15.3.3.2.2.1">oilPhysicalLeg - deliveryPeriods</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.2.2 <a href="#s15.3.3.2.2.2">oilPhysicalLeg - product</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.2.3 <a href="#s15.3.3.2.2.3">oilPhysicalLeg - deliveryConditions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.2.4 <a href="#s15.3.3.2.2.4">oilPhysicalLeg - deliveryQuantity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.3 <a href="#s15.3.3.2.3">Electricity Physical Leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.3.1 <a href="#s15.3.3.2.3.1">electricityPhysicalLeg - deliveryPeriods</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.3.2 <a href="#s15.3.3.2.3.2">electricityPhysicalLeg - product</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.3.3 <a href="#s15.3.3.2.3.3">electricityPhysicalLeg - deliveryConditions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.3.4 <a href="#s15.3.3.2.3.4">electricityPhysicalLeg - deliveryQuantity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.4 <a href="#s15.3.3.2.4">Coal Physical Leg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.4.1 <a href="#s15.3.3.2.4.1">coalPhysicalLeg - deliveryPeriods</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.4.2 <a href="#s15.3.3.2.4.2">coalPhysicalLeg - product</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.4.3 <a href="#s15.3.3.2.4.3">coalPhysicalLeg - deliveryConditions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.3.3.2.4.4 <a href="#s15.3.3.2.4.4">coalPhysicalLeg - deliveryQuantity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>15.4 <a href="#s15.4">commodityOption</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.4.1 <a href="#s15.4.1">CommodityFinancialOption</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.4.2 <a href="#s15.4.2">CommodityPhysicalOption</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>15.5 <a href="#s15.5">commodityForward</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.5.1 <a href="#s15.5.1">fixedLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>15.5.2 <a href="#s15.5.2">bullionPhysicalLeg</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>16 <a href="#s16">PRICING AND RISK ARCHITECTURE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.1 <a href="#s16.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.2 <a href="#s16.2">Derivatives Pricing and Risk</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.2.1 <a href="#s16.2.1">Pricing</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.2.2 <a href="#s16.2.2">Valuation and Risk Reporting</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.3 <a href="#s16.3">Pricing and Risk Scope</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.4 <a href="#s16.4">Requirements</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.1 <a href="#s16.4.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.2 <a href="#s16.4.2">Usage Scenarios</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.3 <a href="#s16.4.3">Product Coverage</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.4 <a href="#s16.4.4">Valuation and Risk Measures</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.5 <a href="#s16.4.5">Market and Pricing Data</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.6 <a href="#s16.4.6">Valuation Scenarios</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.4.7 <a href="#s16.4.7">Portfolios</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.5 <a href="#s16.5">Overview of design</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.1 <a href="#s16.5.1">Overview</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2 <a href="#s16.5.2">Shared Types</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2.1 <a href="#s16.5.2.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2.2 <a href="#s16.5.2.2">Quotation Characteristics</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2.3 <a href="#s16.5.2.3">Measure Types</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2.4 <a href="#s16.5.2.4">BasicQuotations</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2.5 <a href="#s16.5.2.5">Valuation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.2.6 <a href="#s16.5.2.6">Basic Asset Valuation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3 <a href="#s16.5.3">Valuation Sets and related definitions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.1 <a href="#s16.5.3.1">Quotation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.2 <a href="#s16.5.3.2">Asset Valuation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.3 <a href="#s16.5.3.3">Sensitivity Set</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.4 <a href="#s16.5.3.4">Sensitivity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.5 <a href="#s16.5.3.5">Valuation Set</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.6 <a href="#s16.5.3.6">Valuation Scenario</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.3.7 <a href="#s16.5.3.7">Summary</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4 <a href="#s16.5.4">Pricing Inputs</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.1 <a href="#s16.5.4.1">Overview</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.2 <a href="#s16.5.4.2">Abstract Structures</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.3 <a href="#s16.5.4.3">Term Points and Curves</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.4 <a href="#s16.5.4.4">Underlying Assets</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.5 <a href="#s16.5.4.5">Quoted Asset Sets</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.6 <a href="#s16.5.4.6">Yield Curves</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.6.1 <a href="#s16.5.4.6.1">Yield Curve</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.6.2 <a href="#s16.5.4.6.2">Yield Curve Valuation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.6.3 <a href="#s16.5.4.6.3">Zero Rate Curve</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.6.4 <a href="#s16.5.4.6.4">Forward Rate Curve</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.7 <a href="#s16.5.4.7">FX Forward Curves</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.8 <a href="#s16.5.4.8">Credit Curves</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.9 <a href="#s16.5.4.9">Multi-dimensional Pricing Data</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.4.10 <a href="#s16.5.4.10">Markets</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5 <a href="#s16.5.5">Risk Definition</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.1 <a href="#s16.5.5.1">Overview</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.2 <a href="#s16.5.5.2">Sensitivity Set Definitions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.3 <a href="#s16.5.5.3">Sensitivity Definitions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.4 <a href="#s16.5.5.4">Pricing Parameter Derivative</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.5 <a href="#s16.5.5.5">Derivative Formula</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.6 <a href="#s16.5.5.6">Derived Valuation Scenario</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.5.7 <a href="#s16.5.5.7">Pricing Parameter Shift</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.6 <a href="#s16.5.6">Query Portfolio</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7 <a href="#s16.5.7">Valuation Messaging</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.1 <a href="#s16.5.7.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.2 <a href="#s16.5.7.2">Messaging Guidelines for 'Valuation Report' and 'Position                                 Report'</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.3 <a href="#s16.5.7.3">TradeValuationItem</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.4 <a href="#s16.5.7.4">PortfolioValuationItem</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.5 <a href="#s16.5.7.5">RequestValuationReport</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.6 <a href="#s16.5.7.6">ValuationReport</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.7 <a href="#s16.5.7.7">PositionReport</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.5.7.7.1 <a href="#s16.5.7.7.1">Position</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.6 <a href="#s16.6">Use Cases/Examples</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.7 <a href="#s16.7">Glossary</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.1 <a href="#s16.7.1">Valuation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.2 <a href="#s16.7.2">Risk</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.3 <a href="#s16.7.3">Valuation Measure</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.4 <a href="#s16.7.4">Risk Measure</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.5 <a href="#s16.7.5">Market Environment</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.6 <a href="#s16.7.6">Market Data</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.7 <a href="#s16.7.7">Market Data Value</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.8 <a href="#s16.7.8">Pricing Data</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.9 <a href="#s16.7.9">Portfolio</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.10 <a href="#s16.7.10">Scenario</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.11 <a href="#s16.7.11">Sensitivity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.7.12 <a href="#s16.7.12">Shock</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.8 <a href="#s16.8">Validation Rules</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.8.1 <a href="#s16.8.1">Introduction</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.8.2 <a href="#s16.8.2">Reference Integrity</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.8.3 <a href="#s16.8.3">Date uniqueness</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.8.4 <a href="#s16.8.4">Optionality</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.8.5 <a href="#s16.8.5">Names/Definitions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.8.6 <a href="#s16.8.6">Consistency of definitions/references</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>16.9 <a href="#s16.9">Appendix: Design Decisions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.1 <a href="#s16.9.1">Abstract vs. Actual Products</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.1.1 <a href="#s16.9.1.1">Issue 1: Defining an abstract product</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.1.2 <a href="#s16.9.1.2">Issue 2:  Use of tenors instead of absolute dates</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.1.3 <a href="#s16.9.1.3">Issue 3:  Stub definitions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2 <a href="#s16.9.2">Product and Trade Identification and Description</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.1 <a href="#s16.9.2.1">Issue 1:  Trade Summaries</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.2 <a href="#s16.9.2.2">Options:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.3 <a href="#s16.9.2.3">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.4 <a href="#s16.9.2.4">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.5 <a href="#s16.9.2.5">Issue 2:  Trade Identification</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.6 <a href="#s16.9.2.6">Options:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.7 <a href="#s16.9.2.7">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.2.8 <a href="#s16.9.2.8">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3 <a href="#s16.9.3">Pricing Inputs</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.1 <a href="#s16.9.3.1">Issue 1:  Term Representation</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.2 <a href="#s16.9.3.2">Options</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.3 <a href="#s16.9.3.3">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.4 <a href="#s16.9.3.4">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.5 <a href="#s16.9.3.5">Issue 2:  Ability to handle different dimensionality for                                 pricing inputs</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.6 <a href="#s16.9.3.6">Options:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.7 <a href="#s16.9.3.7">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.8 <a href="#s16.9.3.8">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.9 <a href="#s16.9.3.9">Issue 3:  Dates used within pricing structures</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.10 <a href="#s16.9.3.10">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.11 <a href="#s16.9.3.11">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.12 <a href="#s16.9.3.12">Issue 4:  Compactness of term structure indexes</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.13 <a href="#s16.9.3.13">Options:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.14 <a href="#s16.9.3.14">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.15 <a href="#s16.9.3.15">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.16 <a href="#s16.9.3.16">Issue 6: Handling of currency conversion </a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.17 <a href="#s16.9.3.17">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.18 <a href="#s16.9.3.18">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.19 <a href="#s16.9.3.19">Issue 7: Handling of credit default swap basis conventions</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.20 <a href="#s16.9.3.20">Option 1: partial description</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.21 <a href="#s16.9.3.21">Option 2: full description:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.22 <a href="#s16.9.3.22">Option 3: fpml CD 4.x specification: </a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.23 <a href="#s16.9.3.23">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.3.24 <a href="#s16.9.3.24">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.4 <a href="#s16.9.4">Valuation Reporting</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.4.1 <a href="#s16.9.4.1">Issue 1: How much detail is needed for the NPVs?</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.4.2 <a href="#s16.9.4.2">Options:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.4.3 <a href="#s16.9.4.3">Solution:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.4.4 <a href="#s16.9.4.4">Rationale:</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.4.5 <a href="#s16.9.4.5">Issue 2:  Reporting Currency</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5 <a href="#s16.9.5">Risk Types and Measures</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.1 <a href="#s16.9.5.1">Issue 1:  Risk types and measures</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.2 <a href="#s16.9.5.2">Solution</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.3 <a href="#s16.9.5.3">Solution</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.4 <a href="#s16.9.5.4">Issue2:  Shift size</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.5 <a href="#s16.9.5.5">Solution</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.6 <a href="#s16.9.5.6">Issue 3 Shift method</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.7 <a href="#s16.9.5.7">Solution</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.8 <a href="#s16.9.5.8">Issue 4 Risk currency</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;<b>16.9.5.9 <a href="#s16.9.5.9">Solution</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>17 <a href="#s17">CHANGES IN THIS VERSION</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>17.1 <a href="#s17.1">Changes compared to FpML 5.0 Last Call Working Draft 2010-03-30</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>18 <a href="#s18">SCHEMA REFERENCE</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>20 <a href="#s20">SCHEMA AND EXAMPLES</a>
         </b>
         <br/>&nbsp;&nbsp;&nbsp;&nbsp;<b>24 <a href="#s24">SCHEME DEFINITIONS</a>
         </b>
         <br/>
      </p>
      <div>
         <div>
            <h2>
               <a id="s1">1 INTRODUCTION AND OVERVIEW</a>
            </h2>
         </div>
	
	
	 
	
	
	 
 
	
	

         <div>
            <h3>
               <a id="s1.1">1.1 STATUS OF THIS DOCUMENT</a>
            </h3>
		
            <p>This is the FpML 5.0 Recommendation for review by the public and by FpML members and working groups.</p>
		
            <p>The FpML Working Groups encourage reviewing organizations to provide feedback as early as possible. Comments on this document should be sent by filling in the form at the following link: <a class="web" href="http://www.fpml.org/issues" target="_blank" title="Link opens in new window.">http://www.fpml.org/issues</a>. An archive of the comments is available at <a class="web" href="http://www.fpml.org/issues/" target="_blank" title="Link opens in new window.">http://www.fpml.org/issues/</a>
		
            </p>
		
            <p>There are also asset class-specific mailing lists; you can join them at the following link:</p>
		
            <p>
			
               <a class="web" href="http://www.fpml.org/lists/?p=subscribe&id=1" target="_blank" title="Link opens in new window.">Join a Working Group at FpML</a>
		
            </p>
		
            <p>A list of current FpML Recommendations and other technical documents can be found at </p>
		
            <p>
			
               <a class="web" href="http://www.fpml.org/spec" target="_blank" title="Link opens in new window.">http://www.fpml.org/spec</a>
		
            </p>
		
            <p>This document has been produced as part of the FpML 5.0 activity and is part of the Standards Approval Process.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.2">1.2 ORGANIZATION OF THE DOCUMENTATION</a>
               </h3>
            </div>
		
            <p>The FpML documentation is organized into a number of subsections.</p>
		
            <p>This section provides an overview of the specification.</p>
		
		
		
		
	
            <div>
               <h4>
                  <a id="s1.2.1">1.2.1 Schema Reference</a>
               </h4>
			
               <p>These are automatically generated reference documents detailing the contents of the various sections in the FpML schema.</p>
			
               <ul class="bulleted">
				
                  <li>Core Definitions:
					<ul class="bulleted">			
						
                        <li>
                           <a class="web" href="schemaRef/fpml-main-5-0.xsd.html" target="_blank" title="Link opens in new window.">Main Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-doc-5-0.xsd.html" target="_blank" title="Link opens in new window.">Doc Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html" target="_blank" title="Link opens in new window.">Shared Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-enum-5-0.xsd.html" target="_blank" title="Link opens in new window.">Shared Enumeration definitions</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html" target="_blank" title="Link opens in new window.">Asset Components</a>
                        </li>
					
                     </ul>
				
                  </li>
				
                  <li>Products:<ul class="bulleted">
					
						
                        <li>IRD<ul class="bulleted">
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-ird-5-0.xsd.html" target="_blank" title="Link opens in new window.">Interest Rate Components</a>
                              </li>	
							
                           </ul>
						
                        </li>
						
						
                        <li>CD<ul class="bulleted">
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-cd-5-0.xsd.html" target="_blank" title="Link opens in new window.">Credit Derivative Components</a>
                              </li>	
							
                           </ul>
						
                        </li>
						
                        <li>EQD<ul class="bulleted">
					 			
                              <li>
                                 <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html" target="_blank" title="Link opens in new window.">Equity Shared Components</a>
                              </li>
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html" target="_blank" title="Link opens in new window.">Equity Derivative Options Components</a>
                              </li>
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-return-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Return Swaps Components</a>
                              </li>
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-variance-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Variance Derivatives Swaps and Options Components</a>
                              </li>
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-correlation-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Correlation Derivatives Components</a>
                              </li>
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-dividend-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Dividend Derivatives Components</a>
                              </li>
							
                           </ul>
						
                        </li>
						
                        <li>Bond Options<ul class="bulleted">
				 				
                              <li>
                                 <a class="web" href="schemaRef/fpml-bond-option-5-0.xsd.html" target="_blank" title="Link opens in new window.">Bond Options Components</a>
                              </li>
							
                           </ul>
						
                        </li>
						
                        <li>Options shared<ul class="bulleted">
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html" target="_blank" title="Link opens in new window.">Options Shared Components</a>
                              </li>
							
                           </ul>
						
                        </li>
						
						
                        <li>Commodity<ul class="bulleted">
								
                              <li>
                                 <a class="web" href="schemaRef/fpml-com-5-0.xsd.html" target="_blank" title="Link opens in new window.">Commodity Derivative Components</a>
                              </li>
							
                           </ul>
						
                        </li>
						
						
						
					
                     </ul>
				
                  </li>
				
                  <li>Business Processes:
					<ul class="bulleted">
						
						
                        <li>
                           <a class="web" href="schemaRef/fpml-msg-5-0.xsd.html" target="_blank" title="Link opens in new window.">Messaging Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-msg-5-0.xsd.html_type_EventStatus.html" target="_blank" title="Link opens in new window.">Credit Event Notification Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-business-events-5-0.xsd.html" target="_blank" title="Link opens in new window.">Business Event Notification Components</a>
                        </li>
						
						
						
						
                        <li>
                           <a class="web" href="schemaRef/fpml-confirmation-processes-5-0.xsd.html" target="_blank" title="Link opens in new window.">Trade and Post-Trade Messaging Components</a>
                        </li>
						
						
						
                        <!--li>
                           <a class="web" href="schemaRef/fpml-mktenv-5-0.xsd.html" target="_blank" title="Link opens in new window.">Market Environment Data Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-riskdef-5-0.xsd.html" target="_blank" title="Link opens in new window.">Valuation and Sensitivity Results</a>
                        </li-->
					
			
                     </ul>	
		
                  </li>
		
                  <li>Reference:<ul class="bulleted">
				
                        <li>
                           <a class="web" href="fpml-5-0-index-frame.html" target="_blank" title="Link opens in new window.">Index and cross-reference of definitions</a>
                        </li>
				
                        <li>
                        	<a class="web" href="../../xml/confirmation_xml.zip">Schema and Example files</a> - Provides zip file with FpML schemas and examples. </li>				
			
                     </ul>
		
                  </li>
		
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.2.2">1.2.2 Other Documents in the Specification</a>
               </h4>
			
               <ul class="bulleted">
				
                  <li>
					
                     <a class="web" href="fpml-5-0-examples-frame.html" target="_blank" title="Link opens in new window.">Examples</a> - Provides sample FpML for each section.</li>
				
                  <li>
					
                     <a class="web" href="http://www.fpml.org/spec/coding-scheme/index.html" target="_blank" title="Link opens in new window.">Scheme Definitions</a> - Describes standard FpML schemes, and the values that they can take.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.2.3">1.2.3 Diagram Notation</a>
               </h4>
			
               <p>Most diagrams in this specification come from TIBCO's XML Turbo application which is used to batch generate the pictures in the documentation. The notation follows the pattern:</p>
			
               <ul class="bulleted">
				
                  <li>No bubble indicates a mandatory element or attribute</li>
				
                  <li>A '<b>?</b>' indicates an optional element or attribute</li>
				
                  <li>A '<b>*</b>' indicates an occurrence of zero or many</li>
				
                  <li>A '<b>+</b>' indicates an occurrence of one or many</li>
				
                  <li>A '<b>..</b>' bubble with numbers above and below indicates specific range</li>
				
                  <li>A '<b>1</b>' in a bubble indicates the presence of a nested sequence or choice group</li>
				
                  <li>Diagonal lines indicate a choice group (&lt; shape)</li>
				
                  <li>Non-diagonal lines indicate a sequence ([ shape)</li>
				
                  <li>A '<b>D</b>' in a bubble indicates an attribute with a default value</li>
			
               </ul>
			
               <p>
				
                  <a href="images/main/BaseType.jpg">
                     <img src="images/main/BaseType.jpg" alt="images/main/BaseType.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>
				
                  <a href="images/main/DerivedType.jpg">
                     <img src="images/main/DerivedType.jpg" alt="images/main/DerivedType.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.3">1.3 WORKING GROUP MEMBERS AND ACKNOWLEDGEMENTS</a>
               </h3>
            </div>
		
            <p>This document was produced by the following working groups:</p> 		
 


  		
 
  			  
 
            <div>
               <h4>
                  <a id="s1.3.1">1.3.1 Architecture Working Group</a>
               </h4>
			
               <ul class="bulleted">
				
                  <li>Andrew Jacobs (HandCoded Software), chair</li>
				
                  <li>Anthony B. Coates (Miley Watts)</li>
				
                  <li>Igor Dayen (Object Centric Solutions)</li>
				
                  <li>Daniel Dui (University College London)</li>
				
                  <li>Marc Gratacos (ISDA)</li>
				
                  <li>Simon Heinrich (IONA Technologies)</li>
				
                  <li>Lyteck Lynhiavu (ISDA)</li>
				
                  <li>Andrew Parry (JP Morgan Chase Bank)</li>
				
                  <li>Raj Patel (HSBC)</li>
				
                  <li>Henri Pegeron (MarkitSERV)</li>
				
                  <li>Matthew Rawlings (JP Morgan Chase Bank)</li>
				
                  <li>John Weir (Goldman Sachs)</li>
				
                  <li>Irina Yermakova (ISDA)</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.3.2">1.3.2 Business Process Working Group</a>
               </h4>
	
               <ul class="bulleted">
		
                  <li>Marc Gratacos (ISDA), chair</li>
		
                  <li>John Booth (Northern Trust)</li>
		
                  <li>Marie-Paule Dumont (SWIFT)</li>
		
                  <li>Lucio Iida (Barclays Global Investors)</li>
		
                  <li>Andrew Jacobs (HandCoded)</li>
		
                  <li>Pierre Lamy (Goldman Sachs)</li>
		
                  <li>Lyteck Lynhiavu (ISDA)</li>
		
                  <li>Brian Lynn (Global Electronic Markets)</li>
		
                  <li>Francoise Massin (SWIFT)</li>
		
                  <li>Matthew Rawlings</li>
		
                  <li>Steve Ross-Talbot (Hattrick Software)</li>
		
                  <li>Christian Unger (BBH)</li>
		
                  <li>Irina Yermakova (ISDA)</li>
	
               </ul>

            </div>
            <div>
               <h4>
                  <a id="s1.3.3">1.3.3 Validation Working Group</a>
               </h4>
	
               <ul class="bulleted">
		
                  <li>Andrew Jacobs (HandCoded Software), co-chair</li>
		
                  <li>Daniel Dui (Barclays Capital and UCL), co-chair</li>
		
                  <li>Mark Addison (Component Knowledge)</li>
		
                  <li>Jim Brous (Metro Solutions)</li>
		
                  <li>Andrew Dingwall-Smith (Message Automation)</li>
		
                  <li>Ivan Djurkin (BGI)</li>
		
                  <li>Marc Gratacos (ISDA)</li>
		
                  <li>Lyteck Lynhiavu (ISDA)</li>
		
                  <li>Christian Nentwich (Message Automation)</li>
		
                  <li>Matthew Rawlings (Standard Bank)</li>
		
                  <li>Irina Yermakova (ISDA)</li>
	
               </ul>

            </div>
            <div>
               <h4>
                  <a id="s1.3.4">1.3.4 IRD Products Working Group</a>
               </h4>
			
               <ul class="bulleted">
				
                  <li>Harry McAllister (BNP Paribas), chair</li>
				
                  <li>John Aldridge (JP Morgan Chase Bank)</li>
				
                  <li>Marc Gratacos (ISDA)</li>							
				
                  <li>Robert Green (DTCC)</li>
				
                  <li>Guy Gurden (Swapswire)</li>
				
                  <li>Pierre Lamy (Goldman Sachs)</li>
				
                  <li>Philippe Negri (Sungard)</li>
				
                  <li>Jamie Orme (Goldman Sachs)</li>
				
                  <li>Andrew Parry (JP Morgan Chase Bank)</li>
				
                  <li>Marty Ross-Trevor (Bank of Tokyo-Mitsubishi)</li>
				
                  <li>Marc Teichman (T-Zero)</li>
				
                  <li>Jeff Valentino (Bank of America)</li>
				
                  <li>Irina Yermakova (ISDA)</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.3.5">1.3.5 Credit Derivatives Working Group</a>
               </h4>
	
               <ul class="bulleted">
		
                  <li>Ben Lis (ICE), chair</li>
		
                  <li>Kathy Andrews (Bank of America)</li>
		
                  <li>Milla Bouklieva (Goldman Sachs)</li>
		
                  <li>Karel Engelen (ISDA)</li>
		
                  <li>Piers Evans (SwapsWire)</li>
		
                  <li>Marc Gratacos (ISDA)</li>
		
                  <li>Robert Green (DTCC)</li>
		
                  <li>Guy Gurden (SwapsWire)</li>
		
                  <li>Tony Kao (Goldman Sachs)</li>
		
                  <li>Lyteck Lynhiavu (ISDA)</li>
		
                  <li>Pierre Lamy (Goldman Sachs)</li>
		
                  <li>Anna Lukasiak (Goldman Sachs)</li>
		
                  <li>Andrew Parry (JPMorgan Chase Bank)</li>
		
                  <li>Henri Pegeron (MarkitSERV)</li>
		
                  <li>Mark Perry (Goldman Sachs)</li>
		
                  <li>Marc Teichman (T-Zero)</li>
		
                  <li>Irina Yermakova (ISDA)</li>
		
                  <li>Shel Xu (Goldman Sachs)</li>
	
               </ul>

            </div>
            <div>
               <h4>
                  <a id="s1.3.6">1.3.6 Equity Derivatives Working Group</a>
               </h4>
				
				
               <p>Voting Members</p>
				
               <ul class="bulleted">
					
                  <li>Andrew Parry (JP Morgan Chase Bank), Chair</li>
					
                  <li>Jasone Brasil (State Street)</li>
					
                  <li>James Clark (MarkItSERV)</li>
					
                  <li>Piers Evans (MarkIt)</li>
					
                  <li>Robert Green (DTCC)</li>
					
                  <li>Guy Gurden (MarkIt)</li>
					
                  <li>Shabbir Irfani (Goldman Sachs)</li>
					
                  <li>Rajan Khorana (Citadel Group)</li>
					
                  <li>Robert Masri (DTCC)</li>
					
                  <li>Coner Mongey</li>
					
                  <li>Bin Shen (Goldman Sachs)</li>
					
                  <li>Marc Teichman (T-Zero)</li>
				
               </ul>
				
				
               <p>Non-Voting Members</p>
				
               <ul class="bulleted">
					
                  <li>Takeo Asakura (MarkItSERV)</li>
					
                  <li>Oluwasegun Bewaji (University of Essex)</li>
					
                  <li>Jim Bonner (ML)</li> 
					
                  <li>Tom Brown (Omgeo)</li> 
					
                  <li>Jim Brous (Metro Solutions)</li> 
					
                  <li>Prashant Choudhary (Cognizant)</li> 
					
                  <li>Karel Engelen (ISDA)</li> 
					
                  <li>Philip Franz (Bank of America)</li> 
					
                  <li>Steve Goswell (Barclays Global)</li> 
					
                  <li>Marc Gratacos (ISDA)</li> 
					
                  <li>Vinod Jain (Headstrong)</li> 
					
                  <li>Lucio Iida (Barclays Global)</li> 
					
                  <li>Selma Laidoudi (MarkIt)</li> 
					
                  <li>Philip Leach (DTCC)</li> 
					
                  <li>Jianan Li (Citadel Group)</li> 
					
                  <li>Gaurav Makhija (Citadel Group)</li> 
					
                  <li>Mark Parris (UBS)</li> 
					
                  <li>Dharmender Rai</li>
					
                  <li>Matthew Rawlings</li>
					
                  <li>Sreedhar Segu (DTCC)</li>
					
                  <li>Alicia Szybillo (DTCC)</li>
					
                  <li>Sam Twum (Blue Tawny)</li>
					
                  <li>Chise Yamamoto (DTCC)</li>
					
                  <li>Irina Yermakova (ISDA)</li>
				
               </ul>
			
            </div>
            <div>
               <h4>
                  <a id="s1.3.7">1.3.7 Commodity Derivatives Working Group</a>
               </h4>
	
               <ul class="bulleted">
		
                  <li>Owen King (MarkitSERV), chair</li>
		
                  <li>Fatima Bentoumi (Barclays Capital)</li>
		
                  <li>Hugh Brunswick (EFET Net)</li>
		
                  <li>Piers Evans (Markit)</li>
		
                  <li>Luis Fierro (Deutsche Bank)</li>
		
                  <li>Jared Getz (Glencore)</li>
		
                  <li>Marc Gratacos (ISDA)</li> 
		
                  <li>Anupam Gupta (JP Morgan)</li>
		
                  <li>Raphael Iyageh (Goldman Sachs)</li> 
		
                  <li>Kiran Kodali (Citi)</li> 
		
                  <li>Lyteck Lynhiavu (ISDA)</li> 
		
                  <li>Jeffrey Magnuson (Goldman Sachs)</li>
		
                  <li>Peter Stockman (DTCC)</li>
		
                  <li>Digby Strong (JP Morgan)</li>
		
                  <li>Irina Yermakova (ISDA)</li>
	
               </ul>

            </div>
            <div>
               <h4>
                  <a id="s1.3.8">1.3.8 Pricing and Risk Working Group</a>
               </h4>
        
               <ul class="bulleted">
                
                  <li>Brian Lynn (Global Electronic Markets), chair</li>
                
                  <li>Michael Di Stefano (Integrasoft)</li>
                
                  <li>Amod Dixit (Standard Chartered Bank)</li>
                
                  <li>Marc Gratacos (ISDA)</li>
                
                  <li>Mahmood Hanif (Bank of America)</li>
                
                  <li>Pierre Lamy (Goldman Sachs)</li>
                
                  <li>Philippe Negri (Sungard)</li>
                
                  <li>Henrik Nilsson (TriOptima)</li>
	 
                  <li>Robert Stowsky (Progress)</li>
                
                  <li>Vlad Efroimson (Bank of America)</li>
                
                  <li>Irina Yermakova (ISDA)</li>
        
               </ul>

            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.4">1.4 FpML INTRODUCTION</a>
               </h3>
            </div>
		
            <p>The Financial Products Markup Language (FpML) is the industry standard enabling e-business activities in the field of financial derivatives and structured products. The development of the standard, controlled by ISDA (the International Swaps and Derivatives Association), will ultimately allow the electronic integration of a range of services, from electronic trading and confirmations to portfolio specification for risk analysis. All types of over-the-counter (OTC) derivatives will, over time, be incorporated into the standard.</p>
		
            <p>FpML is an application of XML, an internet standard language for describing data shared between computer applications.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.5">1.5 REQUESTED FEEDBACK</a>
               </h3>
            </div>
		
		
		
		
	
            <div>
               <h4>
                  <a id="s1.5.1">1.5.1 Messaging Framework</a>
               </h4>
			
               <p>The Messaging Task Force has defined a general pattern of messages (Request or Notification, Acknowledgement , Exception,  Retraction and optionally, Response/Status) to insure the consistent processes across trades and post-trade events, observable completion, consistent message correlation and retraction and consistent error reporting. The group has produced a schema representation aiming to cover the notifications in this business process, examples, and documentation. The FpML Standards Committee invites comments on these proposed materials including schemas, examples, and documentation.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s1.5.2">1.5.2 Revamped reporting view</a>
               </h4>
			
               <p>The Reporting/Regulatory Reporting Working Group has added some new fields to existing Valuation, Cash Flow Matching, Portfolio Reconciliation and Position Reporting reports  (Report level - includes more detail about what the report contains, like party, accounts, products, etc.; Position level - includes status and history information; Product level - asset class. The group also defined new reports such as Position Activity Report (on changes to position over a time period ), Event Activity Report (on new trades and post trade events over a time period), Reset Report (on index settings and the affected positions) and Entity/Party Report (on static reference data for parties) . The FpML Standards Committee invites comments on these proposed materials including schemas, examples, and documentation.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s1.5.3">1.5.3 Providing Feedback</a>
               </h4>
			
               <p>Comments on this document should be sent by filling in the form at the following link: <a class="web" href="http://www.fpml.org/issues" target="_blank" title="Link opens in new window.">
			http://www.fpml.org/issues
			</a>.</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.6">1.6 CHANGES IN THIS VERSION</a>
               </h3>
            </div>
	

            <div>
               <h4>
                  <a id="s1.6.1">1.6.1 Changes compared to FpML 5.0 Last Call Working Draft 2010-03-30</a>
               </h4>
		
               <ul class="bulleted">
			
			
                  <li>All areas:<ul class="bulleted">
				
                        <li>Synchronized content with FpML 4.8.</li>
				
                     </ul>
			
                  </li>
			
                  <li>Validation Rules:<ul class="bulleted">
				
                        <li>Converted validation rules' test cases for 5.0 Confirmation View.</li>
			
                     </ul>
			
                  </li>
			
			
                  <li>The following issues have been resolved: <ul class="bulleted">
					
                        <li>
						
                           <a class="web" href="http://www.fpml.org/issues/view.php?id=1010" target="_blank" title="Link opens in new window.">http://www.fpml.org/issues/view.php?id=1010</a>
					
                        </li>
				
                     </ul>
			
                  </li>
			
                  <p>View <a class="web" href="xml/changes.pdf" target="_blank" title="Link opens in new window.">PDF for details on schema changes</a>
                  </p>
			
                  <p>View <a class="web" href="validation-rules/changes.pdf" target="_blank" title="Link opens in new window.">PDF for details on validation rules changes</a>
                  </p>
		
               </ul>
	
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.7">1.7 SCOPE</a>
               </h3>
            </div>
		
            <p>The scope of FpML 5.0 includes broadened BusinessProcess/Messaging coverage and additional product support, specifically:</p> 
 
 
 		
 
 		
 
 		
 		
 
 

 
 
		
	
            <div>
               <h4>
                  <a id="s1.7.1">1.7.1 Architecture Framework</a>
               </h4>
	
               <p>The various Working Groups have developed FpML 5.0 within the <a class="web" href="http://www.fpml.org/spec/fpml-arch-3-0-lcwd-1/">FpML Architecture 3.0 Specification</a> defined by the Architecture Working Group. This document  defines that standards and principles on which the FpML grammatical definitions are based.</p>
	
               <p>The FpML Architecture 3.0 builds upon the earlier FpML Architecture specifications and the conventions of FpML 1.02b before that. The refinement of the FpML architecture is an evolutionary process bought about by changes in the XML technology upon which it is based and the requirements of the standard as its scope expands.</p>

            </div>
            <div>
               <h4>
                  <a id="s1.7.2">1.7.2 Business Process Scope</a>
               </h4>
	
               <p>The FpML Messaging Task Force group was formed to define a new messaging framework that insures consistent processes across trades and post-trade events, observable completion, consistent message correlation, consistent error reporting, consistent correction and retraction.</p>
	
               <p>Most of the FpML 5 business processes are “generic” processes that can apply to new trades and/or any post-trade events. This means that the message name indicates the business process (e.g. confirmation, execution notification, etc.) but not the type of event (e.g. trade, amendment, etc.). The payload of the message indicates the type of the event.</p>
	
               <p>The business processes currently supported include: </p>
	
	
	
               <p>To support these business processes, a number of messages have been defined. Please see the "Business Process Architecture" section for more information.</p>

               <div>
                  <h5>
                     <a id="s1.7.2.1">1.7.2.1 Generic processes:</a>
                  </h5>
		
		
		
	
                  <div>
                     <h5>
                        <a id="s1.7.2.1.1">1.7.2.1.1 Post-trade</a>
                     </h5>
			
                     <ul class="bulleted">
				
                        <li>Execution notification (for platforms to report order fills)</li>
				
                        <li>Execution advice (to report executions and settlement info to service providers)</li>
				
                        <li>Allocation (expanded for version 5)</li>
				
                        <li>Confirmation</li>
				
                        <li>Consent negotiation</li>
				
                        <li>Clearing (new for version 5)</li>
				
                        <li>Status reporting</li>
			
                     </ul>
		
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s1.7.2.2">1.7.2.2 Generic (Multi-Event) Flows</a>
                  </h5>
		
                  <p>All the processes described in this section are applied to the following events:</p>
		
                  <ul class="bulleted">
			
                     <li>trade</li>
			
                     <li>novation</li>
			
                     <li>increase</li>
			
                     <li>termination</li>
			
                     <li>amendment</li>
		
                  </ul>
	
               </div>
            </div>
            <div>
               <h4>
                  <a id="s1.7.3">1.7.3 Validation Scope</a>
               </h4>
	
               <p> The Validation Working Group provides semantic, or business-level validation rules for FpML 5.0. These validation rules, which are aimed at normalizing the use of elements within FpML, are issued as part of the FpML Specification in the validation section of this document. </p>
	
               <p> The validation working group publishes with its releases: </p>
	
               <ul class="bulleted">
		
                  <li>A set of rules described in English</li> 
		
                  <li>A technical description written in XQuery for each rule</li>
		
                  <li>Positive and negative test case documents for each rule</li>
		
                  <li>Non-normative reference implementations</li>
	
               </ul>
	
               <p> The current specification includes a set of rules for Interest Rate Derivatives, Equity Derivatives, Credit Derivatives, Loans, FX, and for shared components. The rules for the different asset classes will be further enhanced in future versions.</p>

            </div>
            <div>
               <h4>
                  <a id="s1.7.4">1.7.4 IRD Scope</a>
               </h4>
			
               <p>In FpML 5.0 Recommendation the following Interest Rate Derivative products are covered:</p>
			
               <ul class="bulleted">
				
                  <li>Single and Cross-Currency Interest Rate Swap</li>
				
                  <li>Forward Rate Agreement</li>
				
                  <li>Interest Rate Cap</li>
				
                  <li>Interest Rate Floor</li>
				
                  <li>Interest Rate Swaption (European, Bermuda and American Styles; Cash and Physical Settlement)</li>
				
                  <li>Extendible and Cancelable Interest Rate Swap Provisions</li>
				
                  <li>Mandatory and Optional Early Termination Provisions for Interest Rate Swaps</li>
				
                  <li>FX Resetable Cross-Currency Swap</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.7.5">1.7.5 Credit Derivatives Scope</a>
               </h4>
	
               <p>In FpML 5.0 Recommendation the following Credit Derivative products are covered:</p>
	
               <ul class="bulleted">
		
                  <li>Credit Default Swap</li>
		
                  <li>Standard Coupon Credit Default Swap</li>
		
                  <li>Credit Default Swap Index</li>
		
                  <li>Tranche on Credit Default Swap Index</li>
		
                  <li>Credit Default Swap Basket</li>
		
                  <li>Credit Default Swap on a Mortgage</li>
		
                  <li>Credit Default Swap on a Loan</li>
		
                  <li>Option on Credit Default Swap</li>
		
                  <li>Credit Event Notice</li>
	
               </ul>

            </div>
            <div>
               <h4>
                  <a id="s1.7.6">1.7.6 Equity Derivative Options and Forwards Scope</a>
               </h4>
			
               <p>The EQD Products Working Group has extended the FpML standard to cover the following Equity Derivative products</p>
			
               <ul class="bulleted">
				
                  <li>Broker Equity Options;</li> 
				
                  <li>Long Form Equity Forwards;</li> 
				
                  <li>Long Form Equity Options;</li> 
				
                  <li>Short Form Equity Options represented as Transaction Supplements under ISDA Master Confirmation Agreements.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.7.7">1.7.7 Return Swaps Scope</a>
               </h4>
	
               <p>FpML provides generic Return Swaps support including "long form" Equity Swap representations, as well as Total Return Swaps. A separate product element called equitySwapTransactionSupplement supports "short form" Equity Swap Transaction Supplement.</p>
	
               <p>Return-type Swaps have 1-to-many Legs, all of which must be derived from the ReturnSwapLeg type. Instances of Legs are returnLeg, interestLeg. Other Leg types may be derived from ReturnSwapLeg at will, to allow for private extensions to support whatever type of Generic Return Swap is desired.</p>
	
               <p>The scope of this FpML representation for return swaps is to capture the following types of swaps that have equity-related underlyers:</p>
	
               <ul class="bulleted">
		
                  <li>Single stock swaps as well as basket swaps (i.e. swaps with multiple underlyers);</li>
		
                  <li>Swaps that have a different types of underlying assets (equity, index, mutual funds, exchange-traded funds, convertible bond, futures), or a combination of these;</li>
		
                  <li>2-legged swaps with a combination of an equity leg and a funding leg, as well as swaps that either have only one leg (e.g. fully funded or zero-strike swap) or multiple equity legs (e.g. outperformance swaps);</li>
		
                  <li>Total Return Swaps, a type of swap in which one party (total return payer) transfers the total economic performance of a reference obligation to the other party (total return receiver).</li>
		
                  <li>Swaps that have specific adjustment conditions, such as execution swaps or portfolio rebalancing swaps;</li>
		
                  <li>Swaps that involve the exchange of principal cashflows;</li>
		
                  <li>Swaps that have inital and final stubs;</li>
		
                  <li>Swaps which can be represented as Transaction Supplements under ISDA Master Agreements;</li>
	
               </ul>
	
               <p>Extraordinary Events terms have been incorporated, to take into consideration the release of the 2002 ISDA Definitions for Equity Derivatives.</p>
	
               <p>Trigger swaps, in which equity risk morphs into a fixed income risk once a certain market level is reached, may be supported in a subsequent release.</p>

            </div>
            <div>
               <h4>
                  <a id="s1.7.8">1.7.8 Correlation Derivatives Scope</a>
               </h4>
			
               <p>The Equity Derivative Working Group extended FpML to cover:</p>
			
               <ul class="bulleted">
				
                  <li>Correlation Swaps</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.7.9">1.7.9 Variance Derivatives Scope</a>
               </h4>
			
               <p>The Equity Derivative Working Group extended FpML to cover:</p>
			
               <ul class="bulleted">
				
                  <li>Variance Swaps, a type of volatility swap where the payout is linear to variance rather than volatility, therefore the payout will rise at a higher rate than volatility;</li>
				
                  <li>Short Form Variance Options represented also as Transaction Supplements under ISDA Master Confirmation Agreements.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s1.7.10">1.7.10 Dividend Derivatives Scope</a>
               </h4>
	
               <p>The Equity Derivative Working Group extended FpML to cover:</p>
    
               <ul class="bulleted">
        
                  <li>Dividend Swap Transaction Supplement</li>
    
               </ul>

            </div>
            <div>
               <h4>
                  <a id="s1.7.11">1.7.11 Commodity Derivative Product Scope</a>
               </h4>
	
               <p>The Commodities Working Group will extend the FpML standard to include trade types and products for the OTC commodities markets, following the structure and coverage of the 2005 ISDA Commodity Definitions. The following are included in version 5-0:</p>
	
               <ul class="bulleted">
		
                  <li>Support for financially settled swaps, options and spreads </li>
		
                  <li>Support for physically-settled swaps/forwards, options</li>
		
                  <li>Natural Gas, Oil, Electricity, Coal as the underlying Commodity product</li>
	
               </ul>
	
               <p>Business Process is including Confirmations, Valuations, Reporting</p>

            </div>
            <div>
               <h4>
                  <a id="s1.7.12">1.7.12 Pricing and Risk Scope</a>
               </h4>
        
               <p>The Pricing and Risk scope for FpML 5.0 Recommendation is:</p>
        
               <p>Valuation and basic risk on the following products:</p>
        
               <ul class="bulleted">
                
                  <li>Vanilla IR Swaps (single and dual currency fix/float swaps, non-CMS/CMT) <ul class="bulleted">
                                
                        <li>Valuation reporting (trades only)</li>
                                
                        <li>Market Data (Yield Curves, FX spot rates) </li>
                                
                        <li>Market risk reporting (Delta Risk vs. Curve Inputs, FX
                                        exposures) for trades</li>
                        
                     </ul>
                
                  </li>
                
                  <li>Credit Default Swaps <ul class="bulleted">
                                
                        <li>Valuation reporting for trades</li>
                                
                        <li>Market Data (ir curves, credit spread, recovery rate,
                                        probability of default)</li>
                                
                        <li>Market risk reporting (risk with respect to. the above
                                        variables) for trades</li>
                        
                     </ul>
                
                  </li>
                
                  <li>IR Caps/Floors/ EuropeanSwaptions, and corresponding risk types <ul class="bulleted">
                                
                        <li>Valuation reporting for trades</li>
                                
                        <li>Market data (volatility surfaces)</li>
                                
                        <li>Market risk reporting <ul class="bulleted">
                                                
                              <li>Volatility/Vega Risk</li>
                                                
                              <li>Convexity/Gamma Risk (applies to all products)</li>
                                                
                              <li>Time Decay/Theta (applies to all products)</li>
                                        
                           </ul>
                                
                        </li>
                        
                     </ul>
                
                  </li>
                
                  <li>Portfolio level valuation and risk <ul class="bulleted">
                                
                        <li>Valuation</li>
                                
                        <li>Risk reporting</li>
                        
                     </ul>
                
                  </li>
        
               </ul>
        
               <p>The Pricing and Risk Working Group has also provided some definitions that might
                be useful for other types of valuation and risk reporting.</p>

            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.8">1.8 CHARACTER ENCODING AND CHARACTER REPERTOIRE</a>
               </h3>
            </div>
		
		
	
            <div>
               <h4>
                  <a id="s1.8.1">1.8.1 Character Encoding</a>
               </h4>
			
               <p>Producers of FpML documents intended for interchange with other parties must encode such documents using either UTF-8 or UTF-16. Consumers of FpML documents must be able to process documents encoded using UTF-8, as well as documents encoded using UTF-16. For more information, see </p>
			
               <p>
				
                  <a class="web" href="http://www.w3.org/TR/REC-xml#charencoding" target="_blank" title="Link opens in new window.">http://www.w3.org/TR/REC-xml#charencoding</a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s1.8.2">1.8.2 Character Repertoire</a>
               </h4>
			
               <p>Unrestricted FpML elements may use any valid XML characters. For more information, see</p>
			
               <p>
				
                  <a class="web" href="http://www.w3.org/TR/REC-xml#charsets" target="_blank" title="Link opens in new window.">http://www.w3.org/TR/REC-xml#charsets</a>
			
               </p>
			
               <p>Certain elements and attributes (such as scheme URIs) are defined with more restrictive types, such as xsd:normalizedString, xsd:token, or xsd:anyURI. For these types, please see the relevant data type definition in the XML Schema datatypes specification:</p>
			
               <p>
				
                  <a class="web" href="http://www.w3.org/TR/xmlschema-2" target="_blank" title="Link opens in new window.">http://www.w3.org/TR/xmlschema-2/</a>
			
               </p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s1.9">1.9 TOOLS AND VALIDATION</a>
               </h3>
            </div>
		
	
            <div>
               <h4>
                  <a id="s1.9.1">1.9.1 Schema and Example Validation</a>
               </h4>
			
               <p>The schema files and examples in this document have been validated with XercesJ (v.2.2.1 and v.2.6.2) and HandCoded's Toolkit for FpML Processing (version Java 1.1 Alpha 2).</p>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s2">2 FpML OVERVIEW</a>
            </h2>
         </div>
	
	
	
	
	
	
	
	
	

         <div>
            <h3>
               <a id="s2.1">2.1 FpML</a>
            </h3>
		
            <p>FpML is designed based on a number of key principles and conventions. Some of these include:</p>
		
            <ul class="bulleted">
			
               <li>Use XML's structuring ability to create reusable building blocks.</li>
			
               <li>Follow naming and structuring conventions to create a more consistent XML appearance.</li>
			
               <li>Where possible, share definitions across products and asset classes.</li>
			
               <li>Minimize evolution in instance documents from version to version.</li>
		
            </ul>
		
            <p>Although these basic principles have consistently been observed, over the life of the specification there has been some evolution in the details, and as a result there have been some changes in the appearance of FpML. A number of these changes have been introduced to take advantage of the power created by XML schema. The original version of the FpML Architecture is located at <a class="web" href="http://www.fpml.org/spec/2001/rec-fpml-1-0-2001-05-14/">FpML Architecture 1.0</a>. The latest version of the FpML architecture principles is described in detail in the <a class="web" href="http://www.fpml.org/spec/fpml-arch-3-0-lcwd-1/"> FpML Architecture 3.0</a>. That document discusses how to create and extend FpML definitions.</p>
		
            <p>The remainder of this section is intended to describe how the architecture principles were applied in developing FpML, and how to use the resulting spec. Please see the end of this section for a fuller explanation of the motivation for the FpML design approach.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.2">2.2 Overview of FpML views</a>
               </h3>
            </div>
		
            <p>With FpML 5-0 , FpML has been divided into several very closely related schemas to better support different types of business processes.  Each of these schemas, called a "view", has a distinct namespace and element and type definitions.  However, each view is built from the same source schema, and so shares a number of features, such as element names.</p>
		
            <p>The following features are the SAME across all views:</p>
		
            <ul class="bulleted">
			
               <li>Element names</li>
			
               <li>Type names</li>
			
               <li>Product names</li>
			
               <li>Available product features, and the representation of those features</li>
			
               <li>The FpML version</li>
		
            </ul>
		
            <p>The following features are DIFFERENT in different views:</p>
		
            <ul class="bulleted">
			
               <li>The intended usage of the standard, i.e. the types of business processes that it will be used for</li>
			
               <li>The list of available business processes and messages</li>
			
               <li>The "cardinality" of elements within a product or message (i.e. whether they are mandatory or optional)</li>
			
               <li>The exact list of supported products (may differ from view to view)</li>
			
               <li>The namespace</li>
			
               <li>The list of non-product features that are supported</li>
		
            </ul>
		
            <p>In FpML 5-0, the list of supported views includes:</p>
		
            <ul class="bulleted">
			
			
               <li>
                  <b>Reporting</b>:  This view is intended to be used for reporting trading and business activities and positions (including as part of STP flows), as well as processes such as reconciliation. This view has a moderately loose product representation; it requires key economic information such as the notional, key dates, and parties, but leaves other information optional.</li>
			
               <li>
                  <b>Confirmation</b>:  This view is intended to be used for confirming the precise details of contracts and post-trade business events. This view is intended to have similar charactistics to the FpML versions 1-4 product representation, i.e. a very detailed product representation capturing the details needed for a transaction confirmation.</li>
		
            </ul>
		
		
            <p>The <b>rationale</b> for the concept of "views" is to provide a consistent representation of key information across many types of business process, while allowing the set of mandatory and optional data to vary between processes.  For example, when a firm reporting on an interest rate swap it may not provide information such as: payment date and reset date definitions on the floating side, or the business day adjustments that were used, etc.  However, all of these pieces of information are crucial for confirming that swap once it is traded.  So for confirmation view we want these pieces of information to be mandatory, while they are optional for pre-trade view.</p>
		
            <p>A present, the concept of views is implemented as follows:</p>
		
            <ul class="bulleted">
			
               <li>A single "master" schema is maintained for all views</li>
			
               <li>This master schema includes a number of annotations using a simple syntax for overriding specific items (typically cardinalities) for a specific view.</li>
			
               <li>The published schema for each view is generated using an XSLT processing script from the master schema.</li>
			
               <li>ISDA publishes a separate schema and set of examples for each view.</li>
		
            </ul>
		
		
            <p>In the reporting view, a firm reporting on an interest rate swap may provide the following elements:</p>
		
            <ul class="bulleted">
			
               <li>Streams for both the fixed and floating sides.</li>
			
               <li>Streams for both the fixed and floating sides.</li>
			
               <li>The absolute effective and termination dates.</li>
			
               <li>The payer and receiver party references for both sides.</li>
			
               <li>Calculation frequencies for both sides.</li>
			
               <li>The notional that was traded.</li>
			
               <li>The day count fraction on each stream.</li>
		
            </ul>
		
            <p>Thus, the FpML for reporting on a 5-year USD-LIBOR-3M swap may look something as follows:</p>
		
            <pre>
		&lt;swap&gt;
			&lt;productType&gt;InterestRateSwap&lt;/productType&gt;
				&lt;assetClass&gt;InterestRates&lt;/assetClass&gt;
					&lt;swapStream&gt;
						&lt;payerPartyReference href="hedge_global"/&gt;
						&lt;calculationPeriodDates id="floatingCalcPeriodDates"&gt;
							&lt;effectiveDate&gt;
								&lt;adjustedDate&gt;2009-08-04Z&lt;/adjustedDate&gt;
							&lt;/effectiveDate&gt;
							&lt;terminationDate&gt;
								&lt;adjustedDate&gt;2021-03-01Z&lt;/adjustedDate&gt;
							&lt;/terminationDate&gt;
						&lt;/calculationPeriodDates&gt;
						&lt;calculationPeriodAmount&gt;
							&lt;calculation&gt;
								&lt;notionalSchedule&gt;
									&lt;notionalStepSchedule&gt;
										&lt;initialValue&gt;623161.01&lt;/initialValue&gt;
										&lt;step&gt;
											&lt;stepDate&gt;2009-09-01&lt;/stepDate&gt;
											&lt;stepValue&gt;617840.01&lt;/stepValue&gt;
										&lt;/step&gt;
										&lt;!-- .... intermediate values removed --&gt;
										&lt;step&gt;
											&lt;stepDate&gt;2021-01-01&lt;/stepDate&gt;
											&lt;stepValue&gt;9792.01&lt;/stepValue&gt;
										&lt;/step&gt;
										&lt;step&gt;
											&lt;stepDate&gt;2021-02-01&lt;/stepDate&gt;
											&lt;stepValue&gt;5486.01&lt;/stepValue&gt;
										&lt;/step&gt;
										&lt;currency&gt;USD&lt;/currency&gt;
									&lt;/notionalStepSchedule&gt;
								&lt;/notionalSchedule&gt;
								&lt;floatingRateCalculation&gt;
									&lt;floatingRateIndex&gt;USD-LIBOR-BBA&lt;/floatingRateIndex&gt;
									&lt;indexTenor&gt;
										&lt;periodMultiplier&gt;1&lt;/periodMultiplier&gt;
										&lt;period&gt;M&lt;/period&gt;
									&lt;/indexTenor&gt;
									&lt;spreadSchedule&gt;
										&lt;initialValue&gt;3.40&lt;/initialValue&gt;
									&lt;/spreadSchedule&gt;
								&lt;/floatingRateCalculation&gt;
								&lt;dayCountFraction&gt;ACT/360&lt;/dayCountFraction&gt;
							&lt;/calculation&gt;
						&lt;/calculationPeriodAmount&gt;
					&lt;/swapStream&gt;
					&lt;swapStream&gt;
						&lt;receiverPartyReference href="hedge_global"/&gt;
						&lt;calculationPeriodAmount&gt;
						&lt;calculation&gt;
						&lt;notionalSchedule&gt;
							&lt;notionalStepSchedule&gt;
								&lt;initialValue&gt;623161.01&lt;/initialValue&gt;
								&lt;step&gt;
									&lt;stepDate&gt;2009-09-01&lt;/stepDate&gt;
									&lt;stepValue&gt;617840.01&lt;/stepValue&gt;
								&lt;/step&gt;
								&lt;!-- .... intermediate values removed --&gt;
								&lt;step&gt;
									&lt;stepDate&gt;2021-01-01&lt;/stepDate&gt;
									&lt;stepValue&gt;9792.01&lt;/stepValue&gt;
								&lt;/step&gt;
								&lt;step&gt;
									&lt;stepDate&gt;2021-02-01&lt;/stepDate&gt;
									&lt;stepValue&gt;5486.01&lt;/stepValue&gt;
								&lt;/step&gt;
								&lt;currency&gt;USD&lt;/currency&gt;
							&lt;/notionalStepSchedule&gt;
						&lt;/notionalSchedule&gt;
						&lt;fixedRateSchedule&gt;
							&lt;initialValue&gt;0.0711&lt;/initialValue&gt;
						&lt;/fixedRateSchedule&gt;
						&lt;dayCountFraction&gt;ACT/360&lt;/dayCountFraction&gt;
					&lt;/calculation&gt;
				&lt;/calculationPeriodAmount&gt;
			&lt;/swapStream&gt;
		&lt;/swap&gt;
                              </pre>
               	
            <p>In confirmation view, a firm confirming a swap would include, in addition to the above, the following elements:</p>
		
            <ul class="bulleted">
			
               <li>Date adjustments.</li>
			
               <li>Payment date definitions.</li>
			
               <li>Reset date definitions on the floating side.</li>
		
            </ul>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.3">2.3 Overview of the organization of the master schema</a>
               </h3>
            </div>
		
            <p>FpML is divided into several sub-schema files, which organize the definitions into smaller and more maintainable building blocks. These building blocks include:</p>
		
            <ul class="bulleted">
			
               <li>Core Definitions:
				<ul class="bulleted">
					
                     <li>All Views
						<ul class="bulleted">
							
                           <li>
                              <b>fpml-main-5-0.xsd</b> - Root definitions.</li>
							
                           <li>
                              <b>fpml-doc-5-0.xsd</b> - Trade definitions and definitions relating to validation.</li>
							
                           <li>
                              <b>fpml-shared-5-0.xsd</b> - Shared definitions used widely throughout the specification. These include items such as base types, shared financial structures, etc.</li>
							
                           <li>
                              <b>fpml-enum-5-0.xsd</b> - Shared enumeration definitions. These definitions list the values that enumerated types may take.</li>
							
                           <li>
                              <b>fpml-asset-5-0.xsd</b> - Underlyer definitions plus some types used by them (e.g. ones relating to commissions or dividend payouts).</li>
						
                        </ul>
					
                     </li>
				
                  </ul>
			
               </li>
			
               <li>Products:<ul class="bulleted">
				
                     <li>All Views<ul class="bulleted">
						
                           <li>IRD<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-ird-5-0.xsd</b> - Interest rate derivative product definitions.</li>	
							
                              </ul>
						
                           </li>
						
						
                           <li>CD<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-cd-5-0.xsd</b> - Credit derivative product definitions.</li>	
							
                              </ul>
						
                           </li>
						
                           <li>EQD<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-eq-shared-5-0.xsd</b> - Definitions shared by types with Equity Underlyers.</li>
								
                                 <li>
                                    <b>fpml-eqd-5-0.xsd</b> - Equity Option and Equity Forward Product Definitions.</li>
								
                                 <li>
                                    <b>fpml-return-swaps-5-0.xsd</b> - Return Swaps Product Definitions.</li>
								
                                 <li>
                                    <b>fpml-variance-swaps-5-0.xsd</b> - Variance Swap and Variance Option Product Definitions.</li>
								
                                 <li>
                                    <b>fpml-correlation-swap-5-0.xsd</b> - Correlation Swap Product Definitions.</li>
								
                                 <li>
                                    <b>fpml-dividend-swap-5-0.xsd</b> - Dividend Swap Product Definitions.</li>
							
                              </ul>
						
                           </li>
						
                           <li>Bond Options<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-bond-option-5-0.xsd</b> - Bond and Convertible Bond Options Product Definitions.</li>
							
                              </ul>
						
                           </li>
						
                           <li>Options shared<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-option-shared-5-0.xsd</b> - Shared option definitions used for defining the common features of options.</li>
							
                              </ul>
						
                           </li>
						
						
                           <li>Commodity<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-com-5-0.xsd</b> - Commodity Swap and Commodity Option Derivative Poduct Definitions.</li>
							
                              </ul>
						
                           </li>
						
					
                        </ul>
				
                     </li>	
				
                     <li>Reporting View<ul class="bulleted">
						
                           <li>Generic<ul class="bulleted">
								
                                 <li>
                                    <b>fpml-generic-5-0.xsd</b> - Non Schema Product elements and types Definitions.</li>
							
                              </ul>
						
                           </li>
					
                        </ul>
				
                     </li>
				
                  </ul>
			
               </li>
			
               <li>Business Processes:
				<ul class="bulleted">
					
                     <li>All Views<ul class="bulleted">
							
                           <li>
                              <b>fpml-msg-5-0.xsd</b> - Definitions related to messaging and workflow. </li>
							
                           <li>
                              <b>fpml-credit-event-notification-5-0.xsd</b> - Credit event notification components</li>
							
                           <li>
                              <b>fpml-business-events-5-0.xsd</b> - Business event notification components, such as creation of a trade, amendment, increase, termination and novation.</li>
						
                        </ul>	
					
                     </li>
					
					
                     <li>Confirmation View<ul class="bulleted">
							
                           <li>
                              <b>fpml-confirmation-processes-5-0.xsd</b> - Definitions of trade and post-trade messaging components such as execution, execution advice, trade change, consent negotiation, confirmation, clearing and allocation.</li>
						
                        </ul>	
					
                     </li>
					
                     <li>Reporting View<ul class="bulleted">
							
                           <li>
                              <b>fpml-reconciliation-5-0.xsd</b> - Cash flow matching and portfolio reconciliation messaging components</li>
							
                           <li>
                              <b>fpml-reporting-5-0.xsd</b> - Definitions of reporting messaging components such as position activity report , event activity report and reset report.</li>
							
                           <li>Pricing and Risking:<ul class="bulleted">
									
                                 <li>
                                    <b>fpml-valuation-5-0.xsd</b> – Valuation result sets and related definitions.</li>
									
                                 <li>
                                    <b>fpml-mktenv-5-0.xsd</b> – Definitions of market environment data structures such as yield curves, volatility matrices, and the like. </li>
									
                                 <li>
                                    <b>fpml-riskdef-5-0.xsd</b> – Definitions of valuation and sensitivity results. They include detailed definitions of sensitivity calculations and are intended to be used by sophisticated users.</li>
								
                              </ul>
							
                           </li>
						
                        </ul>	
					
                     </li>
				
                  </ul>
			
               </li>
		
            </ul>
		
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.4">2.4 Overview of Document Types</a>
               </h3>
            </div>
		
            <p>An FpML document can be either of two categories:</p>
		
            <ul class="bulleted">
			
               <li>A DataDocument is a document that contains only data, such as trades, parties, and portfolios. This structure is very similar to an FpML version 3 and 4 document. The DataDocument type is provided for those who do not wish to use FpML messaging features.</li>
			
               <li>A Message is a document that contains a message header and data elements specific to that message. In fact, an FpML message will always be of a more specific type derived from Message, such as "RequestTradeStatus". To learn more about FpML messaging, please see the Business Process section of this specification.</li>
		
            </ul>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.5">2.5 Using FpML</a>
               </h3>
            </div>
		
            <p>Before beginning to use FpML, an architect must answer several questions:</p>
		
            <ul class="bulleted">
			
               <li>How will the FpML be used? Is it primarily a messaging application, or primarily a data storage and retrieval application?</li>
			
               <li>If it is a messaging application, is there an existing workflow format that is used to coordinate interactions between the entities exchanging messages, or is a new one required?</li>
			
               <li>Will the FpML be used within a single institution, or across a number of institutions?</li>
			
               <li>What asset classes of products will be required?</li>
			
               <li>Will there need to be local data or product extensions?</li>
			
               <li>Are there any other XML schemas or DTDs the FpML needs to interact with?</li>
		
            </ul>
		
            <p>If the application requires a new messaging layer, particularly if it will be used between institutions, the FpML messaging layer is recommended. If the application is primarily a data storage and retrieval application, the DataDocument type is available. For example, to store trades in an XML trade archive, and then retrieve them for a display or to generate, say, a confirmation, the DataDocument format will likely be sufficient. To implement a trade matching service between institutions, you should use the messaging layer. </p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.6">2.6 The FpML root element</a>
               </h3>
            </div>
		
            <p>
			
               <a href="images/main/dataDocument.png">
                  <img src="images/main/dataDocument.png" alt="images/main/dataDocument.png" class="image"/>
               </a>
		
            </p>
		
            <p>In FpML 5.0, there is a different root element for each different message or document type.  For example, a message to request that a novation be confirmed begins "&lt;requestNovationConfirmation&gt; ...", while a Data Document begins "&lt;dataDocument&gt; ...".  Each different root element defines a structure that corresponds to the business requirements of that message or document.</p>
		
            <p>The following short example illustrates this, using a "Request Quote" message from the pre-trade view:</p>

            <pre>
&lt;requestQuote 
	fpmlVersion="5-0" 
	xmlns="http://www.fpml.org/FpML-5-0/pretrade" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://www.fpml.org/FpML-5-0/pretrade ../fpml-main-5-0.xsd"&gt;
  &lt;header&gt;
    &lt;messageId messageIdScheme="http://www.fpml.org/msg-id"&gt;123&lt;/messageId&gt;
    &lt;sentBy&gt;DEF&lt;/sentBy&gt;
    &lt;sendTo&gt;ABC&lt;/sendTo&gt;
    &lt;creationTimestamp&gt;2007-04-02T15:38:00-00:00&lt;/creationTimestamp&gt;
  &lt;/header&gt;
  &lt;creditDefaultSwap&gt;
    &lt;!-- details omitted --&gt;
  &lt;/creditDefaultSwap&gt;
&lt;/requestQuote&gt;
			</pre>

		
            <p>The simplest FpML document is a "DataDocument" (root='dataDocument'). This is similar to an FpML 3.0 document, and is described in the next section.</p>
		
            <p>The FpML root element contains attributes that specify the FpML version (fpmlVersion='5-0' for FpML 5.0), the schema name and location, the namespace, and related properties.  The "version" attribute from previous FpML versions has been renamed to "fpmlVersion" to provide an unambiguous indicator of the beginning of the FpML document that is not reliant on namespaces.  Each different view has a different namespace. See the Architecture 2.1 specification for more details on this.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.7">2.7 Annotations</a>
               </h3>
            </div>
		
            <p>Since version 4.3, the FpML Schema has included a set of eCore annotations. These annotations improve the existing model by providing additional information that W3C Schema is not able to represent.</p>
		
	
            <div>
               <h4>
                  <a id="s2.7.1">2.7.1 eCore</a>
               </h4>
			
               <p>eCore is part of the <a class="web" href="http://www.eclipse.org/emf/">Eclipse Modelling Framework</a>. This is the modelling technology Eclipse based on a subset of UML.</p>
			
               <p>eCore annotations add back the model information missing from XML Schema, specifically:</p>
			
               <ul class="bulleted">
				
                  <li>The type of IDREFs</li>
				
                  <li>Canonical namespace prefix</li>
				
                  <li>Package names</li>
				
                  <li>Root documents</li>
			
               </ul>
			
               <p>In terms of implementation, the FpML Schema root element includes these additional attributes:</p>
			
               <ul class="bulleted">
				
                  <li>the eCore namespace: xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore"</li>
				
                  <li>the canonical namespace prefix: ecore:nsPrefix="fpml"</li>
				
                  <li>the package name: ecore:package="org.fpml"</li>
				
                  <li>the root element: ecore:documentRoot="FpML"</li>
			
               </ul>
			
               <p>In addition, the ecore annotations specify the specific target of an href attribute:</p>
			
               <pre>
&lt;xsd:complexType name="AccountReference"&gt;
	&lt;xsd:annotation&gt;
		&lt;xsd:documentation xml:lang="en"&gt;Reference to an account.&lt;/xsd:documentation&gt;
	&lt;/xsd:annotation&gt;
	&lt;xsd:attribute name="href" type="xsd:IDREF" use="required" ecore:reference="Account"/&gt;
&lt;/xsd:complexType&gt;
				</pre>
			
               <p>Benefits of eCore annotations include:</p>
			
               <ul class="bulleted">
				
                  <li>FpML controls the object oriented models built from FpML</li>
				
                  <li>The same OO model is shared, which is good for interoperability</li>
				
                  <li>Modelling use now work with FpML</li>
				
                  <li>Developers who can't unerstand XML Schema, can understand UML</li>
				
                  <li>The FpML Schema is still valid and XML Schema tools are unaffected</li>
			
               </ul>
			
               <p>More details about eCore annotations are available at: http://www.eclipse.org/modeling/emf/docs/overviews/XMLSchemaToEcoreMapping.pdf </p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.8">2.8 Main Components</a>
               </h3>
            </div>
		
            <p>There are a set of elements in FpML that are used across the different message types. These include elements such as trades, portfolios, events and parties.</p>
		
		
		
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s2.8.1">2.8.1 The DataDocument type</a>
               </h4>
			
               <p>As mentioned above, the structure of the FpML document depends on the "type" attribute. The simplest FpML document is a "DataDocument", which is similar to an FpML 3.0 document. The DataDocument is used to represent static data. A DataDocument looks like this:</p>
			
               <a href="images/main/dataDocument.png">
                  <img src="images/main/dataDocument.png" alt="images/main/dataDocument.png" class="image"/>
               </a>
			
               <p>It contains:</p>
			
               <ul class="bulleted">
				
                  <li>Optional validation rules identification</li>
				
                  <li>A trade or trades</li>
				
                  <li>A portfolio or portfolios. Portfolios contain only trade references, if the trades themselves need to be included in the document then the trades can be included within the root element.</li>
				
                  <li>An event or events</li>
				
                  <li>A party or parties</li>
			
               </ul>
			
               <p>Since the introduction of event in FpML 4.1, the content of "DataDocument" was constraint using "xsd:choice" to reduce the number of permutations between the different elements.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s2.8.2">2.8.2 The Trade Component</a>
               </h4>
			
               <p>The trade is typically a top-level component within an FpML root element. A trade is an agreement between two parties to enter into a financial contract and the trade component in FpML contains the information necessary to execute and confirm that trade. </p>
			
               <a href="images/main/Trade.jpg">
                  <img src="images/main/Trade.jpg" alt="images/main/Trade.jpg" class="image"/>
               </a>
			
			
			
			
			
			
			
			
		
               <div>
                  <h5>
                     <a id="s2.8.2.1">2.8.2.1 tradeHeader</a>
                  </h5>
				
                  <p>The information within tradeHeader is common across all types of trade regardless of product. In FpML 5.0 this element contains the trade date and party trade identifiers, as well as party-specific trade information.</p>
				
                  <a href="images/main/TradeHeader.jpg">
                     <img src="images/main/TradeHeader.jpg" alt="images/main/TradeHeader.jpg" class="image"/>
                  </a>
				
			
                  <div>
                     <h5>
                        <a id="s2.8.2.1.1">2.8.2.1.1 Primary Trade Identifier</a>
                     </h5>
					
                     <p>In FpML, there is no notion of primary trade or contract identifier. Trade identification is meaningful within the context of a party. That’s why the partyTradeIdentifier structure contains a partyReference element referencing a party. Within the structure, multiple tradeId or versionedTradeId elements can be specified. This is useful for allowing organizations with multiple systems, each one of them generating one or multiple trade identifiers, to be able to record that in the FpML message. Each system is identified by a unique value in the tradeIdScheme attribute.</p>
					
                     <pre>
&lt;partyTradeIdentifier&gt;
	&lt;partyReference href="INVM1"/&gt;
  	&lt;versionedTradeId&gt;
		&lt;tradetId contractIdScheme="http://www.investmentmgm.com/coding-scheme/trade-id"&gt;CDI290204&lt;/tradetId&gt;
        		&lt;version&gt;1&lt;/version&gt;
    	&lt;/versionedTradetId&gt;
    	&lt;versionedTradeId&gt;
        		&lt;tradeId tradeIdScheme=”valuation-system/trade-id”&gt;VS3456332&lt;/tradeId&gt;
        		&lt;version&gt;1&lt;/version&gt;
	&lt;/versionedTradeId&gt;
&lt;/partyTradeIdentifier&gt;
                                        </pre>
					
                     <p>In order to be able to process trade identification information, in absense of a central system, participants should decide on how to store the identification information of the trade:</p>
					
                     <ul class="bulleted">
						
                        <li>Recipients may choose to process all trade identifers and sources sent in a message and their relationship so in subsequent messages, the sender may send only one of the previous identifiers and the recipient may still be able to identify the trade.</li>
						
                        <li>Recipients may choose to process a single trade identifier. In that case, participants must agree which system source is relevant, and ignore the others. Participants must exchange the tradeIdScheme values that are going to be relevant for processing. In the example above, the recipient may keep the trade id of ‘http://www.investmentmgm.com/coding-scheme/trade-id’ and ignore the other trade id.</li>
					
                     </ul>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.2">2.8.2.2 product</a>
                  </h5>
				
                  <p>Product is an abstract concept in FpML and an actual product element is not used. Instead, one of the FpML products will appear directly under trade.</p>
				
                  <a href="images/main/Product.jpg">
                     <img src="images/main/Product.jpg" alt="images/main/Product.jpg" class="image"/>
                  </a>
				
                  <p>All FpML products inherit two optional elements from the Product type: productType and productId.</p>
				
			
                  <div>
                     <h5>
                        <a id="s2.8.2.2.1">2.8.2.2.1 Product Identification</a>
                     </h5>
					
                     <p>In order to identify the type of product contained within an FpML message, the Standards Committee encourages the use of structural analysis. Structural analysis is based on checking the presence of some specific elements within the message instead of relying on the value of a specific element such as productType.</p>
					
                     <p>The presence of some specific elements helps to define the product category of the transaction that is being sent. For example, the presence of the creditDefaultSwap and referenceInformation elements in a message is critical to categorize the product as single name credit default swap.</p>
					
                     <p>Product categorization using only the productType element value should be avoided. It should only be used by internal messaging implementations or by service providers. In both cases the code list is well-controlled and commonly understood by all participants.</p>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.3">2.8.2.3 otherPartyPayment</a>
                  </h5>
				
                  <p>This component contains additional payments such as brokerage paid to third parties which are not part of the economics of a trade itself.</p>
				
                  <a href="images/main/otherPartyPayment.jpg">
                     <img src="images/main/otherPartyPayment.jpg" alt="images/main/otherPartyPayment.jpg" class="image"/>
                  </a>
			
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.4">2.8.2.4 brokerPartyReference</a>
                  </h5>
				
                  <p>The brokerPartyReference identifies the party or parties that arranged the trade.</p>
				
                  <a href="images/main/brokerPartyReference.jpg">
                     <img src="images/main/brokerPartyReference.jpg" alt="images/main/brokerPartyReference.jpg" class="image"/>
                  </a>
			
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.5">2.8.2.5 calculationAgent</a>
                  </h5>
				
                  <p>The calculation agent identifies the party or parties responsible for performing calculation duties, such as cash settlement calculations.</p>
				
                  <a href="images/main/calculationAgent.jpg">
                     <img src="images/main/calculationAgent.jpg" alt="images/main/calculationAgent.jpg" class="image"/>
                  </a>
			
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.6">2.8.2.6 documentation</a>
                  </h5>
				
                  <p>The documentation element defines where the legal definitions used for the trade are documented. </p>
				
                  <a href="images/main/documentation.jpg">
                     <img src="images/main/documentation.jpg" alt="images/main/documentation.jpg" class="image"/>
                  </a>
				
			
                  <div>
                     <h5>
                        <a id="s2.8.2.6.1">2.8.2.6.1 contractualMatrix</a>
                     </h5>
					
                     <p>The contractualMatrix element is a generic mechanism for making references to ISDA-published matrices within an FpML trade definition.</p>
					
                     <a href="images/main/contractualMatrix.jpg">
                        <img src="images/main/contractualMatrix.jpg" alt="images/main/contractualMatrix.jpg" class="image"/>
                     </a>
					
                     <p>Specifically it is designed to:</p>
					
                     <ul class="bulleted">
						
                        <li>Reference zero, one or more applicable matrices in a single trade definition.</li>
						
                        <li>Identify the form of applicable matrix, e.g. the “2000 ISDA Definitions Settlement Matrix for Early Terminations and Swaptions” or “Credit Derivatives Physical Settlement Matrix” etc.</li>
						
                        <li>Optionally identify the relevant version of the matrix through reference to its publication date (this is currently the mechanism recommended by ISDA). The publication date is optional since typically the incorporation language defines which version would be applicable based on the Trade Date of the relevant Transaction.</li>
						
                        <li>Allow an additional term to be specified that acts as a “key” into the matrix for identifying the applicable sub-set of relevant data in the matrix. For example, in the case of the Credit Derivatives Physical Settlement Matrix the Transaction Type term identifies the applicable column of defaults in the matrix that is applicable to the Transaction. For the 2000 ISDA Definitions Settlement Matrix no additional terms need to be specified since the “key” into the matrix is the Settlement Currency which is already captured as part of the standard trade terms.</li>
					
                     </ul>
					
				
                     <div>
                        <h5>
                           <a id="s2.8.2.6.1.1">2.8.2.6.1.1 Examples of using the contractualMatrix structure</a>
                        </h5>
						
                        <p>For Interest Rate Derivatives:</p>
						
                        <p>To specify that the July 1, 2004 version of the ISDA Definitions Settlement Matrix for Early Terminations and Swaptions is incorporated into the Confirmation:</p>
						
                        <pre>
&lt;documentation&gt;
  ...
          &lt;contractualDefinitions&gt;ISDA2000&lt;/contractualDefinitions&gt;
          &lt;contractualMatrix&gt;
                    &lt;matrixType&gt;SettlementMatrix&lt;/matrixType&gt;
                    &lt;publicationDate&gt;2004-07-01&lt;/publicationDate&gt;
          &lt;/contractualMatrix&gt;
&lt;/documentation&gt;
                                        </pre>
						
                        <p>For Credit Derivatives:</p>
						
                        <p>To specify that the March 7, 2005 version of the Credit Derivatives Physical Settlement Matrix is incorporated into the Confirmation and that the applicable Transaction Type is North American Corporate:</p>
						
                        <pre>
&lt;documentation&gt;
  ...
          &lt;contractualDefinitions&gt;ISDA2003Credit&lt;/contractualDefinitions&gt;
          &lt;contractualSupplement&gt;ISDA2003CreditMay2003&lt;/contractualSupplement&gt;
          &lt;contractualSupplement&gt;ISDA2003Credit2005MatrixSupplement&lt;/contractualSupplement&gt;
          &lt;contractualMatrix&gt;
                    &lt;matrixType&gt;CreditDerivativesPhysicalSettlementMatrix&lt;/matrixType&gt;
                    &lt;publicationDate&gt;2005-03-07&lt;/publicationDate&gt;
                    &lt;matrixTerm matrixTermScheme="http://www.fpml.org/coding-scheme/
credit-matrix-transaction-type-1-0"&gt;NorthAmericanCorporate&lt;/matrixTerm&gt;
          &lt;/contractualMatrix&gt;
&lt;/documentation&gt;
                                        </pre>
					
                     </div>
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.7">2.8.2.7 collateral</a>
                  </h5>
				
                  <p>The collateral element defines the collateral obligations of a party. The collateral element is an optional child of Trade and Independent Amount is a mandatory child of the Collateral element.</p>
				
                  <p>
					
                     <a href="images/main/collateral.jpg">
                        <img src="images/main/collateral.jpg" alt="images/main/collateral.jpg" class="image"/>
                     </a>
				
                  </p>
				
			
                  <div>
                     <h5>
                        <a id="s2.8.2.7.1">2.8.2.7.1 independentAmount</a>
                     </h5>
					
                     <p>Independent Amount was present at a Product Specific level, being both defined and used within Credit Derivatives. However, the concept of Independent Amount applies across products; it is the method of calculation which varies according to the type of Product. For this reason Independent Amount was moved to the trade level in version 4.1 Last Call Working Draft.</p>
					
                     <p>
						
                        <a href="images/main/independentAmount.jpg">
                           <img src="images/main/independentAmount.jpg" alt="images/main/independentAmount.jpg" class="image"/>
                        </a>
					
                     </p>
					
                     <p>PaymentRule is an abstract type defined for extension purposes. PercentageRule is a derived type from PaymentRule. It contains the payment percentage and a reference to the notional amount. Type substitution mechanism will be used in this case, which makes it extensible in case there is a need to add other calculation methods in the future. </p>
					
                     <p>
						
                        <a href="images/main/PercentageRule.jpg">
                           <img src="images/main/PercentageRule.jpg" alt="images/main/PercentageRule.jpg" class="image"/>
                        </a>
					
                     </p>
					
                     <p>The notionalAmountReference defines a reference to the notional amount. This reference is particularly useful in products like interest rate swaps, in which the leg of the notional needs to be specified. In order to accomplish that, an optional id attribute (IDREF type) has been added to the notional amount elements of the different products.</p>
					
                     <p>After some discussion, the Credit Derivatives Working Group decided that people will not use FpML without a CSA being signed, so a collateral party element is not necessary. The Collateral element itself should is a useful container for future work. The independentAmount element may not be required in the presence of CSA, but its optional inclusion should be supported for the avoidance of doubt, and expression of any variation from the CSA</p>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s2.8.2.8">2.8.2.8 governingLaw</a>
                  </h5>
				
                  <p>The governingLaw element identifies which legal system will be used to enforce the contract. </p>
				
                  <a href="images/main/governingLaw.jpg">
                     <img src="images/main/governingLaw.jpg" alt="images/main/governingLaw.jpg" class="image"/>
                  </a>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s2.8.3">2.8.3 The Portfolio Component</a>
               </h4>
			
               <p>The portfolio component specifies a set of trades as a list of tradeIds and a list of sub portfolios. Portfolios can be composed of other portfolios using a composition pattern. By using the tradeId to identify the trade the standard allows for portfolios to be sent around without the full trade record.</p>
			
               <a href="images/main/Portfolio.jpg">
                  <img src="images/main/Portfolio.jpg" alt="images/main/Portfolio.jpg" class="image"/>
               </a>
		
            </div>
            <div>
               <h4>
                  <a id="s2.8.4">2.8.4 The Party Component</a>
               </h4>
			
               <p>The party component holds information about a party in involved any of the trades or portfolios included in the document. Parties can perform multiple roles in a trade lifecycle. For example, the principal parties obligated to make payments from time to time during the term of the trade, but may include other parties involved in, or incidental to, the trade, such as parties acting in the role of novation transferor/transferee, broker, calculation agent, etc. In FpML roles are defined in multiple places within a document.</p>
			
               <p>It should be noted that an FpML document is not 'written' from the perspective of one particular party, i.e. it is symmetrical with respect to the principal parties. The particular role that a party plays in the trade, e.g. buyer, seller, stream payer/receiver, fee payer/receiver, is modeled via the use of references from the component where the role is identified (relatedParty structure) to the party component.</p>
			
               <a href="images/main/Party.jpg">
                  <img src="images/main/Party.jpg" alt="images/main/Party.jpg" class="image"/>
               </a>
			
               <p>This is a description of the elements:</p>
			
               <ul class="bulleted">
				
                  <li>partyId: A party identifier, e.g. a S.W.I.F.T. bank identifier code (BIC).</li>
				
                  <li>partyName: The name of the party. A free format string. FpML does not define usage rules for this element.</li>
				
                  <li>relatedParty: Identifies a related party performing a role within the transaction.</li>
			
               </ul>
			
               <p>Example:</p>
			
               <pre>
                    ...
	&lt;party id="SKY"&gt;
		&lt;partyId partyIdScheme="http://www.sky.org/coding-schem/code-id"&gt;SkyLTD&lt;/partyId&gt;
		&lt;partyName&gt;Sky Limited&lt;/partyName&gt;
	&lt;/party&gt;
                    ...
                                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s2.8.5">2.8.5 The Account Component</a>
               </h4>
			
               <p>The Account component holds information about an account that represents any party's account at another party. Parties may be identified by the account at another party.</p>
			
               <a href="images/main/account.jpg">
                  <img src="images/main/account.jpg" alt="images/main/account.jpg" class="image"/>
               </a>
			
               <p>This is a description of the elements:</p>
			
               <ul class="bulleted">
				
                  <li>accountId: An account identifier. For example an Account number.</li>
				
                  <li>accountName: The name by which the account is known.</li>
				
                  <li>accountBeneficiary: The beneficiary of the account.</li>
				
                  <li>servicingParty: A reference to the party that services/supports the account..</li>
			
               </ul>
			
               <p>Example:</p>
			
               <pre>
                    ...
	&lt;account id="GEN478"&gt;
		&lt;accountId&gt;47896325&lt;/accountId&gt;
		&lt;accountName&gt;Sky General Account&lt;/accountName&gt;
		&lt;accountBeneficiary href="SKY"/&gt;
	&lt;/account&gt;
                    ...
                                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s2.8.6">2.8.6 The Product Component</a>
               </h4>
			
               <p>The product component specifies the financial instrument being traded. This component captures the economic details of the trade. It is modeled as a substitution group; each asset class may create one or more product definitions. Some examples of products that different working groups have defined include:</p>
			
               <ul class="bulleted">
				
                  <li>Interest rate swaps</li>
				
                  <li>FRAs</li>
				
                  <li>caps/floors</li>
				
                  <li>swaptions</li>
				
				
                  <li>Equity options</li>
				
                  <li>Equity swaps</li>
				
                  <li>Equity forwards</li>
				
                  <li>Commodity swaps</li>
				
                  <li>Commodity options</li>
				
                  <li>Correlation swap</li>
				
                  <li>Credit default swaps</li>
				
                  <li>Dividend swap</li>
				
                  <li>Variance swap</li>
				
                  <li>Variance option</li>
				
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s2.8.7">2.8.7 The Strategy Component</a>
               </h4>
			
               <p>This component defines a special kind of product that allows the structuring of trade by combining any number of products within a strategy. A trade can be of a strategy rather than of a base product; this strategy can then in turn contain other products, such as multiple options. For example, you could define a strategy consisting of an FX call and an FX put to create a straddle or strangle, and then create a trade of that strategy.</p>
			
               <p>This component also defines the simple strategies of strike spread and calendar spread for Equity Options</p>
			
               <p>The Strategy component makes use of a composition pattern since strategy itself is a product. This means that strategies can themselves contain strategies.</p>
			
               <a href="images/main/Strategy.jpg">
                  <img src="images/main/Strategy.jpg" alt="images/main/Strategy.jpg" class="image"/>
               </a>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s2.9">2.9 More Background on FpML's Design</a>
               </h3>
            </div>
		
            <p>This section provides some additional background on the design of FpML.</p>
		
		
		
	
            <div>
               <h4>
                  <a id="s2.9.1">2.9.1 Rationale for Structured Approach</a>
               </h4>
			
               <p>FpML incorporates a significant level of structure, rather than being a 'flat' representation of data. This structuring is achieved through the grouping of related elements describing particular features of a trade into components. Components can both contain, and be contained by, other components.</p>
			
               <p>An alternative approach would have been to collect all the required elements in a single large component representing a product or trade. A flat structure of this kind would capture all the relevant information concisely but would also constrain the model in two important respects, namely, ease of implementation and extensibility.</p>
			
               <p>Grouping related elements into components makes it easier to validate that the model is correct, that it is complete and that it doesn't contain redundancy. This is true, both from the perspective of readability to the human eye, and also from the perspective of processing services. Processing services that do not need all the information in a trade definition can isolate components and be sure that the complete set of elements required, and only the elements required, is available for the particular process in hand.</p>
			
               <p>Components additionally serve as the building blocks for a flexible and extensible model. Generally speaking, the complexity of financial products is a result of combining a few simple ideas in a variety of different ways. The component structure supports a trade content definition that is flexible enough to represent the wide variation of features found in traded financial instruments.</p>
			
               <p>It should be noted that the application of the guiding principles of extensibility and ease of use has resulted in a different approach with regard to the forward rate agreement. Because this product is straightforward, commoditized and unlikely to develop further, the advantage to be gained from the extensive use of components is outweighed by the concision of a single component.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s2.9.2">2.9.2 Component Framework</a>
               </h4>
			
               <p>The optimum level of granularity is important to FpML. FpML separates the elements which collectively describe a feature of a product or trade into a separate component with each component serving a particular semantic purpose. Every grouping of elements in FpML is regarded as a component and each component is regarded as a container for the elements that describe that component. In the majority of cases each component will contain a mixture of other components and primitive elements, e.g. a date or string, that collectively describe the features of the component. Components are typically represented in the FpML schema as Complex Types.</p>
			
               <p>Generally speaking, the lower level a component is, the more re-usable it will be. FpML makes use of a number of primitive entity components that describe the basic building blocks of financial products, for example, FpML_Money, FpML_AdjustableDate, FpML_BusinessCenters, FpML_Interval, FpML_BusinessDayAdjustments etc. These primitive components are re-used in different business contexts.</p>
			
               <p>Primitive components are contained in higher level components that describe the features of particular products. For this reason these higher level components will tend not to be re-usable to the same extent. Examples within the definition of swapStream are the components required to construct schedules of dates such as calculationPeriodDates, resetDates and paymentDates. However, it should not be inferred from this that any fundamental distinction is drawn between components in usage or structure. </p>
		
            </div>
            <div>
               <h4>
                  <a id="s2.9.3">2.9.3 Coding Schemes</a>
               </h4>
			
               <p>A necessary feature of a portable data standard is both an agreed set of elements and an agreed set of permissible values (the value domain) for those elements. An FpML document exchanged between two parties would not be mutually understandable if either or both of the parties used internal or proprietary coding schemes to populate elements. For FpML 4.0 the handling of coding schemes was changed from previous versions of FpML, with the introduction of the use of enumerations and the elimination of scheme default attributes from the FpML root element. The following description refers to the updated approach.</p>
			
               <p>One possible means of identifying value domains is to include the domain of permitted values within the schema, using an XML Schema enumeration structure. This mechanism was adopted in FpML 4.0 for element values that satisfy the following criteria:</p>
			
               <ul class="bulleted">
				
                  <li>The list of allowable values is relatively short.</li>
				
                  <li>The list of allowable values is not expected to change during the lifetime of the specification</li>
				
                  <li>It's not possible to change the list of allowable values without affecting the meaning of the specification.</li>
			
               </ul>
			
               <p>This leave a number of lists of values not meeting the above criteria that are represented by "schemes". "Schemes" are lists of values that can be changed dynamically without affecting the schema. They include items such as currency codes, party identifiers, business centers, floating rate indexes, etc. For these data elements, the "scheme" is a URI, as identified in an FpML attribute, that designates the universe of acceptable values the element may take. This scheme definition list is typically encoded as an XML document, but does not in general need to be. In cases where the ISDA wishes to designate a default scheme, this is recorded as a default attribute value in the schema. In other cases, the scheme attribute is required.</p>
			
               <p>For further details on the architectural framework behind Schemes, refer to the FpML Architecture Version 1.0 and Version 2.0 documents.</p>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s3">3 BUSINESS PROCESS ARCHITECTURE</a>
            </h2>
         </div>
	
	
	
	



	

         <div>
            <h3>
               <a id="s3.1">3.1 Introduction</a>
            </h3>
		
            <p>The FpML 4.0 Schema was the first release of the specification to place a messaging framework around the product descriptions to describe the context and use to which the information is expected to be put. This section describes a small set of complex types and elements that comprise a simple message framework that is used as the basis for defining business messages and processes suitable for use in a communications process.</p>
		
            <p>These definitions introduce a new set of ideas that previously could not be used in FpML because of its reliance on DTDs as the formal specification of the grammar. The following sections describe the reasoning behind the features used in the framework as well as a description of several business processes.</p>
		
	
            <div>
               <h4>
                  <a id="s3.1.1">3.1.1 Why Business Messaging?</a>
               </h4>
			
               <p>Increased efficiency in financial markets can only be achieved through greater automation of transaction processing and use of electronic messaging (e.g. the exchange of information directly between computer systems with as little human interaction as possible). In order to achieve this all the parties involved in such communications must agree on four things, namely:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>Representation</p>
					
                     <p>There must be a common representation of a transaction, product or other reference data item that is accepted by all the parties.</p>
					
                     <p>The core FpML grammar defines a standard vocabulary for derivative based transactions and products that can form the basis of a messaging standard. As new messaging applications are considered the scope of the core grammar will need to expand to encompass the additional types of data referenced in these messages.</p>
				
                  </li>
				
                  <li>
					
                     <p>Semantics</p>
					
                     <p>All the parties must have the same interpretation of the information expressed by the representation.</p>
					
                     <p>The work of the validation working group provides a set of rules to ensure that a product definition conforms to the market definition for that product. The FpML rule set will expand and evolve over time as new financial products and message types are added to the grammar.</p>
				
                  </li>
				
                  <li>
					
                     <p>Business Process</p>
					
                     <p>All the parties must follow the same business processes and respond appropriately to any communication they receive.</p>
					
                     <p>To support the consistency across different business processes and views, the Messaging Task Force defined a new messaging framework that extended the core grammar. This section describes some business processes and shows how they could be implemented as message exchanges. This section describes some business processes and shows how they could be implemented as message exchanges.</p>
				
                  </li>
				
                  <li>
					
                     <p>Transport</p>
					
                     <p>The parties must agree on the communications transport used to interconnect their businesses.</p>
					
                     <p>FpML does not endorse any particular messaging transport for communication. The choice of transport is left to the implementer although in practice we expect only a few to be found suitable.</p>
				
                  </li>
			
               </ul>
			
               <p>Disagreement over the first three of these features will mean that FpML users will potentially have to implement, maintain and support different software systems for each FpML aware service or application that they use. Supporting multiple communications transports is typically not that difficult although it does incur additional operations costs.</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s3.2">3.2 The Messaging Framework</a>
               </h3>
            </div>
		
		
		
		
		
		
		
		
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s3.2.1">3.2.1 Introduction</a>
               </h4>
			
               <p>FpML 5 introduces a new messaging framework to address limitations in the version 4 framework.</p>
			
               <p>This new framework does the following:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>it consistently implements a set of general principles to make it easier to use the messages to implement real business processes</p>
				
                  </li>
				
                  <li>
					
                     <p>it adjusts the representation of parties, accounts, and roles to clarify the purpose of messages and the roles of the parties within a message.</p>
				
                  </li>
			
               </ul>
			
               <p>The following section describes the new messaging framework.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.2">3.2.2 Issues in FpML 4 Messaging Framework</a>
               </h4>
			
               <p>Following are some of the issues in the FpML messaging framework that the version 5 framework seeks to correct:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>Incomplete message set – in many cases not all messages required to implement a business process are defined in the FpML 4 message set. In particular, many requests lack acknowledgements, exception responses, correction capabilities, and in some cases normal responses. Many generic business processes (such as confirmation) have different levels of completeness depending on the specific event that is being covered.</p>
				
                  </li>
				
                  <li>
					
                     <p>Inconsistent message correlation – different implementations use different features of the FpML 4 framework to link successive messages together, making them incompatible.</p>
				
                  </li>
				
                  <li>
					
                     <p>Unclear processes – it is not always clear how the version 4 messages are to be combined together to fully implement a business process. For example, which message should be used to acknowledge or respond to a request isn’t always defined. While this could in theory be addressed through documentation, because the message set is incomplete, this is difficult to do.</p>
				
                  </li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.3">3.2.3 Design Assumptions</a>
               </h4>
			
               <p>In order to create the messages and business processes described in this document some design assumptions had to be made, principally:</p>
			
			
			
			
			
			
			
			

			
               <p>Implementers attempting to construct software based on these protocols using a non queuing transport (e.g. WebServices, DCOM, CORBA) will need to implement a reliable message layer to encapsulate the current message sequences (e.g. a get/put message interface using sequence numbers to detect lost or duplicated messages and positive/negative acknowledgments). The W3C site contains links to proposals for such extensions for use with WebServices.</p>
			
		
               <div>
                  <h5>
                     <a id="s3.2.3.1">3.2.3.1 Highly Assured Transport</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Throughout this document we have assumed that message exchanges will be carried by a passing of messages over a highly assured transport, such is provided by a messaging queuing system. This form of transport is commonly used today in the finance industry (e.g. AMQP, Apache QPid, FIX engines, MQSeries, MSMQ, RabbitMQ, SwiftNet Interact 'Store and Forward', etc.).</p>
						
                        <p>One important consequence of this decision is that error cases related to non-delivery do not have to be considered (e.g. once accepted a guaranteed messaging queuing system WILL ALWAYS deliver a message) although the 'freshness' of the message may need to be considered (e.g. has the message been stuck in a queue waiting to be delivered for a long period of time). Similarly message queuing system can normally eliminate duplicate messages so these are not considered either.</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.2">3.2.3.2 No Preservation of Message Sequence</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>There is no requirement for message sequence to be preserved over the message transport. Message sequence must not be expected to be repeatable nor predictable.</p>
						
                        <p>In practise enterprise message buses cannot be expected to halt the enterprise to preserve sequence. Hence this is not a requirement of FpML.</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.3">3.2.3.3 Long-Running Processes</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Some of the business processes are 'long-running' in that once initiated they may remain active for a considerable time before completing (e.g. a request to confirm a trade may take many hours as it is dependent on the time of arrival of the matching trade). During this time the process may generate periodic notifications to the originator of the request and/or other parties. Such notifications will appear in the message stream set to a participant intermixed between other response messages.</p>
						
                        <p>An implication of such 'long-running' transactions is that the 'service provider' will contain a complex 'state'. The service should make suitable provisions to persistently record its state so that in the event of a software or hardware failure it can recover transparently without its clients having to resend any information.</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.4">3.2.3.4 Observable Completion</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Principle: All requests should result in an "observable completion", that is a clear (observable by the requester) response.</p>
					
                     </li>
					
                     <li>
						
                        <p>Implementation: For each request or notification message there should be at least one defined acknowledgement message. In the case where the response to the request might be delayed pending additional information, the recipient of the request should acknowledge the request. [Should we set a guideline here? E.g. acknowledge if resulting action is likely not to occur within 10 seconds?]</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.5">3.2.3.5 Consistent Message Correlation</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Principle: There should be a single, well-defined way to link successive messages (such as corrections or retractions of requests or notifications). This should not rely on message or transport level information, but rather use business-level information.</p>
					
                     </li>
					
                     <li>
						
                        <p>Implementation: Add an explicit correlation identifier, defined as business object identifier, and a sequence number to link successive messages.</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.6">3.2.3.6 Consistent Error Reporting</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Principle: There should be a standard way of reporting error or exception status for each type of request.</p>
					
                     </li>
					
                     <li>
						
                        <p>Implementation: Ensure that there is an exception message for each message workflow.</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.7">3.2.3.7 Consistent correction and retraction mechanism</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Principle: There should be a consistent way to correct messages containing an error, and to retract (withdraw, cancel) messages when the information is no longer valid or the action is no longer required.</p>
					
                     </li>
					
                     <li>
						
                        <p>Implementation: Correctable messages will contain an "isCorrection" indicator to indicate whether the message corrects a previous message. Retractable messages should have a corresponding message ending with "Retracted".</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.8">3.2.3.8 Consistent Processes Across Trades and Post-trade Events</a>
                  </h5>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <p>Principle: Business processes should work consistently across trading events and post-trade events where possible, so the same messages should be available for each type of event.</p>
					
                     </li>
					
                     <li>
						
                        <p>Implementation: Most messages will be designed to be able to handle multiple types of events, such as new trades and post-trade events. This allows consistent coverage of a number of post-trade events with a number of business processes.</p>
					
                     </li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.3.9">3.2.3.9 Transport Characteristics</a>
                  </h5>
				
				
				
				
			
                  <div>
                     <h5>
                        <a id="s3.2.3.9.1">3.2.3.9.1 Purpose</a>
                     </h5>
					
                     <p>The definition of the FpML business processes assumes the use of reliable messaging, meaning high predictability. Generally, increasing reliability increases latency. The assumption of reliable messaging is provided to make it easier to design standard business processes and messages. If the transport characteristics were not defined, the business process definition would be ambiguous.</p>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.2.3.9.2">3.2.3.9.2 Layers</a>
                     </h5>
					
                     <p>The protocol that is used for exchanging FpML messages is defined in being in three main layers:</p>
					
                     <ul class="bulleted">
						
                        <li>The Business Layer is the higher layer and deals with FpML documents. The exchange of FpML documents is fully described in the message choreography and the structure of the FpML documents is fully described by the schemata and the related validation rules. The Business Layer is equivalent to adding a Layer 9 to the OSI model.</li>
						
                        <li>The Message Transport Layer is the lower layer and deals with transport messages. The implementation of this layer is outside the scope of FpML since it varies. The Transport Characteristics apply to the Message Transport Layer. This layer is equivalent to adding a Layer 8 to the OSI model.</li>
						
                        <li>The layer immediately beneath the FpML Protocol is the Messaging Application Layer. FpML allows any Messaging Application that supports the requirements of the Transport Characteristics defined below. The Messaging Application Layer is Layer 7 of the OSI model.</li>
						
                        <li>
							
                           <a href="images/messaging/TransportLayers.jpg">
                              <img src="images/messaging/TransportLayers.jpg" alt="images/messaging/TransportLayers.jpg" class="image"/>
                           </a>
						
                        </li>
					
                     </ul>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.2.3.9.3">3.2.3.9.3 Reliable Mode</a>
                     </h5>
					
                     <p>Specifically, the transport characteristics that FpML assumes in order to implement most of its business process definition are defined by:</p>
					
                     <ul class="bulleted">
						
                        <li>The delivery of a message is highly assured so the receiving messaging endpoint receives the message at least once.</li>
						
                        <li>A sending messaging endpoint must not block the sending or receipt of other messages while waiting for a response to the sent message.</li>
						
                        <li>The same applies to the receiving messaging endpoint. It must not block the receipt or processing of other messages while processing the current message.</li>
						
                        <li>Messages may arrive in any order at the receiving messaging endpoints. However the message must be delivered before the maximum duration of time permitted.</li>
						
                        <li>For each FpML document sent, sixty seconds is the maximum duration of time in within which all its preceding FpML documents must be sent.</li>
						
                        <li>Messages are addressed to nought to many receiving messaging endpoints. </li>
						
                        <li>The maximum duration of time within which a message must be delivered is sixty seconds. </li>
						
                        <li>Only valid FpML documents are delivered; invalid FpML documents are rejected to the sending messaging endpoint.</li>
						
                        <li>The messaging transport system must ensure that the FpML document is well-formed, W3C Schema valid, validated against the constraints defined in the validation rules, and validated against the message choreography. It is important to note that the messaging transport system is a role that can be played by either endpoint in a peer to peer setup, or by one or more third party systems. In addition, multiple messaging transport systems can be chained together into a single messaging transport system.</li>
						
                        <li>The messaging transport system must ensure that the message is kept available until it is received by the messaging endpoint or until it is expired because it was delivered later than the maximum duration of delivery time. So, it can be queued on the messaging transport system within the maximum delivery time duration, but it can be queued at the destination indefinitely.</li>
						
                        <li>The maximum size of a message is 100,000kb (100Mb). Any message exceeding this size must be treated as an invalid message.</li>
						
                        <li>Clocks must maintain a maximum (inclusive) variance from UTC less than the Maximum Clock Variation for the supported Message Transport Mode. The maximum clock variation for this mode is ten seconds.</li>
					
                     </ul>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.2.3.9.4">3.2.3.9.4 Bulk Transfer Mode</a>
                     </h5>
					
                     <p>In some processes such as Portfolio Reconciliation or Position Report, FpML assumes the following transport characteristics:</p>
					
                     <ul class="bulleted">
						
                        <li>The delivery of a message is highly assured so the receiving messaging endpoint receives the message at least once.</li>
						
                        <li>A sending messaging endpoint must not block the sending or receipt of other messages while waiting for a response to the sent message.</li>
						
                        <li>The same applies to the receiving messaging endpoint. It must not block the receipt or processing of other messages while processing the current message.</li>
						
                        <li>Messages may arrive in any order at the receiving messaging endpoints. However the message must be delivered before the maximum duration of time permitted.</li>
						
                        <li>Messages are addressed to nought to many receiving messaging endpoints. </li>
						
                        <li>The maximum duration of time within which a message must be delivered is ten minutes (600 seconds). </li>
						
                        <li>Only valid FpML documents are delivered; invalid FpML documents are rejected to the sending messaging endpoint.</li>
						
                        <li>The messaging transport system must ensure that the FpML document is well-formed, W3C Schema valid, validated against the constraints defined in the validation rules, and validated against the message choreography. It is important to note that the messaging transport system is a role that can be played by either endpoint in a peer to peer setup, or by one or more third party systems. In addition, multiple messaging transport systems can be chained together into a single messaging transport system.</li>
						
                        <li>The messaging transport system must ensure that the message is kept available until it is received by the messaging endpoint or until it is expired because it was delivered later than the maximum duration of delivery time. So, it can be queued on the messaging transport system within the maximum delivery time duration, but it can be queued at the destination indefinitely.</li>
						
                        <li>The maximum size of a message is 100,000kb (100Mb). Any message exceeding this size must be treated as an invalid message</li>
						
                        <li>Clocks must maintain a maximum (inclusive) variance from UTC less than the Maximum Clock Variation for the supported Message Transport Mode. The maximum clock variation for this mode is five minutes.</li>
					
                     </ul>
				
                  </div>
               </div>
            </div>
            <div>
               <h4>
                  <a id="s3.2.4">3.2.4 Transport Independence</a>
               </h4>
			
               <p>In general, four layers of specification are contained in a XML Standard. A multi-layer approach allows implementers to choose the most appropriate technology for a given situation. It allows development and modifications within one layer without affecting or requiring changes to the others..</p>
			
               <p>From the top down, the four layers are:</p>
			
               <a href="images/messaging/FpMLStack.jpg">
                  <img src="images/messaging/FpMLStack.jpg" alt="images/messaging/FpMLStack.jpg" class="image"/>
               </a>
			
			
			
			
		
               <div>
                  <h5>
                     <a id="s3.2.4.1">3.2.4.1 Business Process</a>
                  </h5>
				
                  <p>This layer specifies the way in which any business process is defined, such that is understood and executable by people and applications. A business process can be defined as a set of interrelated tasks linked to an activity that spans functional boundaries. Business processes have starting points and ending points, and they are repeatable. Examples of business processes in the derivatives domain are the affirmation process, the confirmation process, and the matching process.</p>
				
                  <p>The FpML Specification models business processes in UML sequence diagrams.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.4.2">3.2.4.2 Document</a>
                  </h5>
				
                  <p>This layer corresponds to the FpML document definitions. It provides a set of abstractions specific to financial derivatives but also a set of elements which are not context specific (such as “Party” and “Price”). </p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.4.3">3.2.4.3 Messaging</a>
                  </h5>
				
                  <p>The Messaging layer addresses the need to record session and communication settings for message transport in order to enable coordination between parties in a business transaction. </p>
				
                  <p>The FpML Schema explicitly models ‘delivery’ related information as part of the message itself. Some transports (i.e. SOAP, ebXML, etc.) allow such information to be placed in the ‘envelope’ that surrounds the message during delivery.</p>
				
                  <p>Including a standard header within FpML messages increases consistency by providing a single format for delivering information regardless of the physical transport, ensures that it will be persisted if the message is archived, and allows more flexible use of features such as digital signatures.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.4.4">3.2.4.4 Transport</a>
                  </h5>
				
                  <p>The Transport Layer provides a point to point connection so that one server can send messages to another server and they will arrive uncorrupted and in the correct order.</p>
				
                  <p>The FpML Message Architecture defines a message structure that is independent of the underlying transport protocol, such as SMTP, File Transfer Protocol (FTP), Standardized Messaging Middleware, HTTP, etc.</p>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s3.2.5">3.2.5 Identification of Purpose</a>
               </h4>
			
               <p>The receiver of a message needs to be able to determine the function that the message is invoking. In XML there are three different techniques that can be used for indicating the purpose of a message.</p>
			
               <p>The FpML 5.0 message framework is based on element naming (option 2 - By Element Name). Below is a short explanation of the three techniques:</p>
			
			
			
		
               <div>
                  <h5>
                     <a id="s3.2.5.1">3.2.5.1 By Namespace (not used by FpML)</a>
                  </h5>
				
                  <p>The receiver can look at the namespace from which the element definitions have been drawn and determine from it the function requested.</p>
				
                  <pre>&lt;?xml version="1.0"?&gt;

&lt;FpML version="4-0"
 xmlns="http://www.fpml.org/2002/FpML-4-0-TradeConfirmationRequest"&gt;
  &lt;header&gt;
    ... Message header
  &lt;/header&gt;
  ... Business data
&lt;/FpML&gt;</pre>
				
                  <p>Using namespaces it would be possible to create a highly extensible framework for FpML but it could lead to documents having to have every FpML element prefixed with a suitable namespace abbreviation although it may be possible to mitigate this by having the 'core' sub-schemas use no namespaces in their definition and take on the namespace of the one they are including into.</p>
				
                  <p>There may be further issues with related XML standards such as XPath as the namespace of the same included elements may not be consistent between documents.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.5.2">3.2.5.2 By Element Name (used by FpML 5.x)</a>
                  </h5>
				
                  <p>The receiver can look at the name associated with an element within the message (the root and one of the first level children) to determine the function requested.</p>
				
                  <pre>&lt;?xml version="1.0"?&gt;
&lt;requestConfirmation fpmlVersion="5-0" xmlns="http://www.fpml.org/FpML-5/confirmation"&gt;
  &lt;header&gt;
    ... Message header
  &lt;/header&gt;
  &lt;trade&gt;
    ... Business data
  &lt;/trade&gt;
  ...
&lt;/requestConfirmation&gt;</pre>
				
                  <p>In this model the root element is a global element of a type derived from the base FpML Document type, typically a message type.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.5.3">3.2.5.3 By Element Type (used by FpML 4.x)</a>
                  </h5>
				
                  <p>The receiver can look at the type associated with an element within the message (e.g. the root or a child).</p>
				
                  <pre>&lt;?xml version="1.0"?&gt;
&lt;FpML version="4-0" xmlns="http://www.fpml.org/2002/FpML-4-0" xsi:type="TradeConfirmationRequest"&gt;
  &lt;header&gt;
    ... Message header
  &lt;/header&gt;
  ... Business data
&lt;/FpML&gt;</pre>
				
                  <p>An XML schema based instance may use type substitution to replace the content model of any element with another providing that the replacement is derived from the original. Given a framework that provides the appropriate extension points any number of new types can be derived within the name or different namespaces as necessary.</p>
				
                  <p>In addition through inheritance the message types can be associated with an appropriate message header content model.</p>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s3.2.6">3.2.6 General Pattern of Messages</a>
               </h4>
			
               <p>Messages are divided into a series of business processes. For example, consent negotiation (getting permission to do something) is a business process. For each business process, in general the following messages will be available:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>process request or notification message – to initiate the process. (In some cases the process may be initiated by a notification message rather than a request message).</p>
				
                  </li>
				
                  <li>
					
                     <p>process acknowledgment message – to acknowledge that the request or notification was received.</p>
				
                  </li>
				
                  <li>
					
                     <p>process exception message – to report that a request or notification cannot be processed.</p>
				
                  </li>
				
                  <li>
					
                     <p>process request/notification retracted message – to withdraw the original request or notification.</p>
				
                  </li>
				
                  <li>
					
                     <p>possibly, process-specific response messages</p>
				
                  </li>
			
               </ul>
			
               <p>In some cases, some of these messages may be intentionally omitted, but in these cases the rationale for omitting the messages will be provided. For example, acknowledgement messages may be omitted where it is expected that all responses will be immediate, and retraction messages may be omitted if there is no need to allow requests to be withdrawn, because the original request would be fulfilled before the retraction could be sent.</p>
			
               <p>For the consent negotiation process, for example, the messages include:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>requestConsent – initiating request</p>
				
                  </li>
				
                  <li>
					
                     <p>consentAcknowledgement - acknowledgement</p>
				
                  </li>
				
                  <li>
					
                     <p>consentException - exception</p>
				
                  </li>
				
                  <li>
					
                     <p>requestConsentRetracted – retraction of the request</p>
				
                  </li>
				
                  <li>
					
                     <p>consentGranted - response</p>
				
                  </li>
				
                  <li>
					
                     <p>consentRefused – response</p>
				
                  </li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.7">3.2.7 Naming Conventions</a>
               </h4>
			
               <p>Messages follow this naming convention:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>requestXxx</p>
				
                  </li>
				
                  <li>
					
                     <p>xxxAcknowledgement</p>
				
                  </li>
				
                  <li>
					
                     <p>xxxException</p>
				
                  </li>
				
                  <li>
					
                     <p>requestXxxRetracted</p>
				
                  </li>
				
                  <li>
					
                     <p>xxx[Status] or xxx[Response]</p>
				
                  </li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.8">3.2.8 Acknowledgements</a>
               </h4>
			
               <p>Providing each request with a more immediate and guaranteed response allows a more synchronous style of design, such as this:</p>
			
               <p>
				
                  <a href="images/messaging/acknowledgements.png">
                     <img src="images/messaging/acknowledgements.png" alt="images/messaging/acknowledgements.png" class="image"/>
                  </a>
			
               </p>
			
               <p>Here the requestor waits for the response before terminating its execution. This would allows easier specification of timeouts related to request processing although as we shall see later has implications for gathering the results of long running processes, such as matching.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.9">3.2.9 Message correlation</a>
               </h4>
			
               <p>The initiator of a business process should allocate a unique correlation identifier for each process instance it begins and any subsequent message related to the same process should contain the same identifier. A qualified scheme based value ensures that participants cannot accidentally re-use an identifier previous generated by another firm.</p>
			
               <p>
				
                  <a href="images/messaging/CorrelationId.png">
                     <img src="images/messaging/CorrelationId.png" alt="images/messaging/CorrelationId.png" class="image"/>
                  </a>
			
               </p>
			
               <p>For example, when used within a trade execution advice it might appear as follows:</p>
			
               <pre> 
                                                ...
&lt;tradeExecutionAdvice&gt;
  &lt;messageHeader&gt;
    
  &lt;/messageHeader&gt;
  &lt;isCorrection&gt;false&lt;/isCorrection&gt;
  &lt;correlationId correlationIdScheme="http…"&gt;BQ/1234 &lt;/correlationnId&gt;
  &lt;sequenceNumber&gt;657&lt;/sequenceNumber&gt;
  &lt;onBehalfOf&gt;
    &lt;partReference href="PARTYA"/&gt;
  &lt;/onBehalfOf&gt;
  &lt;execution&gt;
    &lt;trade&gt;
      … Lots more here
    &lt;/trade&gt;
  &lt;/execution&gt;
  &lt;party id="PARTYA"&gt;…&lt;/party&gt;
  &lt;party id="PARTYB"&gt;…&lt;/party&gt;
&lt;/tradeExecutionAdvice&gt;
                                      
                                                ...    
                                                </pre>
			
               <p>Any response or follow up to this message should contain the same 'correlationId' definition. This regime allows us to make some other messaging clarifications, namely: </p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>Every message will have a unique message identifier.</p>
				
                  </li>
				
                  <li>
					
                     <p>The ‘inReplyTo’ element of a response message (or exception) correlates with the ‘messageId’ of the associated request.</p>
				
                  </li>
				
                  <li>
					
                     <p>The conversationId has been removed.</p>
				
                  </li>
				
                  <li>
					
                     <p>Retransmission of a message for technical reasons (e.g. the last transmission of the request was not acknowledged or rejected) does not change the message identifier.</p>
				
                  </li>
				
                  <li>
					
                     <p>Replication of a message for business reasons (e.g. sending data that has been previously acknowledged) generates a new message identifier.</p>
				
                  </li>
				
                  <li>
					
                     <p>The response to a retransmitted request message should be identical to the original request. (1)</p>
				
                  </li>
				
                  <li>
					
                     <p>At the start of a long running process the initiating participant must create a unique one-time identifier for each process instance and distribute it to the other messaging party.</p>
				
                  </li>
				
                  <li>
					
                     <p>Every subsequent message sent by the requestor must contain the process identifier.</p>
				
                  </li>
				
                  <li>
					
                     <p>Messages may contain reference to other business process instances providing their role is clear and unambiguous (e.g. an order MAY reference a previous quotation).</p>
				
                  </li>
			
               </ul>
			
               <p>
                  <b>(1)</b> This allows the transport to respond to retransmissions by sending a copy of the earlier cached response, no business process is necessary. This is a standard technique in ONC RPC and WebServices.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.10">3.2.10 Message sequencing</a>
               </h4>
			
               <p>In a long running operation it is important to process all of the messages in the correct order. Each message’s ‘messageId’ is element is guaranteed to contain a unique value but the order of messages cannot be inferred by comparing two such identifiers.</p>
			
               <p>The characteristics required by FpML’s transport characteristics states that two messages sent simultaneously, or within a short time of each other, may arrive in any order. Since message order cannot be determined from the message identifiers some other information needs to be added to them message to provide this.</p>
			
               <p>In the SWIFT CUG implementation of the contract notification messages the trade version is used to derive the ordering. Whilst this is a workable solution for the CUG it does not solve the problem generally and some messages must artificially increase the contract version number to maintain order even though no change has actually occurred to the underlying contract.</p>
			
               <p>The simplest solution is to define a type for sequence numbers and use it within messages to provide an orderable value.</p>
			
               <p>
				
                  <a href="images/messaging/sequenceNumber.png">
                     <img src="images/messaging/sequenceNumber.png" alt="images/messaging/sequenceNumber.png" class="image"/>
                  </a>
			
               </p>
			
               <p>It is important to note that although sequence numbers should be consistently increasing in value they do not have to form a gapless sequence. (2)</p>
			
               <p>When combined with the unordered delivery transport characteristics a message processing application can be presented with a series of messages in a jumbled order.</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <p>An optimistic message processor should attempt to process the messages in the order they are delivered and unwind actions (or raise exceptions) when conflict is detected.</p>
				
                  </li>
				
                  <li>
					
                     <p>A pessimistic message processor should record the messages but delay their processing for a short period. This provides a time window during which any earlier messages received out of order can be re-sequenced before processing begins.</p>
				
                  </li>
			
               </ul>
			
               <p>It is also important to note that sequence numbers must be qualified with respect to the message sender and the responding part may need to produce messages containing them. For example in the matching processes the messages containing the result should reference the same ‘correlationId’ used in the original request but should use a ‘sequenceNumber’ provided by the matcher rather than the requester.</p>
			
               <p>For example the series of messages for a trade confirmation (including a correction) followed by the resulting match might be identified as follows:</p>
			
               <p>
				
                  <a href="images/messaging/CorrelationId_table.png">
                     <img src="images/messaging/CorrelationId_table.png" alt="images/messaging/CorrelationId_table.png" class="image"/>
                  </a>
			
               </p>
			
               <p>
                  <b>(2)</b> There may be messages within the same business process sent to other participants or internal changes to the business object that affect the sequence number.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.11">3.2.11 Multi-Event Workflows</a>
               </h4>
			
               <p>In FpML 5 most workflows are designed to work consistently for a number of events, including new trades and post-trade events such as novations, amendments, and terminations. In addition, the process model is designed to be extensible by allowing implementations to substitute in their own events into the FpML messaging framework.</p>
			
               <p>
				
                  <a href="images/messaging/requestConsent.png">
                     <img src="images/messaging/requestConsent.png" alt="images/messaging/requestConsent.png" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s3.2.12">3.2.12 Other topics</a>
               </h4>
			
			
			
		
               <div>
                  <h5>
                     <a id="s3.2.12.1">3.2.12.1 onBehalfOf</a>
                  </h5>
				
                  <p>The FpML neutral view principle when combined with some of the notifications for post-trade processes and a common third party such as a custodian results in situations where the third party can not easily tell which side of the trade he is supposed to be processing.</p>
				
                  <p>For example, parties A and B negotiate a trade and then send a contract execution notification to their common custodian C. The custodian may be able to figure out which side of the trade to process by means of the message sender’s identity but as a single sender identity might be used by several legally separate trading divisions within the same company group determining the correct party might require extensive organisational reference data. This approach would also fail for internal book-to-book deals where both sides would originate from the same sender.</p>
				
                  <p>What is needed is an explicit indication of the party for whom the trade should be processed included in every message. In the case of book-to-book trades this information should use account references to further qualify the party. For example:</p>
				
                  <pre> 
&lt;someRequest&gt;
  &lt;header&gt;
    … Basic message details
  &lt;/header&gt;
  …
  &lt;onBehalfOf&gt;
    &lt;partyReference href="JPM"/&gt;
    &lt;accountReference href="PORTFOLIO1"/&gt;
  &lt;/onBehalfOf&gt;
  … Request specification here
&lt;/someRequest&gt;
</pre>
				
                  <p>
					
                     <a href="images/messaging/OnBehalfOf.png">
                        <img src="images/messaging/OnBehalfOf.png" alt="images/messaging/OnBehalfOf.png" class="image"/>
                     </a>
				
                  </p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.12.2">3.2.12.2 party roles</a>
                  </h5>
				
                  <p>The 4.x tradeSide structure has been replaced by a simpler implementation adding a new relatedParty element. The role element within the relatedParty defines the list of roles as code list. This allows to customize the roles easier than using the tradeSide structure.</p>
				
                  <p>
					
                     <a href="images/messaging/PartyTradeInformation.png">
                        <img src="images/messaging/PartyTradeInformation.png" alt="images/messaging/PartyTradeInformation.png" class="image"/>
                     </a>
				
                  </p>
				
                  <pre> 
&lt;someRequest&gt;
...
	&lt;partyTradeInformation&gt;
            &lt;partyReference href="party3"/&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party4"/&gt;
               &lt;role&gt;orderer&lt;/role&gt;
            &lt;/relatedParty&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party4"/&gt;
               &lt;role&gt;introducer&lt;/role&gt;
            &lt;/relatedParty&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party3"/&gt;
               &lt;role&gt;executor&lt;/role&gt;
            &lt;/relatedParty&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party4"/&gt;
               &lt;role&gt;confirmer&lt;/role&gt;
            &lt;/relatedParty&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party6"/&gt;
               &lt;role&gt;creditor&lt;/role&gt;
            &lt;/relatedParty&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party5"/&gt;
               &lt;role&gt;settler&lt;/role&gt;
            &lt;/relatedParty&gt;
            &lt;relatedParty&gt;
               &lt;partyReference href="party6"/&gt;
               &lt;role&gt;accountant&lt;/role&gt;
            &lt;/relatedParty&gt;
	&lt;/partyTradeInformation&gt;
...
&lt;/someRequest&gt;
</pre>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.2.12.3">3.2.12.3 separation of party and account</a>
                  </h5>
				
                  <p>Currently accounts are specified within a party definition and the relationship between the two objects depends on the elements present. To simplify the structure and make the relationships clearer the account structure should be moved outside of Party and given a mandatory reference to its beneficiary and an optional reference to its servicer (this is the reverse of the 4.x accounts model).</p>
				
                  <p>
					
                     <a href="images/messaging/PartyAccount_model.png">
                        <img src="images/messaging/PartyAccount_model.png" alt="images/messaging/PartyAccount_model.png" class="image"/>
                     </a>
				
                  </p>
			
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s3.3">3.3 Business Processes</a>
               </h3>
            </div>
		
		
		
		
	
            <div>
               <h4>
                  <a id="s3.3.1">3.3.1 FpML 5 Business Processes</a>
               </h4>
			
			
               <p>Before looking at the current message processes and their associated messages it is worth looking at the overall sequence of business processes for trades.</p>
			
               <p>The first thing to note is that there are two sets of processes; the first set manages the transaction itself during its ‘cradle to grave’ life cycle while the second are repeatable management tasks that may occur several times over the life time of the transaction.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s3.3.2">3.3.2 Transaction life cycle</a>
               </h4>
			
               <p>Looking at the states in the life cycle part of the process model there the first thing to note is that there are multiple routes to the creation of trade.</p>
			
               <a href="images/messaging/TransactionLifeCycle.png">
                  <img src="images/messaging/TransactionLifeCycle.png" alt="images/messaging/TransactionLifeCycle.png" class="image"/>
               </a>
			
               <p>The original model for FpML (and not actually supported in the specification) is the traditional model of direct inter-dealer negotiation (e.g. by phone, over SwapsWire, etc.) followed by an affirmation of the resulting transaction.</p>
			
               <p>Alternatively trades could be created using a more market based approach in which quotes and orders are communicated through an exchange in which more than one market maker may be offering prices for the same quote or order. The terminology of quote, indications of interest, orders and execution is more closely coupled with this market approach.</p>
			
               <p>In the direct negotiation approach the identities of the participants of fully disclosed and this allows pre-agreed exploitation of other party’s credit rating to obtain better prices (within agreed limits). In the market approach pre-order interactions may be anonymous to guarantee best prices are obtained for all market participants.</p>
			
               <p>Messages related to trade negotiation and affirmation need to be capable of recording that these additional parties are being used but in later trade processing stages such ‘give-up’ trades are decomposed in a set of related back-to-back trades.</p>
			
               <a href="images/messaging/TransactionLifeCycle2.png">
                  <img src="images/messaging/TransactionLifeCycle2.png" alt="images/messaging/TransactionLifeCycle2.png" class="image"/>
               </a>
		
            </div>
            <div>
               <h4>
                  <a id="s3.3.3">3.3.3 Generic (Multi-Event) Flows</a>
               </h4>
			
               <p>All the processes described in this section are applied to the following events:</p>
			
               <ul class="bulleted">
				
                  <li>trade</li>
				
                  <li>novation</li>
				
                  <li>increase</li>
				
                  <li>termination</li>
				
                  <li>amendment</li>
			
               </ul>
			
               <a href="images/messaging/Events_model.png">
                  <img src="images/messaging/Events_model.png" alt="images/messaging/Events_model.png" class="image"/>
               </a>
			
               <p>All events use the same messages to support the processes. The additionalEvent element is an extension point to customize FpML and add additional events.</p>
			
			
			
			
			
			
			
			
			
		
               <div>
                  <h5>
                     <a id="s3.3.3.1">3.3.3.1 Execution Notification Flow</a>
                  </h5>
				
				
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.1.1">3.3.3.1.1 Execution Notification</a>
                     </h5>
					
                     <p>An execution should correlate with the order from which it is derived.</p>
					
                     <a href="images/messaging/TradeExecutionNotification.png">
                        <img src="images/messaging/TradeExecutionNotification.png" alt="images/messaging/TradeExecutionNotification.png" class="image"/>
                     </a>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.3.1.2">3.3.3.1.2 Execution Notification Correction</a>
                     </h5>
					
                     <p>The execution notification may contain mistakes. The ExecutionNotification type allows corrections (provided it is still possible to do so), by sending a corrected execution notification correlated to a prior notification with "isCorrection" element set to "true".</p>
					
                     <a href="images/messaging/TradeExecutionNotificationCorrection.png">
                        <img src="images/messaging/TradeExecutionNotificationCorrection.png" alt="images/messaging/TradeExecutionNotificationCorrection.png" class="image"/>
                     </a>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.3.1.3">3.3.3.1.3 Execution Retraction</a>
                     </h5>
					
                     <p>The execution can be retracted (provided it is still possible to do so) by correlating execution retracted message to the execution notification.</p>
					
                     <a href="images/messaging/TradeExecutionRetraction.png">
                        <img src="images/messaging/TradeExecutionRetraction.png" alt="images/messaging/TradeExecutionRetraction.png" class="image"/>
                     </a>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s3.3.3.2">3.3.3.2 Execution Advice Flow</a>
                  </h5>
				
                  <p>The successful execution of a trade or post-trade event (novation, termination, etc.) may need to be distributed to other parties involved in the trade processing and settlement such as custodians. The execution notification messages should be used for communication between investment managers and custodians. They replace the 4.x Contract Notification messages. </p>
				
				
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.2.1">3.3.3.2.1 Execution Advice </a>
                     </h5>
					
                     <p>Sending the execution advice message should create a unique notification identifier for future correlation.</p>
					
                     <a href="images/messaging/TradeExecutionAdvice.png">
                        <img src="images/messaging/TradeExecutionAdvice.png" alt="images/messaging/TradeExecutionAdvice.png" class="image"/>
                     </a>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.3.2.2">3.3.3.2.2 Execution Advice Correction</a>
                     </h5>
					
                     <p>The trade execution advice may contain mistakes which can be corrected (provided it is still possible to do so) by sending the correct trade execution advice message correlated to a prior execution advice message with "isCorrection" element set to "true".</p>
					
                     <a href="images/messaging/TradeExecutionAdviceCorrection.png">
                        <img src="images/messaging/TradeExecutionAdviceCorrection.png" alt="images/messaging/TradeExecutionAdviceCorrection.png" class="image"/>
                     </a>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.3.2.3">3.3.3.2.3 Execution Advice Retraction</a>
                     </h5>
					
                     <p>The execution may have been sent in error so it can be retracted by sending execution advice retracted message.</p>
					
                     <a href="images/messaging/TradeExecutionAdviceRetraction.png">
                        <img src="images/messaging/TradeExecutionAdviceRetraction.png" alt="images/messaging/TradeExecutionAdviceRetraction.png" class="image"/>
                     </a>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s3.3.3.3">3.3.3.3 Trade Change Advice Flow</a>
                  </h5>
				
                  <p>The trade change advice message describes an external event that is NOT negotiated between the contract parties but affects the economic terms of the contract (e.g. a credit event on a CDS Index constituent entity) and needs to be distributed to other parties involved. </p>
				
				
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.3.1">3.3.3.3.1 Trade Change Advice</a>
                     </h5>
					
                     <p>A trade change advice message provides the recipient with the terms for economic changes in the indicated contract resulting from a market event (e.g. index factor information when credit events occur on index constituents).</p>
					
                     <a href="images/messaging/TradeChangeAdvice.png">
                        <img src="images/messaging/TradeChangeAdvice.png" alt="images/messaging/TradeChangeAdvice.png" class="image"/>
                     </a>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.3.3.2">3.3.3.3.2 Trade Change Advice Correction</a>
                     </h5>
					
                     <p>The trade change advice may contain mistakes which can be corrected by sending the correct trade change advice message correlated to a prior trade change advice message with "isCorrection" element set to "true". </p>
					
                     <p>The trade change advice message should not be used to correct a prior trade execution advice message. </p>
					
                     <a href="images/messaging/TradeChangeAdviceCorrection.png">
                        <img src="images/messaging/TradeChangeAdviceCorrection.png" alt="images/messaging/TradeChangeAdviceCorrection.png" class="image"/>
                     </a>
				
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.3.3.3">3.3.3.3.3 Trade Change Advice Retraction</a>
                     </h5>
					
                     <p>Trade change advice retracted message defines the structure for a message retracting a prior change advice.</p>
					
                     <a href="images/messaging/TradeChangeAdviceRetraction.png">
                        <img src="images/messaging/TradeChangeAdviceRetraction.png" alt="images/messaging/TradeChangeAdviceRetraction.png" class="image"/>
                     </a>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s3.3.3.4">3.3.3.4 Consent Negotiation Flow</a>
                  </h5>
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.4.1">3.3.3.4.1 Trade Novation</a>
                     </h5>
					
                     <p>The 4.x model for trade novation was based on having all the participants communicate directly with each other. This is overly complex and should be changed in favor of a centralized service provider model.</p>
					
                     <p>The first stage in a novation is consent gathering. The idea is to get all the participants to agree that a novation can be performed prior to actually attempting it. This was to address an issue raised by an ISDA Ops committee.</p>
					
                     <a href="images/messaging/TradeNovation_Transferor.png">
                        <img src="images/messaging/TradeNovation_Transferor.png" alt="images/messaging/TradeNovation_Transferor.png" class="image"/>
                     </a>
					
                     <p>From the point of view of the transferor the consent process executes as follows:</p>
					
                     <a href="images/messaging/TradeNovation_Transferor_ConsentProcess.png">
                        <img src="images/messaging/TradeNovation_Transferor_ConsentProcess.png" alt="images/messaging/TradeNovation_Transferor_ConsentProcess.png" class="image"/>
                     </a>
					
                     <p>The transferor sends the request to the novation coordinator who sends it on to the other participants.</p>
					
                     <a href="images/messaging/TradeNovation_Transferor_RequestConsent.png">
                        <img src="images/messaging/TradeNovation_Transferor_RequestConsent.png" alt="images/messaging/TradeNovation_Transferor_RequestConsent.png" class="image"/>
                     </a>
					
                     <p>When responses have been received from the other participants the collective decision can be reported to the transferor.</p>
					
                     <a href="images/messaging/TradeNovation_Transferor_ConsentGranted.png">
                        <img src="images/messaging/TradeNovation_Transferor_ConsentGranted.png" alt="images/messaging/TradeNovation_Transferor_ConsentGranted.png" class="image"/>
                     </a>
					
                     <a href="images/messaging/TradeNovation_Transferor_ConsentRefused.png">
                        <img src="images/messaging/TradeNovation_Transferor_ConsentRefused.png" alt="images/messaging/TradeNovation_Transferor_ConsentRefused.png" class="image"/>
                     </a>
					
                     <p>The process for the transferee and remaining parties is similar. First they must decide whether to accept the novation or not.</p>
					
                     <a href="images/messaging/TradeNovation_Transferee_ConsentProcess.png">
                        <img src="images/messaging/TradeNovation_Transferee_ConsentProcess.png" alt="images/messaging/TradeNovation_Transferee_ConsentProcess.png" class="image"/>
                     </a>
					
                     <a href="images/messaging/TradeNovation_Transferee_RequestConsent.png">
                        <img src="images/messaging/TradeNovation_Transferee_RequestConsent.png" alt="images/messaging/TradeNovation_Transferee_RequestConsent.png" class="image"/>
                     </a>
					
                     <p>As the decision process may take time the initial request should be followed by a subsequent round of response messaging.</p>
					
                     <a href="images/messaging/TradeNovation_Transferee_ConsentGranted.png">
                        <img src="images/messaging/TradeNovation_Transferee_ConsentGranted.png" alt="images/messaging/TradeNovation_Transferee_ConsentGranted.png" class="image"/>
                     </a>
					
                     <a href="images/messaging/TradeNovation_Transferee_ConsentRefused.png">
                        <img src="images/messaging/TradeNovation_Transferee_ConsentRefused.png" alt="images/messaging/TradeNovation_Transferee_ConsentRefused.png" class="image"/>
                     </a>
					
                     <p>There are no cancellation messages associated with the consent gathering process, but the process is benign and creates no financial commitments. </p>
					
                     <p>To keep all participants synchronized, request consent messages can be corrected by requester, sending a corrected request consent message with "isCorrection" indicator set to "true", and a unique correlation identifier and a sequence number to link a prior message. </p>
					
                     <p>If the consent is no longer required, the requester can retract a request consent message. </p>
					
                     <a href="images/messaging/TradeNovation_Transferor_RequestConsentRetracted.png">
                        <img src="images/messaging/TradeNovation_Transferor_RequestConsentRetracted.png" alt="images/messaging/TradeNovation_Transferor_RequestConsentRetracted.png" class="image"/>
                     </a>
					
                     <a href="images/messaging/TradeNovation_NovationService_RequestConsentRetracted.png">
                        <img src="images/messaging/TradeNovation_NovationService_RequestConsentRetracted.png" alt="images/messaging/TradeNovation_NovationService_RequestConsentRetracted.png" class="image"/>
                     </a>
				
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s3.3.3.5">3.3.3.5 Confirmation</a>
                  </h5> 
				
                  <p>The standard confirmation process is supported by FpML. The following messages are used to support it:</p>
				
                  <ul class="bulleted">
					
                     <li>requestConfirmation</li>
					
                     <li>requestConfirmationRetracted</li>
					
                     <li>confirmationAcknowledgement</li>
					
                     <li>confirmationException</li>
					
                     <li>confirmationStatus</li>
					
                     <li>confirmationAgreed</li>
					
                     <li>confirmationDisputed</li>
				
                  </ul>
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.5.1">3.3.3.5.1 Scenarios</a>
                     </h5>
					
                     <p>The following scenarios are used to describe the message exchanges:</p>
					
					
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s3.3.3.5.1.1">3.3.3.5.1.1 Normal Operation</a>
                        </h5>
						
                        <p>The successful confirmation process involves requesting the confirmation from the Confirmation Requester. The Confirmation Provider sends an acknowledgement message immediately.</p>
						
                        <p>The Confirmation Provider is then in charge of performing the matching process and sends back a confirmationStatus message with the status of the matching process: matched, mismatched, unmatched, or alleged. The Confirmation Provider sends then an acknowledgement message immediately.</p>
						
                        <p>If the Confirmation Requester is ok with the status, it sends a confirmationAgreed message and the Confirmation Provider sends back and acknowledgment to finish the process.</p>
						
                        <a href="images/messaging/confirmation-normal.jpg">
                           <img src="images/messaging/confirmation-normal.jpg" alt="images/messaging/confirmation-normal.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.5.1.2">3.3.3.5.1.2 Exception</a>
                        </h5>
						
                        <p>If there is a problem with the the confirmationRequest, the Confirmation Provider sends back a confirmationException message. The message includes the reason of the problem.</p>
						
                        <a href="images/messaging/confirmation-exception.jpg">
                           <img src="images/messaging/confirmation-exception.jpg" alt="images/messaging/confirmation-exception.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.5.1.3">3.3.3.5.1.3 Correction Possible</a>
                        </h5>
						
                        <p>The requestConfirmation may contain mistakes which can be corrected by sending the correct requestConfirmation message correlated to a prior requestConfirmation message with "isCorrection" element set to "true".</p>
						
                        <a href="images/messaging/confirmation-correction.jpg">
                           <img src="images/messaging/confirmation-correction.jpg" alt="images/messaging/confirmation-correction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.5.1.4">3.3.3.5.1.4 Correction Not Possible</a>
                        </h5>
						
                        <p>In some situations the message cannot be corrected and the Confirmation Provider sends back an exception message.</p>
						
                        <a href="images/messaging/confirmation-no-correction.jpg">
                           <img src="images/messaging/confirmation-no-correction.jpg" alt="images/messaging/confirmation-no-correction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.5.1.5">3.3.3.5.1.5 Retraction Possible</a>
                        </h5>
						
                        <p>The requestConfirmationRetracted message defines the structure for a message retracting a prior requestConfirmation.</p>
						
                        <a href="images/messaging/confirmation-retraction.jpg">
                           <img src="images/messaging/confirmation-retraction.jpg" alt="images/messaging/confirmation-retraction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.5.1.6">3.3.3.5.1.6 Retraction Not Possible</a>
                        </h5>
						
                        <p>In some situations the message cannot be retracted and the Confirmation Provider sends back an exception message.</p>
						
                        <a href="images/messaging/confirmation-no-retraction.jpg">
                           <img src="images/messaging/confirmation-no-retraction.jpg" alt="images/messaging/confirmation-no-retraction.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s3.3.3.6">3.3.3.6 Clearing</a>
                  </h5>
				
                  <p>The standard clearing process is supported by FpML. The following messages are used to support it:</p>
				
                  <ul class="bulleted">
					
                     <li>requestClearing</li>
					
                     <li>requestClearingRetracted</li>
					
                     <li>clearingAcknowledgement</li>
					
                     <li>clearingException</li>
					
                     <li>clearingConfirmed</li>
					
                     <li>clearingRefused</li>
				
                  </ul>
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.6.1">3.3.3.6.1 Scenarios</a>
                     </h5>
					
                     <p>The following scenarios are used to describe the message exchanges:</p>
					
					
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s3.3.3.6.1.1">3.3.3.6.1.1 Normal Operation</a>
                        </h5>
						
                        <p>The successful clearing process involves requesting the clearing from the Clearing Requester. The Clearing Provider sends an acknowledgement message immediately.</p>
						
                        <p>The Clearing Provider is then in charge of deciding whether the clearing is confirmed or refused.</p>
						
                        <p>If the clearing is confirmed, the Clearing Provider sends a clearingConfirmed message. On the other hand, if the clearing is refused, it sends a clearingRefused message.</p>
						
                        <a href="images/messaging/clearing-normal.jpg">
                           <img src="images/messaging/clearing-normal.jpg" alt="images/messaging/clearing-normal.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.6.1.2">3.3.3.6.1.2 Exception</a>
                        </h5>
						
                        <p>If there is a problem with the the clearingRequest, the Clearing Provider sends back a clearingException message. The message includes the reason of the problem.</p>
						
                        <a href="images/messaging/clearing-exception.jpg">
                           <img src="images/messaging/clearing-exception.jpg" alt="images/messaging/clearing-exception.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.6.1.3">3.3.3.6.1.3 Correction Possible</a>
                        </h5>
						
                        <p>The requestClearing may contain mistakes which can be corrected by sending the correct requestClearing message correlated to a prior requestClearing message with "isCorrection" element set to "true".</p>
						
                        <a href="images/messaging/clearing-correction.jpg">
                           <img src="images/messaging/clearing-correction.jpg" alt="images/messaging/clearing-correction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.6.1.4">3.3.3.6.1.4 Correction Not Possible</a>
                        </h5>
						
                        <p>In some situations the message cannot be corrected and the Clearing Provider sends back an exception message.</p>
						
                        <a href="images/messaging/clearing-no-correction.jpg">
                           <img src="images/messaging/clearing-no-correction.jpg" alt="images/messaging/clearing-no-correction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.6.1.5">3.3.3.6.1.5 Retraction Possible</a>
                        </h5>
						
                        <p>The requestClearingRetracted message defines the structure for a message retracting a prior requestClearing.</p>
						
                        <a href="images/messaging/clearing-retraction.jpg">
                           <img src="images/messaging/clearing-retraction.jpg" alt="images/messaging/clearing-retraction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.6.1.6">3.3.3.6.1.6 Retraction Not Possible</a>
                        </h5>
						
                        <p>In some situations the message cannot be retracted and the Clearing Provider sends back an exception message.</p>
						
                        <a href="images/messaging/clearing-no-retraction.jpg">
                           <img src="images/messaging/clearing-no-retraction.jpg" alt="images/messaging/clearing-no-retraction.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s3.3.3.7">3.3.3.7 Allocation</a>
                  </h5>
				
                  <p>The standard allocation process is supported by FpML. The following messages are used to support it:</p>
				
                  <ul class="bulleted">
					
                     <li>requestAllocation</li>
					
                     <li>requestAllocationRetracted</li>
					
                     <li>allocationAcknowledgement</li>
					
                     <li>allocationException</li>
					
                     <li>allocationApproved</li>
					
                     <li>allocationRefused</li>
				
                  </ul>
				
			
                  <div>
                     <h5>
                        <a id="s3.3.3.7.1">3.3.3.7.1 Scenarios</a>
                     </h5>
					
                     <p>The following scenarios are used to describe the message exchanges:</p>
					
					
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s3.3.3.7.1.1">3.3.3.7.1.1 Normal Operation</a>
                        </h5>
						
                        <p>The successful allocation process involves requesting the allocation from the Allocation Requester. The Allocation Provider sends an acknowledgement message immediately.</p>
						
                        <p>The Allocation Provider is then in charge of deciding whether the allocation is approved or refused.</p>
						
                        <p>If the allocation is approved, the Allocation Provider sends an allocationApproved message. On the other hand, if the allocation is refused, it sends and allocationRefused message.</p>
						
                        <a href="images/messaging/allocation-normal.jpg">
                           <img src="images/messaging/allocation-normal.jpg" alt="images/messaging/allocation-normal.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.7.1.2">3.3.3.7.1.2 Exception</a>
                        </h5>
						
                        <p>If there is a problem with the the allocationRequest, the Allocation Provider sends back an allocationException message. The message includes the reason of the problem.</p>
						
                        <a href="images/messaging/allocation-exception.jpg">
                           <img src="images/messaging/allocation-exception.jpg" alt="images/messaging/allocation-exception.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.7.1.3">3.3.3.7.1.3 Correction Possible</a>
                        </h5>
						
                        <p>The requestAllocation may contain mistakes which can be corrected by sending the correct requestAllocation message correlated to a prior requestAllocation message with "isCorrection" element set to "true".</p>
						
                        <a href="images/messaging/allocation-correction.jpg">
                           <img src="images/messaging/allocation-correction.jpg" alt="images/messaging/allocation-correction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.7.1.4">3.3.3.7.1.4 Correction Not Possible</a>
                        </h5>
						
                        <p>In some situations the message cannot be corrected and the Allocation Provider sends back an exception message.</p>
						
                        <a href="images/messaging/allocation-no-correction.jpg">
                           <img src="images/messaging/allocation-no-correction.jpg" alt="images/messaging/allocation-no-correction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.7.1.5">3.3.3.7.1.5 Retraction Possible</a>
                        </h5>
						
                        <p>The requestAllocationRetracted message defines the structure for a message retracting a prior requestAllocation.</p>
						
                        <a href="images/messaging/allocation-retraction.jpg">
                           <img src="images/messaging/allocation-retraction.jpg" alt="images/messaging/allocation-retraction.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.3.7.1.6">3.3.3.7.1.6 Retraction Not Possible</a>
                        </h5>
						
                        <p>In some situations the message cannot be retracted and the Allocation Provider sends back an exception message.</p>
						
                        <a href="images/messaging/allocation-no-retraction.jpg">
                           <img src="images/messaging/allocation-no-retraction.jpg" alt="images/messaging/allocation-no-retraction.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
               </div>
            </div>
            <div>
               <h4>
                  <a id="s3.3.4">3.3.4 Description of Business Events</a>
               </h4>
			
			
			
			
			
		
               <div>
                  <h5>
                     <a id="s3.3.4.1">3.3.4.1 Novation</a>
                  </h5>
				
                  <p>A novation is a transaction in which a ‘transferor’ transfers to a ‘transferee’, with the consent of the ‘remaining party’, all of its rights and obligations under the contract in respect to the novated amount. The effect of the agreement is that for the ‘novated amount’ (i.e. all or part of the outstanding notional amount), the old transaction between the transferor and the remaining party is terminated, and a new transaction is executed between the remaining party and the transferee with economic terms identical to those of the old transaction.</p>
				
                  <p>A three-way novation is between a transferee, a transferor and a remaining party. The typical four-way novation is between a transferee, a transferor, a remaining party and a related second remaining party (where remaining party had the deal with the transferor, and the second remaining party is a related company to the remaining party who assumes the deal with the transferee).</p>
				
                  <p>
					
                     <a href="images/messaging/TradeNovationContent.png">
                        <img src="images/messaging/TradeNovationContent.png" alt="images/messaging/TradeNovationContent.png" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The required ‘transferor’, ‘transferee’, and ‘remainingParty’ elements, with the optional ‘otherRemainingParty’ element, indicate the roles in the transaction by providing references to the ‘party’ elements.</p>
				
                  <p>The optional ‘otherRemainingParty’ element is not applicable in a three-way novation and should be omitted. In a four-way novation the party referenced is Transferee 2. Transferee 2 means a party which accepts by way of novation the rights, liabilities, duties and obligations of Transferor 2. ISDA 2004 Novation Term: Transferee 2 (four-way novation).</p>
				
                  <p>The ‘oldTransaction’ indicates the original trade between the transferor and the remaining party. This can alternately be represented by the ‘oldTransactionReference’. The ‘newTransaction’ indicates the new trade between the transferor and the remaining party (for a 3-way novation) or other remaining party (for a 4-way novation). This can alternately be represented by 'newTransactionReference'.</p>
				
                  <p>The ‘novationDate' is the date on which the rights, obligations etc. transfer between the parties. The 'novationTradeDate' is the date on which the parties agree that they will novate. If a 'novationTradeDate' is not specified, the 'novationTradeDate' will be deemed to be the 'novationDate'. The ‘novatedAmount’ (or ‘novatedNumberOfOptions’) by validation rule must be of the same currency and equal to or less than the appropriate notional amount in the product element within the ‘oldTransaction’ between the transferor and the remaining party.</p>
				
                  <p>The 'fullFirstCalculationPeriod’ is of type boolean. If its value is 'true', ‘fullFirstCalculationPeriod’ has the implicit value of “applicable” as detailed in the ISDA novation agreement. On the other hand, if its value is 'false', it has the implicit value of "inapplicable".</p>
				
                  <p>The 'firstPeriodStartDate' with respect to the Transferee and Remaining Party is included in the Novations message to be able to make sense of the “new transaction” without requiring reference back to the “old transaction”. The 'href' attribute references the relevant party that is making the payments </p>
				
                  <p>The 'nonReliance' element corresponds to the non-Reliance section in the 2004 ISDA Novation Definitions, section 2.1 (c) (i). The element appears in the instance document when non-Reliance is applicable</p>
				
                  <p>The 'creditDerivativesNotices' element should be specified if one or more of either a Credit Event Notice, Notice of Publicly Available Information, Notice of Physical Settlement or Notice of Intended Physical Settlement, as applicable, has been delivered by or to the Transferor or the Remaining Party. The type of notice or notices that have been delivered should be indicated by setting the relevant boolean element value(s) to true.</p>
				
                  <p>The absence of the 'creditDerivativesNotices' element means that no Credit Event Notice, Notice of Publicly Available Information, Notice of Physical Settlement or Notice of Intended Physical Settlement, as applicable, has been delivered by or to the Transferor or the Remaining Party.</p>
				
                  <p>If the receiving party agrees with the novation then they should respond with a ‘NovationConsentGranted’ message. The Transferor or the Transferee may include the details of a payment representing the market value of the transaction.</p>
				
                  <p>Since the Novation transaction itself is governed by one or more ISDA contractual definitions and supplements these are specified within the Novation structure with the following two elements: 'contractualDefinitions' and 'contractualSupplements'.</p>
				
                  <p>For example, for an IRS novation this will typically reference the 2004 ISDA Novation Definitions and the 2000 ISDA Definitions. For Credit Derivatives it references the 2004 ISDA Novation Definitions, the 2003 ISDA Credit Derivatives Definitions and the May Supplement. So for interest rate products, the following values might be specified:</p>
				
                  <pre>
&lt;novation&gt;
		...
		&lt;contractualDefinitions&gt;ISDA2004Novation&lt;/contractualDefinitions&gt;
		&lt;contractualDefinitions&gt;ISDA2000&lt;/contractualDefinitions&gt;
		 ...
&lt;/novation&gt;
                                        </pre>
				
                  <p>And for credit derivatives, the following values might be specified:</p>
				
                  <pre>
&lt;novation&gt;
		...
		&lt;contractualDefinitions&gt;ISDA2004Novation&lt;/contractualDefinitions&gt;
		&lt;contractualDefinitions&gt;ISDA2003Credit&lt;/contractualDefinitions&gt;
		&lt;contractualSupplement&gt;ISDA2003CreditMay2003&lt;/contractualSupplement&gt;
		...
&lt;/novation&gt;
                                        </pre>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.3.4.2">3.3.4.2 Increase</a>
                  </h5>
				
                  <p>The Increase representation in FpML is used for increasing the notional amount of a trade.</p>
				
                  <p>
					
                     <a href="images/messaging/Increase.png">
                        <img src="images/messaging/Increase.png" alt="images/messaging/Increase.png" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The tradeIdentifier is used to reference the previously confirmed trade. The agreementDate is the date on which the parties enter into the increase transaction. The effectiveDate is the date on which the increase becomes effective.</p>
				
                  <p>A payment for the right of increase may occur.</p>
				
                  <p>Depending on the type of product, the amount of the increase is specified in the changeInNotionalAmount or changeInNumberOfOptions elements. Similarly, the outstanding amount of the trade after the increase is specified in the outstandingNotionalAmount or outstandingNumberOfOptions elements.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.3.4.3">3.3.4.3 Termination</a>
                  </h5>
				
                  <p>The Termination representation in FpML is used for terminating partially or fully a trade. The same business content is used for both full and partial terminations.</p>
				
                  <p>
					
                     <a href="images/messaging/Termination.png">
                        <img src="images/messaging/Termination.png" alt="images/messaging/Termination.png" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The tradeIdentifier is used to reference the previously confirmed trade. The agreementDate is the date on which the parties enter into the termination transaction. The effectiveDate is the date on which the termination becomes effective.</p>
				
                  <p>A payment for the right of termination may occur.</p>
				
                  <p>Depending on the type of product, the amount of the termination is specified in the changeInNotionalAmount or changeInNumberOfOptions elements. Similarly, the outstanding amount of the trade after the termination is specified in the outstandingNotionalAmount or outstandingNumberOfOptions elements. For a full termination, the outstanding amount will be set to 0.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.3.4.4">3.3.4.4 Amendment</a>
                  </h5>
				
                  <p>The Amendment representation in FpML is used for amending the terms of a trade.</p>
				
                  <p>
					
                     <a href="images/messaging/Amendment.png">
                        <img src="images/messaging/Amendment.png" alt="images/messaging/Amendment.png" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The trade element is used to represent the details of the amended trade. (Note that the use of tradeIdentifier is insufficient for providing the amended trade details and is not allowed.) The agreementDate is the date on which the parties enter into the amendment transaction. The effectiveDate is the date on which the amendment becomes effective.</p>
				
                  <p>A payment for the right of amendment may occur.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s3.3.4.5">3.3.4.5 Allocation</a>
                  </h5>
				
                  <p>Allocations are the division of a single market trade across two or more investors/funds.</p>
				
				
			
                  <div>
                     <h5>
                        <a id="s3.3.4.5.1">3.3.4.5.1 Linking Mechanism</a>
                     </h5>
					
                     <p>This section describes the way of representing allocations in FpML. This is done using the existing FpML trade structure in order to represent both, the block and the allocated trades.</p>
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s3.3.4.5.1.1">3.3.4.5.1.1 Design Assumptions</a>
                        </h5>
						
                        <ul class="bulleted">
							
                           <li>To identify block and allocated trades inside the current FpML trade structure.</li>
							
                           <li>The allocated trades may be not known upfront so the solution covers two situations: <ul class="bulleted">
								
                                 <li>The system knows upfront the block and the allocated trades.</li>
								
                                 <li>The system knows the block trade but not the allocated trades.</li>
							
                              </ul>
							
                           </li>
							
                           <li>To allow for 2-way linkage, this means to: <ul class="bulleted">
								
                                 <li>Indicate the block trade and the id for the subsequent allocated trades.</li>
								
                                 <li>Indicate in an allocated trade the id for the original block trade.</li>
							
                              </ul>
							
                           </li>
							
                           <li>The tradeId element for any kind of trades (normal, block, allocated) should be kept at the same location as currently stands in the FpML trade structure. </li>
						
                        </ul>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.4.5.1.2">3.3.4.5.1.2 Implementation</a>
                        </h5>
						
                        <p>The implementation uses the PartyTradeIdentifier type. Depending whether the trade is a block or an allocated trade, the allocationTradeId and the blockTradeId elements would be filled out.</p>
						
                        <p>
							
                           <a href="images/messaging/PartyTradeIdentifier.png">
                              <img src="images/messaging/PartyTradeIdentifier.png" alt="images/messaging/PartyTradeIdentifier.png" class="image"/>
                           </a>
						
                        </p>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.4.5.1.3">3.3.4.5.1.3 Examples</a>
                        </h5>
						
                        <p>This is an analysis of the different situations:</p>
						
						
						
					
                        <div>
                           <h5>
                              <a id="s3.3.4.5.1.3.1">3.3.4.5.1.3.1 Normal Trade</a>
                           </h5>
							
                           <pre> 
                                                        ...
&lt;tradeHeader&gt;
        &lt;partyTradeIdentifier&gt;
                &lt;partyReference href=”BGI”/&gt;
                &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC100&lt;/tradeId&gt;
        &lt;/partyTradeIdentifier&gt;
&lt;/tradeHeader&gt;                                                        
                                                        ...    
                                                        </pre>
						
                        </div>
                        <div>
                           <h5>
                              <a id="s3.3.4.5.1.3.2">3.3.4.5.1.3.2 Normal trade that is subsequently split/allocated into two trades</a>
                           </h5>
							
                           <p>It is allocated into two trades ABC101 and ABC102. The block trade includes links (allocationTradeId) to the allocated trades.</p>
							
                           <pre> 
                                                        ...
&lt;tradeHeader&gt;
        &lt;partyTradeIdentifier&gt;
                &lt;partyReference href=”BGI”/&gt;
                &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC100&lt;/tradeId&gt;
                &lt;allocationTradeId&gt;  
                        &lt;partyReference href=”Fund1”/&gt;
                        &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC101&lt;/tradeId&gt;
                &lt;/allocationTradeId&gt;
                &lt;allocationTradeId&gt;  
                        &lt;partyReference href=”Fund2”/&gt;
                        &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC102&lt;/tradeId&gt;
                &lt;/allocationTradeId&gt;
        &lt;/partyTradeIdentifier&gt;
&lt;/tradeHeader&gt;                                                        
                                                        ...    
                                                        </pre>
						
                        </div>
                        <div>
                           <h5>
                              <a id="s3.3.4.5.1.3.3">3.3.4.5.1.3.3 Each of the resulting allocated trades</a>
                           </h5>
							
                           <p>Each of the resulting allocated trades is a separate FpML trade element. Each one of the trades is identified as allocated trade with the xsi:type="AllocationTradeIdentifier".</p>
							
                           <p>Allocated trade ABC101:</p>
							
                           <pre> 
                                                        ...
&lt;tradeHeader&gt;
        &lt;partyTradeIdentifier&gt;
                &lt;partyReference href=”Fund1”/&gt;
                &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC101&lt;/tradeId&gt;
                &lt;blockTradeId&gt;  
                        &lt;partyReference href=”BGI”/&gt;
                        &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC100&lt;/tradeId&gt;
                &lt;/blockTradeId&gt;
        &lt;/partyTradeIdentifier&gt;
&lt;/tradeHeader&gt;
                                                        ...    
                                                        </pre>
							
                           <p>Allocated trade ABC102:</p>
							
                           <pre> 
                                                        ...
&lt;tradeHeader&gt;
        &lt;partyTradeIdentifier&gt;
                &lt;partyReference href=”Fund2”/&gt;
                &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC102&lt;/tradeId&gt;
                &lt;blockTradeId&gt;  
                        &lt;partyReference href=”BGI”/&gt;
                        &lt;tradeId tradeIdScheme=”http://abc.com”&gt;ABC100&lt;/tradeId&gt;
                &lt;/blockTradeId&gt;
        &lt;/partyTradeIdentifier&gt;
&lt;/tradeHeader&gt;                                                        
                                                        ...    
                                                        </pre>
						
                        </div>
                     </div>
                     <div>
                        <h5>
                           <a id="s3.3.4.5.1.4">3.3.4.5.1.4 N-Level Allocations</a>
                        </h5>
						
                        <p>The PartyTradeIdentifier type supports the representation of N-level allocations in FpML. This basically means the ability to allocate a block trade to multiple allocation trades, and then allocate these in turn to other allocation trades (and so on if desired).</p>
						
                        <p>The support of N-Level Allocations is done including the allocationTradeId element and the blockTradeId element at the same time.</p>
						
					
                     </div>
                  </div>
                  <div>
                     <h5>
                        <a id="s3.3.4.5.2">3.3.4.5.2 Short Form Representation of Allocations</a>
                     </h5>
					
                     <p>This section describes a representation of allocation trades with the following features:</p>
					
                     <ul class="bulleted">
						
                        <li>Supports a "short-form" allocation representation, in which the key block economics are stated once, and the allocation data is contained in a terse matrix.</li>
						
                        <li>Supports credit and collateral requirements, and approval management (per subaccount).</li>
						
                        <li>Supports fees that must be allocated ("block" fees) and fees that should not be allocated ("third party" fees).</li>
					
                     </ul>
					
                     <p>There are two basic design principles:</p>
					
                     <ul class="bulleted">
						
                        <li>The first principle is that models should always provide the option to correlate by identifier or by the entire trade but never a partial trade that requires matching.</li>
						
                        <li>The second principle is that the "short-form" representation of allocations should be possible in post-trade messages.</li>
					
                     </ul>
					
                     <p>The agreement of the Messaging Working Group was to place this "short-form" representation within the trade structure in order to use this form of representation across the different post-trade messages.</p>
					
                     <p>
						
                        <a href="images/messaging/trade-allocations.jpg">
                           <img src="images/messaging/trade-allocations.jpg" alt="images/messaging/trade-allocations.jpg" class="image"/>
                        </a>
					
                     </p>
				
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s4">4 VALIDATION ARCHITECTURE</a>
            </h2>
         </div>
	
	
	
	
	
	
	
	
	

         <div>
            <h3>
               <a id="s4.1">4.1 Validation Rules</a>
            </h3>
		
            <p> This section defines the business validation rules architecture that was established by the Validation Working Group. It contains introductory and background information about the purpose of validation, a guide to how to make use of the documents published by the Validation Working Group, and serves as a reference point for implementers. </p>
		
            <p> The main documents produced by the Validation Working Group is the set of validation rules, expressed in English:</p>
		
            <ul class="bulleted">
			
               <li>Equity Derivative Rules: <a class="web" href="validation-rules/rules-english-eqd.html">Business constraints for EQD definitions.</a>
               </li>
			
               <li>Interest Rate Derivative Rules: <a class="web" href="validation-rules/rules-english-ird.html">Business constraints for IRD definitions.</a>
               </li>
			
               <li>Credit Derivatives Rules: <a class="web" href="validation-rules/rules-english-cd.html">Business constraints for CD definitions.</a>
               </li>
		
			
			
			
			
               <li>Business Process Rules: <a class="web" href="validation-rules/rules-english-bp.html">Business constraints for Business Process messages.</a>
               </li>
			
               <li>Messaging Rules: <a class="web" href="validation-rules/rules-english-msg.html">Business constraints for Messaging.</a>
               </li>
			
               <li>Shared Elements Rules: <a class="web" href="validation-rules/rules-english-shared.html">Supplementary business constraints in addition to the specific assets.</a>
               </li>
			
               <li>ID / IDREF Rules: <a class="web" href="validation-rules/rules-english-ref.html">Business constraints for ID / IDREF relationships.</a>
               </li>
			
		
            </ul>
		
            <p/>
		
            <p> The validation rules follow the principles and guidelines defined in the <a class="web" href="#s4.6">Validation Rule Specifications</a> section.</p>
		
            <p> Previous versions of the validation rules, expressed in English:</p>
		
            <ul class="bulleted">
			
               <li>Validation Rules 4.1 - July 19, 2004: <a class="web" href="http://www.fpml.org/spec/2004/FpML-4-1/validation/" target="_blank" title="Link opens in new window.">http://www.fpml.org/spec/2004/FpML-4-1/validation/</a>
               </li>
			
               <li>Validation Rules 4.0 - April 2, 2004: <a class="web" href="http://www.fpml.org/2003/FpML-4-0/validation/" target="_blank" title="Link opens in new window.">http://www.fpml.org/2003/FpML-4-0/validation/</a>
               </li>
			
		
            </ul>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.2">4.2 Reference Implementations</a>
               </h3>
            </div>
		
            <p> The Validation Working Group's charter includes a mandate to formalize the validation rules from their plain English representation to a suitable implementation language. The purpose of this decision was to disambiguate the English language representation, to serve as a point of reference for implementers looking for clarification, and to validate the test cases produced by the working group. Reference implementations play an important part in providing quality guarantees to the working group and it is hope that their publication will be useful to implementers. </p>
		
		
		
		
		
            <p> The reference implementations are <b>non-normative</b> and should not be considered publications of the Validation Working Group. Instead, they are contributions provided by members of the working group or other implementers. </p>
		
            <p> Although the working group does not have the means to provide official certification, it expects implementers to demonstrate that they produce the correct results - valid or invalid - for the normative test cases of each implemented rule. There is no requirement to implement all rules, but reference implementations will state clearly which rules are implemented by publishing a list of rule identifiers. </p>
	
            <div>
               <h4>
                  <a id="s4.2.1">4.2.1 Java and C#</a>
               </h4>
			
               <table class="table">
				
                  <tr>
					
                     <td>
						
                        <b>Provider</b>
					
                     </td>
					
                     <td>
						
                        <!--a href="images/validation/handcoded.png"-->
                           <img src="images/validation/handcoded.png" alt="images/validation/handcoded.png" class="image"/>
                        <!--/a-->
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implementation Language</b>
					
                     </td>
					
                     <td>Java and C#</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implemented Rules</b>
					
                     </td>
					
                     <td>
						
                        <i>All published FpML rules (plus adjustments for FpML 1.0, 2.0 and 3.0); Additional rules for datatypes (in DTD documents FpML 1.0, 2.0 and 3.0); Additonal rules for schemes (all FpML releases)</i>
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Browse</b>
					
                     </td>
					
                     <td> N/A </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Further Information</b>
					
                     </td>
					
                     <td>
						
                        <a class="web" href="http://www.handcoded.com" target="_blank" title="Link opens in new window.">http://www.handcoded.com</a>
					
                     </td>
				
                  </tr>
			
               </table>
		
            </div>
            <div>
               <h4>
                  <a id="s4.2.2">4.2.2 Java/XPath</a>
               </h4>
			
               <table class="table">
				
                  <tr>
					
                     <td>
						
                        <b>Provider</b>
					
                     </td>
					
                     <td>
						
                        <!--a href="images/validation/prgs.jpg"-->
                           <img src="images/validation/prgs.jpg" alt="images/validation/prgs.jpg" class="image"/>
                        <!--/a-->
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implementation Language</b>
					
                     </td>
					
                     <td>Xpath/Java</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implemented Rules</b>
					
                     </td>
					
                     <td>
						
                        <i>All versions, All rules</i>
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Browse</b>
					
                     </td>
					
                     <td>
						
                        <a class="web" href="http://www.iona.com/products/artix/standards_libraries.htm" target="_blank" title="Link opens in new window.">FpML Reference Implementation</a>
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Further Information</b>
					
                     </td>
					
                     <td>
						
                        <a class="web" href="http://www.iona.com/products/artix/standards_libraries.htm" target="_blank" title="Link opens in new window.">http://www.iona.com/products/artix/standards_libraries.htm</a>
					
                     </td>
				
                  </tr>
			
               </table>
		
            </div>
            <div>
               <h4>
                  <a id="s4.2.3">4.2.3 CLiX</a>
               </h4>
			
               <table class="table">
				
                  <tr>
					
                     <td>
						
                        <b>Provider</b>
					
                     </td>
					
                     <td>
						
                        <!--a href="images/validation/ma.jpg"-->
                           <img src="images/validation/ma.jpg" alt="images/validation/ma.jpg" class="image"/>
                        <!--/a-->
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implementation Language</b>
					
                     </td>
					
                     <td>CLiX / Java</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implemented Rules</b>
					
                     </td>
					
                     <td>
                        <a class="web" href="http://www.fpml.org/2003/FpML-4-0/validation/2004-04-02/" target="_blank" title="Link opens in new window."> http://www.fpml.org/2003/FpML-4-0/validation/2004-04-02</a>:
						<i>All rules</i>
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Browse</b>
					
                     </td>
					
                     <td>
						
                        <a class="web" href="http://www.messageautomation.com" target="_blank" title="Link opens in new window.">FpML Reference Implementation</a>
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Further Information</b>
					
                     </td>
					
                     <td>
						
                        <a class="web" href="http://www.messageautomation.com" target="_blank" title="Link opens in new window.">http://www.messageautomation.com</a>
					
                     </td>
				
                  </tr>
			
               </table>
		
            </div>
            <div>
               <h4>
                  <a id="s4.2.4">4.2.4 XQuery</a>
               </h4>
			
               <table class="table">
				
                  <tr>
					
                     <td>
						
                        <b>Provider</b>
					
                     </td>
					
                     <td>
						
                        <!--a href="images/validation/fpml-logo-small.gif"-->
                           <img src="images/validation/fpml-logo-small.gif" alt="images/validation/fpml-logo-small.gif" class="image"/>
                        <!--/a-->
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implementation Language</b>
					
                     </td>
					
                     <td>XQuery</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Implemented Rules</b>
					
                     </td>
					
                     <td>
						
                        <i>All rules, version 4.5+</i>
					
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Browse</b>
					
                     </td>
					
                     <td>
						N/A
					</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
						
                        <b>Further Information</b>
					
                     </td>
					
                     <td>
						
                        <a class="web" href="validation-rules/xquery/readme.html" target="_blank" title="Link opens in new window.">FpML Reference Implementation</a>
					
                     </td>
				
                  </tr>
			
               </table>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.3">4.3 Test Cases</a>
               </h3>
            </div>
		
            <p> The Validation Working Group also publishes a set of test cases with each rule set release (available above). For each rule, a number of valid examples and a number of invalid counter-examples are given. The test cases for a release will have been validated both manually and against at least one reference implementation to check that they are correct. The test cases have the following properties: </p>
		
            <ul class="bulleted">
			
               <li>All test cases are valid against the schema</li>
			
               <li>Every valid test case is valid against all rules (business valid), but is guaranteed to carry the information that the particular rule it is designed to test against makes use of.</li>
			
               <li>Every invalid test case for a rule is guaranteed to violate the rule, but <i>may in addition violate other rules</i>.</li>
			
               <li>Each invalid test case must state which instance of the context is invalid. For example an invalid document with more than one matching context must state which contexts are invalid, and the other contexts must be valid.</li>
			
               <li>There is no guarantee of completeness. The test cases are designed for disambiguation and test the most common violations, they are not an exhaustive set of boundary cases.</li>
		
            </ul>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.4">4.4 Target Audience</a>
               </h3>
            </div>
		
            <p> This document should be useful to: </p>
		
            <ul class="bulleted">
			
               <li>
				
                  <i>Architects</i> that need to consider the impact of semantic validation on the overall workflow or processing pipeline. <i>Relevant section:</i> Validation Architecture Concepts</li>
			
               <li>
				
                  <i>Implementers</i> of FpML that need to understand how to make use of the validation rules in implementations. <i>Relevant section:</i> Validation Rules and Reference Implementations</li>
			
               <li>
				
                  <i>Analysts</i> or other interested parties who wish to use the validation rules to further their understanding of FpML. <i>Relevant section:</i> Background</li>
		
            </ul>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.5">4.5 Background</a>
               </h3>
            </div>
		
            <p> FpML has been designed as a very rich language, with a large amount of optionality in its element and attribute definitions. This richness, which arises from the complexity of the information that FpML is designed to carry, has made it easier for implementers to fit FpML into existing architectures, and has facilitated the reuse of common element types across different asset classes. </p>
		
            <p> Partly due to this flexibility, and partly due to the rich structure of FpML, it is unrealistic to assume that a schema-validated FpML document is necessarily correct in a business sense. The Validation Working Group was established early in 2003 to consider the implications of this problem and breaks down the correctness of an FpML document into three parts: </p>
		
            <ul class="bulleted">
			
               <li>
				
                  <i>Well-formed XML</i>: The document meets the basic XML well-formedness constraints defined by W3C. </li>
			
               <li>
				
                  <i>Schema Compliance</i>: The document is valid against the Schema that the document references.</li>
			
               <li>
				
                  <i>Business Rules Compliance</i>: The document is valid against the validation rules published by the Validation Working Group. </li>
		
            </ul>
		
            <p> It is useful to consider some simple example to illustrate the different levels of validity. The following is a fragment of a well-formed FpML document, but violates the schema due to an invalid start date:</p>
		
            <pre>

&lt;calculationPeriodDates&gt;

  &lt;effectiveDate&gt;

    &lt;unadjustedDate&gt;xxxx-xx-xx&lt;/unadjustedDate&gt;

    ..

  &lt;/effectiveDate&gt;

  &lt;terminationDate&gt;

    &lt;unadjustedDate&gt;2004-02-29&lt;/unadjustedDate&gt;

    ..

  &lt;/terminationDate&gt;

  ..

&lt;/calculationPeriodDates&gt;</pre>
		
            <p> The following version of the fragment is syntactically valid, because the contents of the effective date now match the schema definition of a valid date. </p>
		
            <pre>

&lt;calculationPeriodDates&gt;

  &lt;effectiveDate&gt;

    &lt;unadjustedDate&gt;2004-08-29&lt;/unadjustedDate&gt;

    ..

  &lt;/effectiveDate&gt;

  &lt;terminationDate&gt;

    &lt;unadjustedDate&gt;2004-02-29&lt;/unadjustedDate&gt;

    ..

  &lt;/terminationDate&gt;

  ..

&lt;/calculationPeriodDates&gt;</pre>
		
            <p> The fragment of FpML inserted above is however not <i>semantically valid</i>, because the effective date of the trade precedes the termination date. As a consequence, the trade is not meaningful and in fact violates one of the validation rules for IRD interest rate streams. Many other types of constraints will not be validated by the schema, which is designed to designate structure, not semantics: </p>
		
            <ul class="bulleted">
			
               <li>Constraints between the <i>contents</i> of multiple elements, like as in example given above</li>
			
               <li>Relationships between elements in distant parts of the document</li>
			
               <li>Complex data type operations that require processing, for example checking cash flows against the parametric representation</li>
			
               <li>Reference data validity, or other checks against external documents or databases</li>
		
            </ul>
		
            <p> The validation working group has considered these problems and their implications, and has attempted to address a number of questions. How do we extract the knowledge about what constitutes a correct trade from business experts? What, if any, guarantees will we give that our work is complete? What is the normative status of the validation rules? How can parties override or tailor the rule set? What infrastructure support is necessary in the FpML architecture to enable rule-based checking? What support is necessary in the new messaging framework? The answers to these questions are addressed in the remainder of this section. </p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.6">4.6 Rule Specifications</a>
               </h3>
            </div>
		
            <p>This section defines the guiding principles and requirements for how rules should be defined and written. The Validation Working Group’s desire is to define a set of guidelines, which when followed produce a set of rules which conforms to an agreed standard of layout and content, with the intention that the rules are coherent, complete and well-defined; and therefore usable by practitioners.</p>
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s4.6.1">4.6.1 General Principles and Guidelines</a>
               </h4>
			
               <p>Validation rules should be written in a stylized plain English which is both precise and complete, but not necessarily formal:</p>
			
               <ul class="bulleted"> 
				
                  <li>The target audience is business analysts and programmers familiar with OTC derivatives</li>
				
                  <li>The rule definitions must be precise</li>
				
                  <li>Rules must be written in the terms of an infoset. At present the only suitable infoset is XDM *</li>
				
                  <li>For each context of a rule, the rule must evaluate to a single XML schema Boolean value +</li>
				
                  <li>The definition of each English term should correspond to an XPath 2 expression. NB all other terms or tests must be defined using terms already defined or existing XPath 2 expressions (cf. <a class="web" href="http://www.w3.org/TR/xpath20/" target="_blank" title="Link opens in new window.">http://www.w3.org/TR/xpath20</a>). Any reference to XPath is to XPath 2.</li>
			
               </ul>
			
               <p>
                  <b>*</b> XML infoset does not contain schema information; PVSI contains gaps and impossible scenarios when used for rules, and therefore is unsuitable; this is why the W3C created the XDM infoset. NB model groups do not appear in XDM and therefore cannot be defined in the rule (they are also context free)</p>
			
               <p>
                  <b>+</b> other cases would result in ambiguity, e.g. an optional Boolean value or more than one Boolean value (multiplicity)</p>
		
            </div>
            <div>
               <h4>
                  <a id="s4.6.2">4.6.2 Mathematical Notation</a>
               </h4>
			
               <p>There is a list of approved mathematical symbols which must be used, in the formal description, instead of their natural language equivalents. This list contains the commonly understood mathematical symbols. Only the symbols on the approved list may be used in the formal description. Their advantage is their terseness and readability compared to natural language.</p>
			
               <p>To avoid confusion with XPath definitions, each symbol must be separated for other words with a space. Otherwise for example the division symbol and the XPath symbol would be confusable.</p> 
			
               <p>The approved mathematical symbols are:</p>
			
               <table class="table">
				
                  <tr>
					
                     <td>
                        <b>eq</b>
                     </td>
					
                     <td>equality (XPath value comparison operator)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>ne</b>
                     </td>
					
                     <td>inequality (XPath value comparison operator)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>lt and gt</b>
                     </td>
					
                     <td>is less/greater than (XPath value comparison operator)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>le and ge</b>
                     </td>
					
                     <td>is less/greater than or equal (XPath value comparison operator)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>+</b>
                     </td>
					
                     <td>addition (plus)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>-</b>
                     </td>
					
                     <td>substraction (minus)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>*</b>
                     </td>
					
                     <td>multiplication</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>/</b>
                     </td>
					
                     <td>division</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>()</b>
                     </td>
					
                     <td>precedence grouping</td>
				
                  </tr>
			
               </table>
			
               <p>XPath value comparison operators (eq, ne, lt, le, gt, ge) are defined in the <a class="web" href="http://www.w3.org/TR/xpath20/#doc-xpath-ValueComp" target="_blank" title="Link opens in new window.">XPath specification</a>.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s4.6.3">4.6.3 Rule Definition and Layout</a>
               </h4>
			
               <p>To ensure consistency and improve readability rules should be defined using the following syntax (the notation is expressed using EBNF):</p>
			
               <table class="table">
				
                  <tr>
					
                     <td>
                        <b>Rule</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>RuleIdExpr Contexts RuleDef Tests</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>RuleIdExpr</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>RuleId “(” “Mandatory” | “Warning” “)”</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>RuleId</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>ProductType “-” Digits</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>ProductType</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>One of the product type or shared</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Digits</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>[0-9]+</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Contexts</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>Context (“,” Context)*</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Context</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>“Context:” TypeName (ContextConds)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>ContextConds</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>ContextCond (ContextCond)*</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>ContextCond</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>“[”ConditionExpr | ValCondition “]”</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>ConditionExpr</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>Precise definition of the rule expressed in English using defined terms</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>ValCondition</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>Reference to a global validation condition (ref) expressed in English</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>TypeName</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>XML Schema Type Name (complex type)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>RuleDefEnglish</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>English definition of the rule expressed in natural language. This description may include business reasons or examples.</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>RuleDefFormal</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>Formal definition of the rule expressed in XPath and defined terms</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Tests</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>“Test Cases:” Valid (Valid)* Invalid (Invalid)*</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Valid</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>“[“ DocLink “]”</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Invalid</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>“[“ DocLink “]”</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>DocLink</b>
                     </td>
					
                     <td>::=</td>
					
                     <td>Link to a test case document</td>
				
                  </tr>
			
               </table>

		
			
               <ul class="bulleted"> 
				
                  <li>rule identifier must be unique and as appropriate the product type they apply to should prefix any numbering scheme (e.g. eqd-5 for rule 5 of Equity Derivatives)</li>
				
                  <li>a Context evaluates from the document node to a resulting set of element nodes, the rule should then be applied separately to each member of the set</li>
				
                  <li>a Context is qualified by an appropriate namespace unless it is in the default namespace (NB a section should define all applicable namespaces)</li>
				
                  <li>context conditions qualify a context and therefore should appear after the context (this is important in the case of multiple contexts where different context conditions may apply)</li>
				
                  <li>the current context is not carried through into a function. The function has no context other than its parameters</li>
				
                  <li>a suitable set of valid and invalid test cases, which exercise the rule, will also need to be developed. NB each invalid test case must invalidate a single rule (and not any other rule)</li>
				
                  <li>when a new rule is defined it should not invalidate any existing test cases</li>
				
                  <li>there should be no redundant rules, e.g. A&gt;B, B&gt;C would make a rule of the form A&gt;C redundant</li>
				
                  <li>any term that is defined in XPath then that meaning is used for the term in the RuleDef. Any other term must be defined as a function</li>
				
                  <li>literal values must be given a datatype. For example, the string "ISDA1999" refers to a value of xs:string</li>
			
               </ul>
			
               <p>Rule layout:</p>
			
               <p>
				
                  <a href="images/validation/rulelayout.jpg">
                     <img src="images/validation/rulelayout.jpg" alt="images/validation/rulelayout.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>An example rule:</p>
			
               <p>
				
                  <a href="images/validation/samplerule.JPG">
                     <img src="images/validation/samplerule.JPG" alt="images/validation/samplerule.JPG" class="image"/>
                  </a>
			
               </p>
			
               <p>The above definition describes rule 3 for credit derivatives. The context is type <i>Trade</i>, which is a complex type. The precondition ISDA1999 must evaluate to true, the condition that node-element <i>documentation/contractualSupplement</i> (as expressed using XPath 2) should exist. The rule body specifies that the node-element type must not begin with string <i>“ISDA2003Credit”</i> (finally links to applicable valid and invalid test case documents.)</p>
		
            </div>
            <div>
               <h4>
                  <a id="s4.6.4">4.6.4 Defining New Terms as Functions</a>
               </h4>
			
               <p>In the previous sections, the notion of expressing rules using stylized English was introduced; and the concomitant concept that a term should have the same meaning as the equivalent XPath expression. This section introduces functions as a mechanism to define repeatable tests that are applied independent of a context. Functions take node-element types as parameters and return a typed result.</p>
			
               <p>Consider a test requiring that all currencies must be the same and that this applies for several different contexts. With reference to the schema it’s possible to identify that currency is applicable to all Money types and therefore define a function which accepts as a parameter a set of Money nodes:</p>
			
               <table class="table">
				
                  <tr>
					
                     <td>
                        <b>Function Name</b>
                     </td>
					
                     <td>same-currency</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Description</b>
                     </td>
					
                     <td>the set of money elements must all contain the same currency</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Parameter 1</b>
                     </td>
					
                     <td>$money (fpml:Money) (min=2, max=*)</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Result Type</b>
                     </td>
					
                     <td>xs:boolean</td>
				
                  </tr>
				
                  <tr>
					
                     <td>
                        <b>Test</b>
                     </td>
					
                     <td>Every $money/currency must be the same and every $money/currency/@currencyScheme must be the same</td>
				
                  </tr>
			
               </table>
			
               <p>This creates a new term <i>same-currency</i> which can be used as part of the definition of any validation rule.</p>
			
               <p>NB The function does not inherit the context of where it is called from.</p>
			
               <p>Each parameter name is prefixed with "$" to distinguish it from an XPath. Otherwise "money" might be either the parameter "$money" or the XPath "./money".</p>
			
               <p>Each parameter has a minimum and maximum cardinality. This is given in the style of XML Schema. The cardinality must always be present. If the cardinality is not indicated, by default, the parameter must be provided once.</p>
			
               <p>Each function must have a single result type.</p>
			
               <p>There can be any number of parameters to a function.</p>
			
		
               <div>
                  <h5>
                     <a id="s4.6.4.1">4.6.4.1 How to use functions?</a>
                  </h5>
				
                  <p>Once a new term (e.g., <i>same-currency</i>) is defined, it can be used as part of the definition of any validation rule (including conditions).</p>
				
                  <p>A reference to a new term must also include required parameters (within parenthesis and comma-delimited) as specified in the function definition. For example,</p>
				
                  <ul class="bulleted">
					
                     <li>same-currency((equityPremium/paymentAmount , notional))</li>
					
                     <li>[exists(physicalSettlementTerms)]      <i>(example of Xpath function exists() used within a condition)</i>
                     </li>
				
                  </ul>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s4.6.5">4.6.5 Formatting</a>
               </h4>
			
               <p>Components of the validation rules may be differenciated by  formatting as shown in the following table.</p>
			
               <table class="table">
				
                  <tr>
					
                     <td>
                        <b>Component</b>
                     </td>
					
                     <td>
                        <b>Formatting</b>
                     </td>
					
                     <td>
                        <b>Example</b>
                     </td>
				
                  </tr>
				
                  <tr>
					
                     <td>values</td>
					
                     <td>Courier New, 12pt, bold, black font</td>
					
                     <td>100, ISDA2003Credit</td>
				
                  </tr>
				
                  <tr>
					
                     <td>xpath expressions and elements</td>
					
                     <td>Courier New, small 9pt, blue font</td>
					
                     <td>creditDefaultSwap/generalTerms/effectiveDate</td>
				
                  </tr>
				
                  <tr>
					
                     <td>functions</td>
					
                     <td>Times, 10pt, black font</td>
					
                     <td>exists(argument)</td>
				
                  </tr>
			
               </table>
			
               <p>Formatting is defined in stylesheet <i>rules.css</i>.</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.7">4.7 Technical Guidelines</a>
               </h3>
            </div>
		
		
		
	
            <div>
               <h4>
                  <a id="s4.7.1">4.7.1 Implementations</a>
               </h4>
			
               <p>For the purposes of precision, extensibility, and robustness to change the structure of the Validation Rules is profiled. The rules of the profile are:</p>
			
               <ul class="bulleted"> 
				
                  <li>The <i>context</i> for a validation rule <i>must</i> always be a <i>type</i>. However, an <i>element</i> can be used for a <i>context</i> if there is no suitable <i>type</i>, because the <i>context</i> is a model group. If the <i>context</i> isn't a model group, then an <i>element</i> cannot be used."</li>
				
                  <li>The <i>paths</i> from the context should be <i>node names</i> rather than types wherever posssible. For example "equityAmericanExercise" is preferred to "element(*, EquityAmericanExercise)".</li>
				
                  <li>The <i>context</i> of the rule <i>must</i> be defined such that incorporates everything referred to in a rule. The rule <i>must not</i> use the <i>ancestor</i> or <i>parent</i> axis, or use them in cojunction with any other axis. For example "../../tradeHeader" is precluded.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s4.7.2">4.7.2 Evaluation of Dates</a>
               </h4>
			
               <p>The evaluation of dates in the validation rules is not trivial. The optionality of including time offsets in date datatypes makes comparisons between dates more difficult since sometimes the result is indeterminate as any ISO8601 date is +/- 18 hours of timezone, and +/- 24 hours of day.</p>
			
               <p>The Validation Working Group recommends the use of the <a class="web" href="http://www.w3.org/TR/xpath20/" target="_blank" title="Link opens in new window.">XPath 2.0</a> date/time comparison rules which defines a definitive true / false value even for indeterminate calculations.</p>
			
               <p>The Validation Working Group recommends that time offsets appear on all date/time values used in FpML documents.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s4.7.3">4.7.3 Contains</a>
               </h4>
			
               <p>Many validation rules defined in FpML use the term 'contains'. FpML uses the definition of XPath 2's 'contains' (fn:contains) <a class="web" href="http://www.w3.org/TR/xpath-functions/#func-contains" target="_blank" title="Link opens in new window.">http://www.w3.org/TR/xpath-functions/#func-contains</a>. This is significant for alphabets with accents, diaresis, etc.</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.8">4.8 Revision and Publication Process</a>
               </h3>
            </div>
		
            <p> Since the Validation Working Group was established after most product working groups, it still has a lot of work to complete before the rules span the whole product range, and indeed are reasonably complete for any particular product type. The latest set of validation rules is thus likely to change more frequently than the specification, and the process of rule publication has been decoupled from the specification. </p>
		
            <p> The validation working group undergoes the following process in preparing its releases: </p>
		
            <ul class="bulleted">
			
               <li>Comments from previous publications are reviewed and logged as issues. </li>
			
               <li>The working group collaborates with selected experts from product working group to establish an initial set of rules, expressed in plain English. </li>
			
               <li>The rules are reviewed and extended, by performing a structured walk-through of the schema for the product type. </li>
			
               <li>The chairman of the Validation Working Group calls a freeze on the rule sets when a substantial set of new rules is available, or critical issues need to be urgently resolved. </li>
			
               <li>Test cases are written for each rule and ambiguities in the language addressed. This process usually leads to the elimination of some rules, and discovery of additional ones. </li>
			
               <li>The test cases <i>must</i> be validated by at least one reference implementation, and further ambiguities eliminated. </li>
		
            </ul>
		
            <p> At the end of this process, a new URI is allocated for the revised rule set, and the rule set is announced and published as the new normative rule set on the FpML web site. We expect to publish the process to take on average three months for the foreseeable future. </p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s4.9">4.9 Normativity and its Implications</a>
               </h3>
            </div>
		
            <p>The rule sets and test cases are the <b>normative</b> content published by the Validation Working Group. The reference implementations, see below, are informative and not part of the normative process. This normative characteristic has the implication that applications that construct FpML documents have to be designed so that their output meets the full set of validation constraints. </p>
		
            <p>Applications that receive FpML for processing may want to check the validation rules to ensure that the data they are receiving represent a valid FpML document. Processing applications are <b>not obliged</b> to reject invalid messages. Instead, the implications of rule normativity are that the receiver gains the right to reject invalid messages. In other words, the sender has to either be prepared for rejection, or the rule set has to be tailored.</p>
		
            <p>The validation working group is concerned that there may be legal implications due to this definition in situations where trades are executed between counter-parties. While we believe that the definition given above, providing a right for the receiver to reject trades and placing the burden on the sender, is the least controversial, we would like to obtain additional feedback on this issue before the publication of the final recommendation.</p>
	
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s5">5 INTEREST RATE DERIVATIVE PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	
	
	
	
	
	

         <div>
            <h3>
               <a id="s5.1">5.1 Interest Rate Swap</a>
            </h3>
		
            <p>A swap component contains one or more instances of the swapStream component, zero or more instances of the additionalPayment component together with an optional cancelableProvision component,an optional extendibleProvision component and an optional earlyTerminationProvision component. A swapStream contains the elements required to define an individual swap leg.</p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_Swap.jpg">
                  <img src="images/interest-rate-derivatives/intro_Swap.jpg" alt="images/interest-rate-derivatives/intro_Swap.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Within an FpML swap there is no concept of a swap header. Details of payment flows are defined within swapStreams which each contain their own independent parameters. There can also be additionalPayment elements that contain fees. The additionalPayment component is identical to the otherPartyPayment component shown above.</p>
		
            <p>FpML also supports option related features. These include cancelable, extendible swaps and early termination provisions. Combining these together with swaptions into a single component was considered but rejected in favor of identifying the different option types with their own components. This provided more clarity and allowed for easier combination of the different options into a single trade. As such a swap can contain a cancelableProvision, extendibleProvision and an earlyTerminationProvision. All these components are very similar (and similar to the swaption component), re-use is achieved by using shared entities within each of the components.</p>
		
            <p>FpML supports two representations of a swap stream; a parametric representation, and a cashflows representation. The parametric representation is designed to capture all the economic information required regarding dates, amounts and rates to allow trade execution and confirmation. The parametric representation is mandatory. The cashflows representation specifies an optional additional description of the same stream. The main purpose of this is to allow the inclusion of adjusted dates within an FpML representation of a trade. It can also be used to represent adhoc trades not achievable by easy manipulation of the parameters of a stream (i.e. by changing the adjusted dates). This would lead to the cashflows not matching those generated by the parameters (see more discussion later) and would also render the representation of the trade unsuitable for a confirmation. The spirit of FpML is that such manipulation of cashflows would be achieved by splitting a single stream
			into a number of streams though it is recognized that this may be impractical in some systems.</p>
		
            <p>The cashflows representation is not self contained as it relies on certain information contained within the stream's parametric definition. The elements required from the parametric definition to complete the cashflows representation are:</p>
		
            <p>The following elements and their sub-elements within the calculationPeriodAmount element:</p>
		
            <ul class="bulleted">
			
               <li>floatingRateIndex</li>
			
               <li>indexTenor</li>
			
               <li>rateTreatment</li>
			
               <li>finalRateRounding</li>
			
               <li>averagingMethod</li>
			
               <li>negativeInterestRateTreatment</li>
			
               <li>dayCountFraction</li>
			
               <li>discounting</li>
			
               <li>compoundingMethod.</li>
		
            </ul>
		
            <p>The following elements and their sub-elements within the stubCalculationPeriodAmount element:</p>
		
            <ul class="bulleted">
			
               <li>floatingRateIndex</li>
			
               <li>indexTenor.</li>
		
            </ul>
		
            <p>The inclusion of the cashflows representation is intended to support Application integration. For example, a financial institution may have one application that captures trade parameters and constructs the trade schedules and then publishes the result for use by other applications. In this case it may be either undesirable, or impossible, for each of the subscribing applications to store and calculate schedules.</p>
		
            <p>The flexibility of the cashflows representation also allows payment and calculation schedules which can not be fully represented by the parametric description. If this situation arises, the mandatory parametric data should still be included in the document and the flag cashflowsMatchParameters should contain the value false to indicate that it is not possible to generate the cashflows from this parametric data. The setting of this flag to true means that the cashflows can be regenerated at any time without loss of information.</p>
		
            <p>Parties wishing to take advantage of the facility for specifying cashflows which are inconsistent with the parametric representation will need to specify additional rules for how the parametric representation should be processed. This applies to both the creation of the parametric data as well as its interpretation.</p>
		
            <p>The cashflows representation specifies adjusted dates, that is, dates that have already been adjusted for the relevant business day convention using the relevant set of business day calendars (lists of valid business days for each business center). The FpML standard does not specify the source of these business day calendars. This may lead applications to generate differing cashflow representations from the same parametric representation if they use different business day calendars. The use of adjusted dates also produces schedules that are only valid at a particular instance of time. Additional holidays for a business center may subsequently be introduced that would result in changes to the adjusted dates, which would not be reflected in the cashflows representation.</p>
		
            <p>Analogous to cashflows being used to represent adjusted dates, with the addition of options it was important to be able to represented the adjusted dates associated with an option. Thus, where appropriate, a component includes an optional element to represent a schedule of adjusted dates for the option. Such a schedule would include details of adjusted dates such as adjusted exercise dates and cash settlement dates.</p>
		
            <p>In general, an interest rate swap will be a swap with a fixed leg and a floating leg, two floating legs, or two fixed legs. However, certain types of trades may contain more than two legs. FpML does not restrict the number of legs that may be defined. From a modeling perspective, FpML does not distinguish between a swap leg referencing a fixed rate and a swap leg referencing a floating rate, the difference being indicated by the existence, for example, of the resetDates component in a floating rate leg.</p>
		
            <p>The structure of a swapStream is shown diagrammatically below:</p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_SwapStream.jpg">
                  <img src="images/interest-rate-derivatives/intro_SwapStream.jpg" alt="images/interest-rate-derivatives/intro_SwapStream.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>The components within a swapStream cannot be randomly combined and cannot be thought of as existing in their own right; they only make sense in the given context and in relationship to other components within the swapStream container.</p>
		
            <p>In FpML, the schedule of dates within a swapStream is based around the calculationPeriodDates component. The definition of a calculation period in FpML differs in some respects from the International Swaps and Derivatives Association (ISDA) definition of Calculation Period. In the case of a trade involving compounding, ISDA introduces the concept of a Compounding Period, with several Compounding Periods contributing to a single Calculation Period. The FpML calculation period is equivalent to the ISDA definition of Compounding Period when compounding is applicable, i.e. the calculation period frequency will correspond to the compounding frequency. An FpML calculation period is directly comparable to the ISDA defined Calculation Period when only one calculation period contributes to a payment.</p>
		
            <p>The other date components within swapStream are related to the calculationPeriodDates component. The paymentDates and resetDates components contain the information necessary to construct a schedule of payment and reset dates relative to the calculation period dates.</p>
		
            <p>FpML uses the ISDA Floating Rate Option to specify the floating rate being observed. This scheme was used rather than attempting to parameterize into elements because although most floating rate indices are defined fully by a standard set of parameters (namely index, currency and fixing source) there are sometimes other details including fixing offsets and formulas. This approach allows for more flexibility in adding new floating rate indices without having to introduce new elements, although this comes at the expense of a self contained definition within the standard.</p>
		
            <p>The information relating to amounts and rates is collected in the calculationPeriodAmount and stubCalculationPeriodAmount components. fxLinkedNotionalSchedule is an alternative to notionalSchedule for defining notionals. This allows for the definition of FX Resetable trades by allowing for the notional of a stream to be linked to notionals from another stream by way of the spot fx rate.</p>
		
            <p>Certain swapStream components are designated as being optional (although it would be more accurate to say that they are conditional). Thus a fixed rate stream never includes a resetDates component, but this is required for a floating rate stream. Similarly, the stubCalculationPeriodAmount component will be required if the swap leg has either an initial or final stub, or indeed both, but should otherwise not be specified. The principalExchanges component is required in the case of cross currency swaps or other types of swap involving exchanges of principal amounts.</p>
		
            <p>The payerPartyReference and receiverPartyReference elements indicate which party is paying and which receiving the stream payments. This is done by referencing the appropriate party within the party component.</p>
		
            <p>The detailed structures within the swapStream are shown diagrammatically below:</p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_CalculationPeriodDates.jpg">
                  <img src="images/interest-rate-derivatives/intro_CalculationPeriodDates.jpg" alt="images/interest-rate-derivatives/intro_CalculationPeriodDates.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_PaymentDates.jpg">
                  <img src="images/interest-rate-derivatives/intro_PaymentDates.jpg" alt="images/interest-rate-derivatives/intro_PaymentDates.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_ResetDates.jpg">
                  <img src="images/interest-rate-derivatives/intro_ResetDates.jpg" alt="images/interest-rate-derivatives/intro_ResetDates.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_CalculationPeriodAmount.jpg">
                  <img src="images/interest-rate-derivatives/intro_CalculationPeriodAmount.jpg" alt="images/interest-rate-derivatives/intro_CalculationPeriodAmount.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_NotionalSchedule.jpg">
                  <img src="images/interest-rate-derivatives/intro_NotionalSchedule.jpg" alt="images/interest-rate-derivatives/intro_NotionalSchedule.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_FxLinkedNotionalSchedule.jpg">
                  <img src="images/interest-rate-derivatives/intro_FxLinkedNotionalSchedule.jpg" alt="images/interest-rate-derivatives/intro_FxLinkedNotionalSchedule.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_FloatingRateCalculation.jpg">
                  <img src="images/interest-rate-derivatives/intro_FloatingRateCalculation.jpg" alt="images/interest-rate-derivatives/intro_FloatingRateCalculation.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_stubCalculationPeriodAmount.jpg">
                  <img src="images/interest-rate-derivatives/intro_stubCalculationPeriodAmount.jpg" alt="images/interest-rate-derivatives/intro_stubCalculationPeriodAmount.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_FloatingRate.jpg">
                  <img src="images/interest-rate-derivatives/intro_FloatingRate.jpg" alt="images/interest-rate-derivatives/intro_FloatingRate.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_PrincipalExchanges.jpg">
                  <img src="images/interest-rate-derivatives/intro_PrincipalExchanges.jpg" alt="images/interest-rate-derivatives/intro_PrincipalExchanges.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_Cashflows.jpg">
                  <img src="images/interest-rate-derivatives/intro_Cashflows.jpg" alt="images/interest-rate-derivatives/intro_Cashflows.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_CalculationPeriod.jpg">
                  <img src="images/interest-rate-derivatives/intro_CalculationPeriod.jpg" alt="images/interest-rate-derivatives/intro_CalculationPeriod.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_RateObservation.jpg">
                  <img src="images/interest-rate-derivatives/intro_RateObservation.jpg" alt="images/interest-rate-derivatives/intro_RateObservation.jpg" class="image"/>
               </a>
		
            </p>
		
		
	
            <div>
               <h4>
                  <a id="s5.1.1">5.1.1 Relative Swap</a>
               </h4>
			
               <p>The pricing and valuation working group required product definitions in order to support:</p>
			
               <ul class="bulleted">
				
                  <li>Pricing requests</li>
				
                  <li>Curve definitions</li>
			
               </ul>
			
               <p>To support the above the Pricing and Risk Working Group required a Relative Swap – ie a swap where the dates are specified as periods relative to some other date. Eg – effective date is spot and the termination date is 5y after the effective date.</p>
			
               <p>The working group considered including a separate product and extending the existing product. The group decided that many of the features of a relative swap could be very useful within the normal swap definition. Also, providing a separate product would add ambiguity in the standard allowing two ways to represent some products. As such is was decided to extend the existing InterestRateStream to include relative swap features.</p>
			
               <p>To fully define any swap using relative dates then all places where a date is specified in the standard would need to be replaced by a relative date type. The group considered this but agreed that the initial proposal should limit the work to extending the calculation period dates to cover relative dates. This would cover the requirements of the Pricing and Valuation WG since it allows the definition of relatively simple swaps as relative. If a requirement arises to define more complex swaps (eg compounding with payment stubs) then the standard can be extended at that point.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_CalculationPeriodDates.jpg">
                     <img src="images/interest-rate-derivatives/intro_CalculationPeriodDates.jpg" alt="images/interest-rate-derivatives/intro_CalculationPeriodDates.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>An optional stubPeriodType element was added to allow the definition of how any irregular period should be handled. This element can be present along with the explicit dates but if this is the case there is a rule that the dates generated using the stubPeriodType should be consistent with the dates present within calculationPeriodDates.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.1.2">5.1.2 Non-Deliverable Settlement Provision</a>
               </h4>
			
               <p>The Interest Rate Stream component captures the necessary information to represent the non-deliverable terms of an interest rate swap.</p>
			
               <p>These non-deliverable terms specify the conditions under which the cashflows will be made in a different currency (the “settlement currency”) than the currency in which a given leg is denominated (the “reference currency”).</p>
			
               <p>The InterestRateStream type contains an optional settlementProvision component.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/InterestRateStream_NDS.jpg">
                     <img src="images/interest-rate-derivatives/InterestRateStream_NDS.jpg" alt="images/interest-rate-derivatives/InterestRateStream_NDS.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>This structure supports both "Euro trades" (where settlement currency needs to be specified) and the non-deliverable settlement provision.</p>
			
               <p>Five elements are required to characterize the non-deliverable settlement terms:</p>
			
               <ul class="bulleted">
				
                  <li>The settlement currency; </li>
				
                  <li>The reference currency;</li>
				
                  <li>An indication/pointer to the reference currency of the swap as well as to the payments that need to be made in that specific currency;</li>
				
                  <li>The determination of the date on which this FX rate will be specified (typically, in reference to the payment date); </li>
				
                  <li>The specification of how this FX rate will be determined.</li>
			
               </ul>
			
               <p>Here is how each of these requirements is addressed through this structure:</p>
			
               <ul class="bulleted">
				
                  <li>The settlement currency is specified through the settlementCurrency element;</li>
				
                  <li>The reference currency is specified through the referenceCurrency element (this approach has been considered as more straightforward than specifying it through an href into the calculatedAmount node);</li>
				
                  <li>The indication of the payments that will be made in that settlement currency is done through the datesRelativeToPaymentDates element, which provides the ability to point to multiple payment nodes in the document through the unbounded paymentDatesReference. The example below illustrates how it works in the case of a swap leg that has resets as well as a principal exchange:</li>
			
               </ul>
			
               <p>The regular payments of the swap get assigned an Id:</p>
			
               <pre>
&lt;paymentDates id="PaymentDatesID"&gt;
	&lt;calculationPeriodDatesReference href="E2000098N10184"/&gt;
	&lt;paymentFrequency&gt;
		&lt;periodMultiplier&gt;6&lt;/periodMultiplier&gt;
		&lt;period&gt;M&lt;/period&gt;
	&lt;/paymentFrequency&gt;
	&lt;firstPaymentDate&gt;2005-06-16&lt;/firstPaymentDate&gt;
	&lt;payRelativeTo&gt;CalculationPeriodEndDate&lt;/payRelativeTo&gt;
	&lt;paymentDatesAdjustments&gt;
		&lt;businessDayConvention&gt;MODFOLLOWING&lt;/businessDayConvention&gt;
		&lt;businessCenters&gt;
			&lt;businessCenter businessCenterScheme=
"http://www.fpml.org/coding-scheme/business-center-2-0"&gt;USNY&lt;/businessCenter&gt;
			&lt;businessCenter businessCenterScheme=
"http://www.fpml.org/coding-scheme/business-center-2-0"&gt;GBLO&lt;/businessCenter&gt;
		&lt;/businessCenters&gt;
	&lt;/paymentDatesAdjustments&gt;
&lt;/paymentDates&gt;
        			</pre>
			
               <p>The principalExchanges node of the swap also gets assigned an Id:</p>
			
               <pre>
&lt;principalExchanges id="PrincipalExchanges"&gt;
	&lt;initialExchange&gt;false&lt;/initialExchange&gt;
	&lt;finalExchange&gt;true&lt;/finalExchange&gt;
	&lt;intermediateExchange&gt;false&lt;/intermediateExchange&gt;
&lt;/principalExchanges&gt;
        			</pre>
			
               <p>The dateRelativeToPaymentDates refers to each of those payments that need to be settled in the settlement currency of the swap:</p>
			
               <pre>
&lt;dateRelativeToPaymentDates&gt;
	&lt;paymentDatesReference href="PaymentDatesID"/&gt;
	&lt;paymentDatesReference href="PrincipalExchanges"/&gt;
&lt;/dateRelativeToPaymentDates&gt;
        			</pre>
			
               <ul class="bulleted">
				
                  <li>The determination of the date on which the FX rate will be specified is done through the FxFixingDate component, which uses the same structure than the RelativeDatOffset component, the only difference being that the relativeDateTo pointer is replaced by the dateRelativeToPaymentDates element, which has been described above.</li>
				
                  <li>The specification of how the FX rate is determined is done through the Settlement Rate Option scheme. This scheme is specified as part of the ISDA 1998 FX and currency options definitions, and is effectively used in both the FX and Interest Rate markets to specify how a currency rate will be determined.</li>
			
               </ul>
			
               <p>The priceSourceDisruption element defines the parameters used to get a price quote to replace the settlement rate option that is disrupted.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/priceSourceDisruption.jpg">
                     <img src="images/interest-rate-derivatives/priceSourceDisruption.jpg" alt="images/interest-rate-derivatives/priceSourceDisruption.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s5.2">5.2 Asset Swap</a>
               </h3>
            </div>
		
            <p>Asset Swaps can be represented in FpML since version 4.2 Second Working Draft. An Asset Swap is a swap agreement where one leg mimics the return of the underlying asset. No transfer of asset takes place. Sometimes the sale of the bond is included in the asset swap construct.</p>
		
		
	
            <div>
               <h4>
                  <a id="s5.2.1">5.2.1 Implementation</a>
               </h4>
			
               <p>The representation of Asset Swaps reuses the Swap type adding an optional reference to a Bond underlyer.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_additionalTerms.jpg">
                     <img src="images/interest-rate-derivatives/intro_additionalTerms.jpg" alt="images/interest-rate-derivatives/intro_additionalTerms.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.2.2">5.2.2 Design Rationale</a>
               </h4>
			
               <ul class="bulleted">
				
                  <li>All information required for supporting asset swaps existed in the Swap structure. Since within asset swaps there isn’t always a bond reference, a separate AssetSwap type would copy the existing Swap model without adding any value.</li>
				
                  <li>Instead of referencing the generic underlying asset component, the group felt that narrowing the scope to bond (and maybe convertible bond in the future) would provide a more accurate definition. The existing underlying asset is too broad for this purpose, allowing coverage of cash and ETF that do not seem appropriate for this structure.</li>
				
                  <li>The group agreed to make bondReference element optional within additionalTerms for extensibility purpose. Group envisioned that internal xml vocabularies would extend the additionaTerms element. Making bondReference required would be a problem for extensions.</li>
				
                  <li>The group agreed that asset swap and Condition Precedent Bond are two different things. Condition Precedent Bond ties to the legal condition regarding the placement of the bond. The agreement was to support both within the existing Swap structure.</li>
				
                  <li>The group agreed that the Condition Precedent Bond flag shouldn’t be placed in the Bond type since this element would be used in a very specific case. Placing the element within the Bond would overload the type.</li>
			
               </ul>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s5.3">5.3 Inflation Swap</a>
               </h3>
            </div>
		
            <p>The support of Inflation Swaps is based on the extension of the IRD product schema through the use of a Substitution Group.</p>
		
            <p>The representation focuses on the Floating Rate Calculation, which is the key component that differentiates an Inflation based product from other Interest Rate Products.</p>
		
		
	
            <div>
               <h4>
                  <a id="s5.3.1">5.3.1 Design Approach</a>
               </h4>
			
               <p>A Floating Rate such as USD-LIBOR is observed daily as a percentage interest rate value and does not require any further calculation. In contrast, an Inflation Rate for a calculation period is usually determined as follows:</p>
			
               <ul class="bulleted">
				
                  <li>Inflation Rate = (Index Final/Index Initial – 1) * 100%; where</li>
				
                  <li>Index Initial is the published index level at the beginning of the period.</li>
				
                  <li>Index Final is the published index level at the end of the period.</li>
				
                  <li>Note: The index levels are usually taken for a Reference Month which is N months before the fixing date.  This is known as the Inflation Lag. [ See below on Reference Month calculation ]</li>
			
               </ul>
			
               <p>Apart from the above difference other features of inflation swaps are very much in line with the interest rate swaps.  They have a concept of two cash flow streams, generally a fixed stream and an inflation stream.  Both streams generate cash flows based on a function of the interest rate, notional and day count fraction for each calculation period.  For this reason, the design approach focused on merging the functionality with the IRD schema instead of developing a new product.</p>
			
               <p>Two options were considered in order to merge the Inflation Swaps into the IRD Schema.  The first option was to extend the Floating Rate Leg to include Inflation specific elements.  The second approach was to introduce a substitution group at the Floating Rate Leg level.  Here are some of the advantages of using the substitution group instead of extending the schema.</p>
			
               <ul class="bulleted">
				
                  <li>It does not weaken and add complexity to the existing floating rate definition through the addition of a number of optional elements.</li>
				
                  <li>It allows the choice of the content of an FpML document to be determined at the time when the document is created.</li>
				
                  <li>It is future proof by allowing the addition of new features to the Inflation or Floating rate elements without impacting each other (note: it also allows common features to be enhanced).</li>
				
                  <li>It is entirely backward compatible.  The Floating Rate Leg remains exactly the same as it is in the current version of the FpML.</li>
				
                  <li>It adds no overhead to the existing schema.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s5.3.2">5.3.2 Implementation</a>
               </h4>
			
               <p>The InflationRateCalculation type is created by extension of the existing FloatingRateCalculation type, then addition of Inflation specific elements such as the Inflation Lag.</p>
			
               <p>In order to implement the Substitution Group an abstract element rateCalcuation has been added to the schema. The  rateCalcuation element can be substituted by the floatingRateCalculation element for standard Floating Rate legs, or the inflationRateCalculation element.</p>
			
               <p>Any product that uses an InterestRateStream can elect to use this type by making use of the substitution group.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/Calculation.jpg">
                     <img src="images/interest-rate-derivatives/Calculation.jpg" alt="images/interest-rate-derivatives/Calculation.jpg" class="image"/>
                  </a>
			
               </p>
			
		
               <div>
                  <h5>
                     <a id="s5.3.2.1">5.3.2.1 Inflation Terms</a>
                  </h5>
				
                  <p>There are two main types of Inflation Products that are commonly traded, the Zero Coupon Inflation Swaps and the Year On Year Inflation Swaps.  The following elements extended the FloatingRateCalculation in order to support the correct representation of these products.</p>
				
                  <ul class="bulleted">
					
                     <li>inflationLag</li>
					
                     <li>indexSource</li>
					
                     <li>mainPublication</li>
					
                     <li>interpolationMethod</li>
					
                     <li>initialIndexLevel</li>
					
					
                     <li>fallbackBondApplicable</li>
				
                  </ul>
				
                  <p>
					
                     <a href="images/interest-rate-derivatives/InflationRateCalculation.jpg">
                        <img src="images/interest-rate-derivatives/InflationRateCalculation.jpg" alt="images/interest-rate-derivatives/InflationRateCalculation.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>Here is how the above structure addresses each of the following requirements:</p>
				
                  <ul class="bulleted">
					
                     <li>
                        <b>Inflation Index Name</b> – element floatingRateIndex will be used to store the name of the Inflation Index itself.</li>
					
                     <li>
                        <b>Index Source</b> - indexSource element stores the main source of the inflation index such as Reuters or Bloomberg screens.</li>
					
                     <li>
                        <b>Main Publication</b> - mainPublication element represents the current main publication source of the inflation such as relevant web site or an official government or non-governmental organisation.</li>
					
                     <li>
                        <b>Inflation Tenor, Day Count Fraction and Payment Frequency</b> - elements of the InterestRateStream are reused to represent the inflation specific tenor, day count fraction (usually 1/1) and payment frequency.</li>
					
                     <li>
                        <b>Inflation Lag</b> - inflationLag element supports the period is used to determine the Reference Month(s) for fixing each Index Level.</li>
					
                     <li>
                        <b>Fallback Bond Applicable</b> - The applicability of a fallback bond as defined in the 2006 ISDA Inflation Derivatives Definitions, sections 1.3 and 1.8. Omission of this element imples a value of true.</li>
				
                  </ul>
				
                  <p>
					
                     <a href="images/interest-rate-derivatives/inflationLag.jpg">
                        <img src="images/interest-rate-derivatives/inflationLag.jpg" alt="images/interest-rate-derivatives/inflationLag.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <ul class="bulleted">
					
                     <li>
                        <b>Reference Month</b> for Initial/Final Index of each calculation period.<ul class="bulleted">
						
                           <li>The Reference Month is usually calculated by offsetting the Index Level Fixing Date with the Inflation Lag. Example: Assuming Inflation Lag = 3M and Reset Date = 20-Apr-05, Reference Month = Apr-3M = January; Therefore, the index level used for the Fixing date of 20-Apr-05 will be the Inflation Index Level of January 2005.</li>
					
                        </ul>
					
                     </li>
					
                     <li>
                        <b>Initial Index Level</b> – Unlike other interest rate products, the initial index of the first calculation period (even for non forward starting inflation swaps) is generally known at the time of entering the trade.  This optional field will be used to store the initial value if it is known.</li>
					
                     <li>
                        <b>Interpolation</b> – there are several fields required to describe Inflation Interpolations.<ul class="bulleted">
						
                           <li>
                              <b>Interpolation Method</b> - The most common (and so far the only option) is Linear interpolation.  The presence of this element indicates that the Inflation Index Level should be calculated from two different Index Levels and the resulting Inflation Index Level will be based on the weighting of each level.</li>
						
                           <li>
                              <b>Reference Month</b> - for each point to be used for Interpolation is usually calculated as follows: Reference Month (point 2) = Month( Fixing Date ) – Inflation Lag; Reference Month (point 1) = Reference Month (point 1) – 1M</li>
						
                           <li>
                              <b>Weighting</b> to be associated with each interpolation point’s Index Level.  It determined by the Roll Day for each Fixing Date.  For example, the Linear Interpolation between the inflation for the Reference Month of March (a) and April (b) as follows. Interpolated Index Level = (1-N/D).a + (N/D).b; where N = day part of the Fixing Date (i.e. 29) and D = number of days in the payment month (Juen)</li>
					
                        </ul>
					
                     </li>
					
                     <li>
                        <b>Formula</b> to be used for Zero Coupon Inflation Leg. The same ComplexType used for Equity Swaps has been re-used for this.</li>
				
                  </ul>
				
                  <p>
					
                     <a href="images/interest-rate-derivatives/formula.jpg">
                        <img src="images/interest-rate-derivatives/formula.jpg" alt="images/interest-rate-derivatives/formula.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <ul class="bulleted">
					
                     <li>
                        <b>RelatedBond</b> – If the Inflation Index can not be determined or has not been published continuously, an equivalent index level is obtained from an agreed related Bond. In order to support this the additionalTerms element is used to reference the bond.</li>
				
                  </ul>
				
                  <p>
					
                     <a href="images/interest-rate-derivatives/intro_additionalTerms.jpg">
                        <img src="images/interest-rate-derivatives/intro_additionalTerms.jpg" alt="images/interest-rate-derivatives/intro_additionalTerms.jpg" class="image"/>
                     </a>
				
                  </p>
			
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s5.4">5.4 Forward Rate Agreement</a>
               </h3>
            </div>
		
            <p>As noted above, the definition of a forward rate agreement trade is contained within a single component. A forward rate agreement is a simple and commoditized product. This means there is no variation in the product traded and it is not expected to become more complex in the future.</p>
		
            <p>The structure of the fra component is shown diagrammatically below:</p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_FRA.jpg">
                  <img src="images/interest-rate-derivatives/intro_FRA.jpg" alt="images/interest-rate-derivatives/intro_FRA.jpg" class="image"/>
               </a>
		
            </p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s5.5">5.5 Option Components</a>
               </h3>
            </div>
		
            <p>FpML also supports interest rate options. The supported components are:</p>
		
            <ul class="bulleted">
			
               <li>Early Termination Provision (Optional or Mandatory) for a swap</li>
			
               <li>Cancelable Provision for a swap</li>
			
               <li>Extendible Provision for a swap</li>
			
               <li>Swaption</li>
			
               <li>Cap / Floor</li>
		
            </ul>
		
            <p>The ISDA 2000 Definitions have been followed closely in defining the various option dates and element names. Thus components for European, Bermuda and American exercise have been defined which are re-used in each of the first four components above. These components share an element called relevantUnderlyingDate whose meaning is dependent on the option component it is contained in:</p>
		
            <ul class="bulleted">
			
               <li>OptionalEarlyTermination - It represents the new terminationDate of the underlying swapStreams if the trade is terminated early.</li>
			
               <li>CancelableProvision - It represents the new terminationDate of the underlying swapStreams if the trade is cancelled.</li>
			
               <li>ExtendibleProvision - It represents the new terminationDate of the underlying swapStreams if the trade is extended.</li>
			
               <li>Swaption - It represents the effectiveDate of the underlying swapStreams if the swaption is exercised.</li>
		
            </ul>
		
		
		
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s5.5.1">5.5.1 European Exercise</a>
               </h4>
			
               <p>This is a style of option to which the right or rights granted are exercisable on a single date referred to as the expiration date. This date can be specified either as an adjustableDate or as a relativeDate though the latter is only expected to be used in the case of cash settled cancellations where the expiration date may be defined as an offset to the cash settlement payment date.</p>
			
               <p>The relevantUnderlyingDate is optional, in its absence the effectiveDate of the underlying is the effectiveDate defined in the swapStreams. This can only be excluded for european swaptions.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_EuropeanExercise.jpg">
                     <img src="images/interest-rate-derivatives/intro_EuropeanExercise.jpg" alt="images/interest-rate-derivatives/intro_EuropeanExercise.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.2">5.5.2 American Exercise</a>
               </h4>
			
               <p>This is a style of option to which the right or rights granted are exercisable during the exercise period which consists of a period of days. The underlying should specify its effective date based on the earliest possible exercise. When exercise implies a stub period this will be taken to be a short stub at the start, i.e. the underlying swap defines a series of flows, exercise merely brings the flows into existence from the relevantUnderlyingDate.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_AmericanExercise.jpg">
                     <img src="images/interest-rate-derivatives/intro_AmericanExercise.jpg" alt="images/interest-rate-derivatives/intro_AmericanExercise.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.3">5.5.3 Bermuda Exercise</a>
               </h4>
			
               <p>This is a style of option to which the right or rights granted are exercisable during an exercise period which consists of a number of specified dates. These dates can be defined as a list together with adjustments or by reference to an existing schedule elsewhere in the trade (e.g. resetDates). In the latter case bounds can be placed on the referenced schedule to define a subset of the whole schedule.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_BermudaExercise.jpg">
                     <img src="images/interest-rate-derivatives/intro_BermudaExercise.jpg" alt="images/interest-rate-derivatives/intro_BermudaExercise.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.4">5.5.4 Early Termination Provision</a>
               </h4>
			
               <p>The right for one or both parties to terminate the trade and settle the remaining term of the swap for fair value. In the case of a mandatory early termination the termination is mandatory. </p>
			
               <p>The Broker Working Group defined the requirement to be able to define early termination dates in a parametric form: “ At X years and every Y years thereafter “. The current FpML Specification quotes the actual unadjusted dates.</p>
			
               <p>For example, FpML early termination dates: 10-Nov-2008, 10-Nov-2009, 10-Nov-2010, 10-Nov-2011. Assuming trade date was 10-Nov-2004 we would want “At 4 years and every year thereafter”.</p>
			
               <p>The mandatoryEarlyTerminationDateTenor and optionalEarlyTerminationParameters elements allow specification of the mandatory early termination date in terms of a tenor, e.g. 5 years, or for optional early termination (mutual puts) the specification of the earliest termination date in terms of a tenor and a subsequent exercise frequency (in the case of Bermudan or American style early termination). American style exercise would be indicated by stating an exercise frequency of 1 day. European style exercise would omit the exercise frequency altogether.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_EarlyTerminationProvision.jpg">
                     <img src="images/interest-rate-derivatives/intro_EarlyTerminationProvision.jpg" alt="images/interest-rate-derivatives/intro_EarlyTerminationProvision.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.5">5.5.5 Cancelable Provision</a>
               </h4>
			
               <p>With a cancelableProvision the seller grants the buyer the right to terminate all swapStreams, typically in exchange for an upfront premium. Unlike optionalEarlyTermination, the cancellation of the swap does not require the parties to exchange a cash settlement amount on exercise representing the fair value of the remaining life of the swap although an exercise fee can be specified in the exerciseFeeSchedule.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_CancelableProvision.jpg">
                     <img src="images/interest-rate-derivatives/intro_CancelableProvision.jpg" alt="images/interest-rate-derivatives/intro_CancelableProvision.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.6">5.5.6 Extendible Provision</a>
               </h4>
			
               <p>With an extendibleProvision the seller grants the buyer the right to extend all swapStreams, typically in exchange for an upfront premium. This provision is very similar to a cancelableProvision and in fact the two share the same market risk profile. FpML makes a clear distinction between the two since the operational risk associated with misrecording the type of applicable provision can be high. For example, a 10 year swap with the right to cancel after 5 years has exactly the same risk profile as a 5 year swap with the right to extend for 5 years after 5 years. However, failing to give notice of exercise after 5 years will in one case (extendibleProvision) result in the swap terminating after 5 years and in the other case (cancelableProvision) result in the swap terminating after 10 years, i.e. action after 5 years is required in one case to lengthen the term of the swap in the other to shorten it.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_ExtendibleProvision.jpg">
                     <img src="images/interest-rate-derivatives/intro_ExtendibleProvision.jpg" alt="images/interest-rate-derivatives/intro_ExtendibleProvision.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.7">5.5.7 Swaption</a>
               </h4>
			
               <p>The option to enter into a swap is defined as its own product and contains the underlying swap as a swap element. A swaption straddle is defined by setting the swaptionStraddle element to true: this implies that the swaption buyer has the right, on exercise, to decide whether to pay or receive fixed on the underlying swap. If the underlying does not contain a single fixed stream and a single floating stream then the straddle is invalid and thus this flag should be set to false..</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/Swaption.jpg">
                     <img src="images/interest-rate-derivatives/Swaption.jpg" alt="images/interest-rate-derivatives/Swaption.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s5.5.8">5.5.8 Cap / Floor</a>
               </h4>
			
               <p>Caps and Floors are defined as one or more capFloorStreams and zero or more additionalPayments. The capFloorStream re-uses the InterestRateStream entity and thus its content is identical to a swapStream.</p>
			
               <p>
				
                  <a href="images/interest-rate-derivatives/intro_CapFloor.jpg">
                     <img src="images/interest-rate-derivatives/intro_CapFloor.jpg" alt="images/interest-rate-derivatives/intro_CapFloor.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Though a capFloorStream allows the definition of fixed streams or known amount streams these are not the intended use of this component and there use would be considered an invalid FpML trade.</p>
			
               <p>The floatingRateCalculation component has been amended to allow the specification of cap/floor structures within a single stream (e.g. straddles, corridors). The changes are:</p>
			
               <ul class="bulleted">
				
                  <li>The occurrence rules for the components capRateSchedule and floorRateSchedule have been changed from 'zero or one' to 'zero or more'.</li>
				
                  <li>An optional buyer and seller reference have been added to these schedules</li>
			
               </ul>
			
               <p>These additions allow for multiple cap and floor rates to be added to the stream and to define precisely which party bought and sold them. To maintain backward compatibility with FpML1.0 the buyer and seller are optional. When absent the following rules apply:</p>
			
               <ul class="bulleted">
				
                  <li>CapRateSchedule: BUYER = Stream payer SELLER = Stream receiver</li>
				
                  <li>floorRateSchedule: BUYER = Stream receiver SELLER = Stream payer</li>
			
               </ul>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s5.6">5.6 Cash Settlement</a>
               </h3>
            </div>
		
            <p>The cash settlement component is used by mandatoryEarlyTermination, optionEarlyTermination and swaption. The language used within the component corresponds to the ISDA language for the various cash settlement methods. Of the five methods included, three share one underlying component and the other two share another component. Thus there is re-use whilst maintaining ease of identification of the type. Also, this approach allows for easy integration of other methods should they arise.</p>
		
            <p>
			
               <a href="images/interest-rate-derivatives/intro_CashSettlement.jpg">
                  <img src="images/interest-rate-derivatives/intro_CashSettlement.jpg" alt="images/interest-rate-derivatives/intro_CashSettlement.jpg" class="image"/>
               </a>
		
            </p>
	
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s6">6 CREDIT DERIVATIVE PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	
	
	
	
	
	
	
	
	

         <div>
            <h3>
               <a id="s6.1">6.1 Introduction</a>
            </h3>
		
            <p>This section provides an in-depth review of the product architecture of FpML 5.0 Credit Derivatives. The products covered by FpML 5.0 Credit Derivatives are the single name credit default swap, the credit default swap index, the credit default swap basket, the credit default swap on a mortgage, and the credit default swap on a loan.</p>
		
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s6.1.1">6.1.1 credit default swap</a>
               </h4>
			
               <p>In order to define the scope of the credit default swap work FpML adopted the definition used in the <b>ISDA Year End 2001 Flash Survey</b>:</p>
			
               <p>"In a credit default swap one counterparty (the protection seller) agrees to compensate another counterparty (the protection buyer) if a specified company or Sovereign (the reference entity) experiences a credit event, indicating it is or may be unable to service its debts. The protection seller is paid a fee and/or premium, expressed as an annualized percent of the notional in basis points, regularly over the life of the transaction."</p>
			
               <p>The FpML 5.0 Credit Derivatives Product Architecture draws heavily on the <b>2003 ISDA Credit Derivatives Definitions </b>(hereafter referred to as the "2003 Definitions"). Wherever feasible the terminology and practice of the ISDA definitions has been adopted to ensure consistency between traditional and FpML contract representations. Appendix A lists the elements in FpML 5.0 Credit Derivatives that differ in name from their corresponding terms in the 2003 Definitions. In FpML 5.0 it is possible to represent credit default swap trades done under either the 1999 or the 2003 definitions.</p>
			
               <p>The FpML 5.0 Credit Derivatives Subschema supports both a full confirmation and a transaction supplement (i.e. economics of the trade) representation of the credit default swap. The transaction supplement representation is a subset of the elements contained in the full confirmation representation. This flexible approach makes FpML 5.0 Credit Derivatives usable in all stages of the credit default swap trade lifecycle.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s6.1.2">6.1.2 credit default swap index</a>
               </h4>
			
               <p>Product support for the credit default swap index was added to FpML in version 4.1. The FpML representation for this product is closely based on the credit default swap work that first appeared in FpML 4.0. In fact, the index trade itself is described using the creditDefaultSwap element. Only a transaction supplement representation of a credit default swap index is supported.</p>
			
               <p>Support for tranches on credit default swap indices was added in version 4.2.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s6.1.3">6.1.3 credit default swap basket</a>
               </h4>
			
               <p>Product support for the credit default swap basket was added to FpML in version 4.2. The FpML representation for this product is based on the existing creditDefaultSwap product element and it includes the support for tranches.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s6.1.4">6.1.4 mortgage credit default swap</a>
               </h4>
			
               <p>Product support for the credit default swap on a mortgage was added to FpML in version 4.3. The support includes the representation of a mortgage underlyer and the addition of additional structures within the creditDefaultSwap product representation.</p>
			
			
		
               <div>
                  <h5>
                     <a id="s6.1.4.1">6.1.4.1 Main differences between Mortgage and Corporate CDS</a>
                  </h5>
				
                  <table class="table">
					
                     <tr>
						
                        <td>
							
                           <b>Underlying product</b>
						
                        </td>
						
                        <td>
							
                           <b>Mortgage</b>
						
                        </td>
						
                        <td>
							
                           <b>Corporate</b>
						
                        </td>
					
                     </tr>
					
                     <tr>
						
                        <td>
							
                           <i>Traded on</i>
						
                        </td>
						
                        <td>Reference obligation</td>
						
                        <td>Reference entity</td>
					
                     </tr>
					
                     <tr>
						
                        <td>
							
                           <i>Credit Events</i>
						
                        </td>
						
                        <td>Failure to pay principal; Write down – occurs when the reference obligation is written down (realized losses usually); Distressed ratings downgrade; Maturity extension; Failure to Pay Interest</td>
						
                        <td>Bankruptcy; Failure to pay; Restructuring; Sovereign failure to pay, in case of emerging market underlyers</td>
					
                     </tr>
					
                     <tr>
						
                        <td>
							
                           <i>Interest Shortfall</i>
						
                        </td>
						
                        <td>Interest does not have to be fully paid, and can be reimbursed at a later time</td>
						
                        <td>Not applicable</td>
					
                     </tr>
					
                     <tr>
						
                        <td>
							
                           <i>Factors</i>
						
                        </td>
						
                        <td>Bonds factor down, as mortgages are paid down</td>
						
                        <td>No factor issues</td>
					
                     </tr>
					
                     <tr>
						
                        <td>
							
                           <i>Payment frequency</i>
						
                        </td>
						
                        <td>Monthly</td>
						
                        <td>Quarterly</td>
					
                     </tr>
					
                     <tr>
						
                        <td>
							
                           <i>Maturity</i>
						
                        </td>
						
                        <td>Generally 30 year bonds. The CDS trade terminates with the maturity of the underlyer</td>
						
                        <td>Five or ten years are most common. CDS trades terminate with the maturity of the underlyer or a credit event</td>
					
                     </tr>
				
                  </table>
			
               </div>
               <div>
                  <h5>
                     <a id="s6.1.4.2">6.1.4.2 The Pay-As-You-Go model</a>
                  </h5>
				
                  <p>While single name corporate CDS are terminated once a credit event occurs, mortgage CDS persist. </p>
				
                  <p>A failure to pay principal or interest by some underlying mortgagors results in a shortfall, which is then compensated by the protection seller, in accordance to the contract terms. If those mortgagors reimburse those defaults at a later point, this will result into a corresponding ‘additional fixed payment amount’ that will be returned by the production buyer. </p>
				
                  <p>Those ‘floating rate payment events’ and ‘additional fixed payments’ can exist without occurrence of a credit event. A typical case would be when a failure to pay interests is not eligible as a credit event (but specified as an eligible floating rate payment event).</p>
				
                  <p>
					
                     <a href="images/credit-derivatives/pay-as-you-go.jpg">
                        <img src="images/credit-derivatives/pay-as-you-go.jpg" alt="images/credit-derivatives/pay-as-you-go.jpg" class="image"/>
                     </a>
				
                  </p>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s6.1.5">6.1.5 loan credit default swap</a>
               </h4>
			
               <p>Product support for the credit default swap on a loan was added to FpML in version 4.3. The support includes the representation of a loan underlyer and the addition of additional structures within the creditDefaultSwap product representation.</p>
			
               <p>The Loan CDS approach is tackled through two extensions to the reference information:</p>
			
               <ul class="bulleted">
				
                  <li>the securedList element as an optional last child of Reference Information, which means that the reference obligation is not required if Secured List is present and true; this follows the normal naming convention in FpML for elements relating to ISDA Applicable or Non Applicable Legal Terms.</li>
				
                  <li>the loan underlyer to the list of available products as part of the Reference Obligation.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s6.1.6">6.1.6 credit default swap option</a>
               </h4>
			
               <p>Product support for credit default swap option was added to FpML in version 4.3. The support is based on the creation of a new creditDefaultSwapOption product. As part of this work, some option structures have been generalized to be reused across multiple types of options.</p>
			
               <p>The credit default swap underlyer is supported by referencing the existing creditDefaultSwap product element within the new creditDefaultSwapOption product.</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.2">6.2 creditDefaultSwap</a>
               </h3>
            </div>
		
            <p>Like all other derivative products supported by FpML, the type used to represent the credit default swap, the credit default swap index, and the credit default swap basket, CreditDefaultSwap, is defined as an extension of the Product type and the corresponding creditDefaultSwap element belongs to the product substitution group. The creditDefaultSwap element appears in Figure 1.</p>
		
            <p>
			
               <a href="images/credit-derivatives/creditDefaultSwap.jpg">
                  <img src="images/credit-derivatives/creditDefaultSwap.jpg" alt="images/credit-derivatives/creditDefaultSwap.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Figure 1: creditDefaultSwap element</p>
		
            <p>The structure of the creditDefaultSwap element corresponds to the structure of the Confirmation that appears in Exhibit A of the 2003 Definitions (hereafter referred to as the "2003 Confirmation"). The six sections that comprise the 2003 Confirmation and their corresponding FpML elements appear in Figure 2.</p>
		
            <table class="table">
			
			
			
               <tr>
				
                  <td>
					
                     <p>
						
                        <b>2003 Confirmation</b>
					
                     </p>
				
                  </td>
				
                  <td>
					
                     <p>
						
                        <b>FpML creditDefaultSwap Element</b>
					
                     </p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>General Terms</p>
				
                  </td>
				
                  <td>
					
                     <p> generalTerms</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Fixed Rate Payments</p>
				
                  </td>
				
                  <td>
					
                     <p> feeLeg</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Floating Payment</p>
				
                  </td>
				
                  <td>
					
                     <p> protectionTerms</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Settlement Terms</p>
				
                  </td>
				
                  <td>
					
                     <p> physicalSettlementTerms or cashSettlementTerms </p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Notice and Account Details</p>
				
                  </td>
				
                  <td>
					
                     <p>N/A</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Offices</p>
				
                  </td>
				
                  <td>
					
                     <p>N/A</p>
				
                  </td>
			
               </tr>
		
            </table>
		
            <p>Figure 2: Sections of the 2003 Confirmation and their corresponding FpML creditDefaultSwap elements.</p>
		
            <p>Additional points to note:</p>
		
            <ul class="bulleted">
			
               <li> The id attribute and the productType and productId elements are inherited from the product type. They are not credit derivatives specific. Each product supported by FpML contains these elements.</li>
			
               <li> Although <i>Settlement Terms</i> are specified on a full confirmation, they are not necessarily required for a transaction supplement or other activities in the trade lifecycle. Therefore, the equivalent element (physicalSettlementTerms or cashSettlementTerms) is optional in FpML 5.0.</li>
			
               <li> The <i>Notice and Account Details</i> and <i>Offices</i> sections of the confirmation do not have a direct analog in the FpML 5.0 definition of the credit default swap. In FpML, the party elements that appear under the FpML root element serve the purpose these sections do in the traditional confirm.</li>
		
            </ul>
		
            <p>The remainder of this document reviews each child element of the creditDefaultSwap.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.3">6.3 generalTerms</a>
               </h3>
            </div>
		
            <p>The generalTerms element, which appears in Figure 3, represents the information specified in the <i>General Terms</i> section of the 2003 Confirmation.</p>
		
            <p>
			
               <a href="images/credit-derivatives/generalTerms.jpg">
                  <img src="images/credit-derivatives/generalTerms.jpg" alt="images/credit-derivatives/generalTerms.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Figure 3: generalTerms Element</p>
		
            <p>The effectiveDate element represents the <i>Effective Date </i>term. In order to optionally allow the explicit specification of a particular business day convention per the 2003 Definitions this element is of type AdjustableDate2. The effectiveDate is optional for the transaction supplement representation of some credit default swap indices.</p>
		
            <p>The scheduledTerminationDate element represents the <i>Scheduled Termination Date </i>term. This element can be specified as either an adjustable date or a relative date. For confirmation purposes a specific date will always be specified. Again, the AdjustableDate2 type allows the parties to explicitly specify a particular business day convention per the 2003 Definitions. The Interval type (e.g. 5 Y for a five year deal) is included because this way of expressing a scheduled termination date is quite commonly used in historical price databases. The scheduled termination date is optional for the transaction supplement representation of some credit default swap indices. The effectiveDate and scheduledTerminationDate should always be included for a credit default swap.</p>
		
            <p>The sellerPartyReference element represents the protection seller. This party is referred to as the <i>Floating Rate Payer</i> in the 2003 Definitions. Similarly, the buyerPartyReference element represents the protection buyer and is referred to as the <i>Fixed Rate Payer</i> in the 2003 Definitions. These elements reference the party elements underneath the FpML root element.</p>
		
            <p>The optional elements dateAdjustments.businessCenters and dateAdjustments.businessDayConvention are used to represent the terms <i>Business Day</i> and <i>Business Day Convention</i> respectively.</p>
		
            <p>The referenceInformation element is used in the representation of a credit default swap. The indexReferenceInformation element is used in the representation of a credit default swap index. The basketReferenceInformation element is used in the representation of a credit default swap basket.</p>
		
            <p>The full expansion of the referenceInformation element appears in figure 4. Two of its child elements, referenceEntity and referenceObligation, are used to represent the <i>Reference Entity </i>and <i>Reference Obligation(s) </i>terms respectively. </p>
		
            <p>The referenceEntity element is of type LegalEntity and is required. The LegalEntity type requires an entityName and/or an entityId to be provided. Both the entityName and the entityId are represented using schemes, which allow the source (e.g. reference database) of the information to be recorded.</p>
		
		
            <p>The optional allGuarantees and referencePrice are used to represent the terms <i>All Guarantees</i> and <i>Reference Price</i> respectively. </p>
		
		
		
		
            <p>Several terms that appear in the <i>General Terms</i> section of the 2003 Confirmation do not appear in the generalTerms element because elements to represent these terms already existed in the FpML trade element. The terms that belong to this category appear in Figure 6 along with their corresponding FpML element.</p>
		
            <p/>
		
            <table class="table">
			
			
			
               <tr>
				
                  <td>
					
                     <p>
						
                        <b> ISDA Confirmation Term</b>
					
                     </p>
				
                  </td>
				
                  <td>
					
                     <p>
						
                        <b>FpML Element</b>
					
                     </p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p> Trade Date</p>
				
                  </td>
				
                  <td>
					
                     <p> trade.tradeHeader.tradeDate</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Calculation Agent</p>
				
                  </td>
				
                  <td>
					
                     <p>trade.calculationAgent.calculationAgentPartyReference</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>Calculation Agent City</p>
				
                  </td>
				
                  <td>
					
                     <p>trade.calculationAgentBusinessCenter</p>
				
                  </td>
			
               </tr>
		
            </table>
		
            <p>Figure 6 General Terms that do not appear in creditDefaultSwap.generalTerms element.</p>
	
            <div>
               <h4>
                  <a id="s6.3.1">6.3.1 referenceObligation</a>
               </h4>
			
               <p>A referenceObligation element has either a bond, a convertibleBond, a mortgage, or loan as one of its child elements. The bond, convertibleBond, mortgage, and loan elements are shared FpML elements. In other words, they were not created specifically to support credit derivatives and are also used in other asset classes. </p>
			
			
			
			
               <p>To represent the <i>Primary Obligor </i>term a referenceObligation element may optionally have either a primaryObligor or a primaryObligationReference element. If the <i>Primary Obligor </i>is the <i>Reference Entity</i>, then primaryObligorReference should be used. Its href attribute will contain the id attribute of the referenceEntity. Otherwise, the primaryObligor element, which is of type LegalEntity, should be used.</p>
			
               <p>Similarly, to represent the <i>Guarantor </i>term a referenceObligation element may optionally have either a guarantor or a primaryObligationReference element. If the <i>Guarantor </i>is the <i>Reference Entity</i>, then guarantorReference should be used. Its href attribute will contain the id attribute of the referenceEntity. Otherwise, the guarantor element, which is of type LegalEntity, should be used.</p>
		
               <div>
                  <h5>
                     <a id="s6.3.1.1">6.3.1.1 bond and convertibleBond</a>
                  </h5>
				
                  <p>For a credit default swap, bond or convertibleBond is used to specify a <i>Reference Obligation's CUSIP/ISIN</i>, <i>Maturity </i> and <i>Coupon</i> values. The instrumentId element is used to specify <i>CUSIP/ISIN</i>. The mandatory instrumentIdScheme is used to specify whether the id provided is a CUSIP or an ISIN. Since multiple occurrences of instrumentId are allowed, the schema supports the specification of both the obligation's CUSIP and ISIN, if they both exist. The couponRate and maturity elements are used to represent the <i>Coupon</i> and <i>Maturity</i> terms respectively.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s6.3.1.2">6.3.1.2 mortgage</a>
                  </h5>
				
                  <p>A mortgage underlyer was added to the underlying classes that are part of the ReferenceObligation structure in order to support cds on mortgage. This Mortgage type uses most of the structures present at other underlying assets.</p>
				
                  <p>
					
                     <a href="images/main/mortgage.jpg">
                        <img src="images/main/mortgage.jpg" alt="images/main/mortgage.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The extensions specific to the mortgage structure are the following:</p>
				
                  <ul class="bulleted">
					
                     <li>The originalPrincipalAmount element, which schema definition is 'The initial issued amount of the mortgage obligation'.</li>
					
                     <li>The pool, which specifies the underlying mortgage pool through an initialFactor and a currentFactor elements. An optional versionHistory group provides the ability to indicate the version of the pool. In the ISDA long form definition, this initialFactor is used as an input for specifying the 'Applicable Percentage' that is used throughout the life the trade for representing the effect of the mortgage factor updates.</li>
					
                     <li>The sector, defined in the schema as 'The sector classification of mortgage obligations'. This element is specified as a normalized string that optionally refers to the mortgageSectorScheme. This scheme contains the mortgage typology currently in use by the marketplace: ABS, CDO, CMBS and RMBS.</li>
					
                     <li>The tranche specifies the mortgage obligation tranche that is subject to the derivative transaction. There can only be one tranche. No scheme is associated with the tranche, as there is no current classification or normalization of those mortgage tranches.</li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s6.3.1.3">6.3.1.3 loan</a>
                  </h5>
				
                  <p>A loan underlyer was added to the list of available product classes as part of the Reference Obligation. This Loan type extends Underlying Asset structure.</p>
				
                  <p>
					
                     <a href="images/main/loan.jpg">
                        <img src="images/main/loan.jpg" alt="images/main/loan.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The extensions specific to the loan structure are the following:</p>
				
                  <ul class="bulleted">
					
                     <li>The borrowerName or borrowerPartyReference on Loan CDS is meant to be used in the event that there is no Bloomberg Id or the Secured List isn't applicable, and has been modeled in the same way as the insurerName or insurerPartyReference on Mortgage CDS.</li>
					
                     <li>The lien specifies the seniority level of the lien..</li>
					
                     <li>The facilityType describes the type of the loan facility and is specified through the facility-type-1-0.xml scheme file. Defined values are “BridgeLoan”, “LetterOfCredit”, “RevolvingLoan”, “SwinglineFunding”, “TermLoan” and “TradeClaim”.</li>
					
                     <li>The maturity is the maturity date of the loan.</li>
					
                     <li>The creditAgreementDate is the closing date (the date where the agreement has been signed) for the loans in the credit agreement. Funding of the facilities occurs on (or sometimes a little after) the Credit Agreement date. This underlyer attribute is used to help identify which of the company's outstanding loans are being referenced by knowing to which credit agreement it belongs. ISDA Standards Terms Supplement term: Date of Original Credit Agreement.</li>
					
                     <li>While the tranche element is present for both the mortgage and loan extensions, its usage is different across those 2 underlyers: </li>
					
                     <ul class="bulleted">
						
                        <li>In the mortgage case, the instrument Id is used to indicate the Bloomberg reference number of the mortgage, while the tranche element is used to qualify the specific tranche that is subject to the derivative transaction.</li>
						
                        <li>With the loan, the Bloomberg number qualifies both the loan and the tranche. As a result, the instrument Id is used to specify the loan’s Cusip, while the tranche is used to specify the Bloomberg number. Consequently, a transcheIdScheme is being associated to the tranche element.</li>
					
                     </ul>
				
                  </ul>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s6.3.2">6.3.2 referenceInformation</a>
               </h4>
			
               <p>
				
                  <a href="images/credit-derivatives/referenceInformation.jpg">
                     <img src="images/credit-derivatives/referenceInformation.jpg" alt="images/credit-derivatives/referenceInformation.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 4: referenceInformation element</p>
			
               <p>Although the structure of referenceInformation appears to be somewhat complex, the specification of Reference Entity and Reference Obligation information in FpML documents is quite simple, straightforward and flexible. An example bears this out:</p>
			
               <ul class="bulleted">
				
                  <li>Reference Entity: Bundesrepublic Deutschland</li>
				
                  <li>Primary Obligor: Reference Entity</li>
				
                  <li>Guarantor: None</li>
				
                  <li>Coupon Rate: 5%</li>
				
                  <li>Date Maturity: 2012-7-4</li>
				
                  <li>ISIN/Cusip: DE0001135200</li>
				
                  <li>Reference Price: 100%</li>
			
               </ul>
			
               <p>In order to support the full credit default swap trade lifecycle, the schema allows this information to be expressed in various degrees of detail:</p>
			
               <p>Example 1 - Reference Entity only:</p>
			
               <pre>
&lt;referenceInformation&gt;
  &lt;referenceEntity&gt;
    &lt;entityName&gt;Bundesrepublic Deutschland&lt;/entityName&gt;
  &lt;/referenceEntity&gt;
  &lt;noReferenceObligation/&gt;  
&lt;/referenceInformation&gt;
                </pre>
			
               <p>Example 2 - Reference Entity and ISIN of the Reference Obligation with optional scheme attributes:</p>
			
               <pre>
&lt;referenceInformation&gt;
  &lt;referenceEntity&gt;
    &lt;entityName&gt;Bundesrepublic Deutschland&lt;/entityName&gt;
    &lt;/referenceEntity&gt;
  &lt;referenceObligation&gt;
    &lt;bond&gt;
      &lt;instrumentId instrumentIdScheme =
"http://www.fpml.org/spec/2002/instrument-id-ISIN-1-0"&gt;DE0001135200&lt;/instrumentId&gt;
    &lt;/bond&gt;
  &lt;/referenceObligation&gt;
&lt;/referenceInformation&gt;
                </pre>
			
               <p>Example 3 - Full Representation of Reference Entity and Reference Obligation terms:</p>
			
               <pre>
&lt;referenceInformation&gt;
   &lt;referenceEntity id ="DBR"&gt;
	&lt;entityName&gt;Bundesrepublic Deutschland&lt;/entityName&gt;
  &lt;/referenceEntity&gt;
  &lt;referenceObligation&gt;
    &lt;bond&gt;
      &lt;instrumentId 
        instrumentIdScheme =
"http://www.fpml.org/spec/2002/instrument-id-ISIN-1-0"&gt;DE0001135200&lt;/instrumentId&gt;
      &lt;couponRate&gt;.05&lt;/couponRate&gt;
      &lt;maturity&gt;2012-07-04&lt;/maturity&gt;
    &lt;/bond&gt;
    &lt;primaryObligorReference href =
"DBR"/&gt;
  &lt;/referenceObligation&gt;
  &lt;referencePrice&gt;1&lt;/referencePrice&gt;
&lt;/referenceInformation&gt;
		</pre>
			
               <p>The <b>referencePolicy</b> element is applicable to the transactions on mortgage-backed security, which can make use of a reference policy. Presence of the element indicates that the reference policy is applicable; absence implies that it is not.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s6.3.3">6.3.3 indexReferenceInformation</a>
               </h4>
			
               <p>The indexReferenceInformation element appears in the Figure 5. This element is used to identify the index referenced by a credit default swap index trade. </p>
			
               <p>The indexReferenceInformation element is structurally very similar to the referenceEntity element. The indexReferenceInformation element identifies a collection of (Reference Entity, Reference Obligation) pairs issued by an index sponsor (e.g. iBoxx, TRAC-X). The referenceEntity element, on the other hand, identifies a specific Reference Entity.</p>
			
               <p>
				
                  <a href="images/credit-derivatives/indexReferenceInformation.jpg">
                     <img src="images/credit-derivatives/indexReferenceInformation.jpg" alt="images/credit-derivatives/indexReferenceInformation.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 5: indexReferenceInformation element</p>
			
               <p>The identification is accomplished by a combination of the indexId and the indexName elements. There are optional elements to explicitly define the index series number, the version number of the index series annex, the annex publication date and the source of the relevant annex (the elements indexSeries, indexAnnexVersion, indexAnnexDate and indexAnnexSource respectively) (for a given series, multiple versions of the “annex” may be published over time). The indexSeries and indexAnnexVersion elements are of integer type, the indexAnnexDate element is of date type and the indexAnnexSource element is of complex type IndexAnnexSource (which is of base type string).</p>
			
               <p>The indexAnnexSource element corresponds to the field ‘Source of Relevant Annex’ that appears in the Dow Jones CDX form of Transaction Supplement and it is proposed an FpML-defined Scheme is defined with initial possible values of “Publisher” and “Master Confirmation”. These values have the meanings ascribed to them in the Dow Jones CDX General Terms Confirmation (A value of “Publisher” implies the relevant annex for a transaction is the list for the relevant index with the relevant annex date published by Mark-it Partners).</p>
			
               <p>See the Mark-it Partners website (<a class="web" href="http://www.mark-it.com" target="_blank" title="Link opens in new window.">http://www.mark-it.com</a>) for examples of published annexes for the CDX and iTraxx index families.</p>
			
               <p>An additional optional repeating element excludedReferenceEntity is also proposed to support the iTraxx and CDX forms of Transaction Supplement which allow for specific reference entities in the index to be excluded by making reference to them in the Transaction Supplement. This element uses the existing LegalEntity type.</p>
			
               <p>Identifying a credit default swap index with indexReferenceInformation is quite straightforward. Like referenceInformation, it allows for this information to be expressed in various degrees of detail.</p>
			
               <p>Some illustrative example FpML snippets including the optional elements follow:</p>
			
               <pre>
&lt;generalTerms&gt;
  ...
  &lt;indexReferenceInformation&gt;
    &lt;indexName&gt;Dow Jones CDX.NA.IG.3 Version 1&lt;/indexName&gt;
    &lt;indexId indexIdScheme="http://www.fpml.org/spec/2003/instrument-id-RED-pair-1-0"&gt;123456789&lt;/indexId&gt;
    &lt;indexSeries&gt;3&lt;/indexSeries&gt;
    &lt;indexAnnexVersion&gt;1&lt;/indexAnnexVersion&gt;
    &lt;indexAnnexDate&gt;2004-09-20&lt;/indexAnnexDate&gt;
    &lt;indexAnnexSource&gt;Publisher&lt;/indexAnnexSource&gt;
  &lt;/indexReferenceInformation&gt;
  ...
&lt;/generalTerms&gt;


&lt;generalTerms&gt;
  ...
  &lt;indexReferenceInformation&gt;
    &lt;indexName&gt;Dow Jones iTraxx Europe Series 2 Version 1&lt;/indexName&gt;
    &lt;indexId indexIdScheme="http://www.fpml.org/spec/2003/instrument-id-RED-pair-1-0"&gt;123456789&lt;/indexId&gt;
    &lt;indexSeries&gt;2&lt;/indexSeries&gt;
    &lt;indexAnnexVersion&gt;1&lt;/indexAnnexVersion&gt;
    &lt;indexAnnexDate&gt;2004-09-17&lt;/indexAnnexDate&gt;
    &lt;excludedReferenceEntity&gt;
      &lt;entityName&gt;Acme Inc.&lt;/entityName&gt;
      &lt;entityId entityIdScheme="http://www.fpml.org/spec/2003/entity-id-RED-1-0"&gt;123456&lt;/entityId&gt;
    &lt;/excludedReferenceEntity&gt;
  &lt;/indexReferenceInformation&gt;
  ...
&lt;/generalTerms&gt;
				</pre>
			
			
			
               <pre>	
&lt;generalTerms&gt;
  ...
  &lt;indexReferenceInformation&gt;
	&lt;indexName&gt;Dow Jones iTraxx Europe Consumers Series 2 Version 1&lt;/indexName&gt;
	&lt;indexSeries&gt;2&lt;/indexSeries&gt;
	&lt;indexAnnexVersion&gt;1&lt;/indexAnnexVersion&gt;
	&lt;tranche&gt;
		&lt;attachmentPoint&gt;0.03&lt;/attachmentPoint&gt;
		&lt;exhaustionPoint&gt;0.07&lt;/exhaustionPoint&gt;
	&lt;/tranche&gt;
	&lt;settledEntityMatrix&gt;
		&lt;matrixSource&gt;NotApplicable&lt;/matrixSource&gt;
	&lt;/settledEntityMatrix&gt;
  &lt;/indexReferenceInformation&gt;
  ...
&lt;/generalTerms&gt;			
			</pre>
		
               <div>
                  <h5>
                     <a id="s6.3.3.1">6.3.3.1 Index Tranche</a>
                  </h5>
				
                  <p>The optional tranche element allows the specification of index tranches. The structure requires an attachment point and an exhaustion point and optionally the applicability of the legal term Incurred Recovery.</p>
				
                  <p>
					
                     <a href="images/credit-derivatives/tranche.jpg">
                        <img src="images/credit-derivatives/tranche.jpg" alt="images/credit-derivatives/tranche.jpg" class="image"/>
                     </a>
				
                  </p>
			
               </div>
               <div>
                  <h5>
                     <a id="s6.3.3.2">6.3.3.2 Settled Entity Matrix </a>
                  </h5>
				
                  <p>The Dow Jones CDX Tranche Transactions Standard Terms Supplement requires the "Source of Relevant Settled Entity Matrix" field on a Confirmation. The optional settledEntityMatrix element supports it. It contains a required matrixSource element and an optional publicationDate element.</p>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s6.3.4">6.3.4 basketReferenceInformation</a>
               </h4>
			
               <p>The basketReferenceInformation element appears in the figure below. This element is used to define the composition of the basket by a credit default swap basket.</p>
			
               <p>
				
                  <a href="images/credit-derivatives/basketReferenceInformation.jpg">
                     <img src="images/credit-derivatives/basketReferenceInformation.jpg" alt="images/credit-derivatives/basketReferenceInformation.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>The identification of the basket using basketId and/or basketName is optional since each component of the basket must be specified using the referencePoolItem element.</p>
			
               <p>The constituentWeight (weight of each component of the basket) is optional since if the element is not present, it means that flat weight is assumed.</p>
			
			
               <p>Some illustrative example FpML snippets follow:</p>
			
               <pre>
&lt;generalTerms&gt;
  ...
  &lt;basketReferenceInformation&gt;
   &lt;referencePool&gt;
     &lt;referencePoolItem&gt;
	&lt;referencePair&gt;
		&lt;referenceEntity id="agriumEntity"&gt;
			&lt;entityName&gt;Agrium Inc.&lt;/entityName&gt;
			&lt;entityId entityIdScheme="http://www.fpml.org/spec/2003/entity-id-RED-1-0"&gt;
008HA7&lt;/entityId&gt;
		&lt;/referenceEntity&gt;
		&lt;referenceObligation&gt;
			&lt;bond&gt;
				&lt;instrumentId instrumentIdScheme="http://www.fpml.org/spec/2002/
instrument-id-CUSIP-1-0"&gt;008916AB4&lt;/instrumentId&gt;
				&lt;couponRate&gt;0.077&lt;/couponRate&gt;
				&lt;maturity&gt;2017-02-01&lt;/maturity&gt;
			&lt;/bond&gt;
			&lt;primaryObligorReference href="agriumEntity"/&gt;
		&lt;/referenceObligation&gt;
		&lt;entityType&gt;NorthAmericanInvestmentGrade&lt;/entityType&gt;
	&lt;/referencePair&gt;
   &lt;/referencePoolItem&gt;
   &lt;referencePoolItem&gt;
	&lt;referencePair&gt;
		&lt;referenceEntity id="tenetEntity"&gt;
			&lt;entityName&gt;Tenet Healthcare Corporation&lt;/entityName&gt;
			&lt;entityId entityIdScheme="http://www.fpml.org/spec/2003/entity-id-RED-1-0"&gt;
8G836J&lt;/entityId&gt;
		&lt;/referenceEntity&gt;
		&lt;referenceObligation&gt;
			&lt;bond&gt;
				&lt;instrumentId instrumentIdScheme="http://www.fpml.org/spec/2002/
instrument-id-CUSIP-1-0"&gt;88033GAT7&lt;/instrumentId&gt;
				&lt;couponRate&gt;0.06&lt;/couponRate&gt;
				&lt;maturity&gt;2011-12-01&lt;/maturity&gt;
			&lt;/bond&gt;
			&lt;primaryObligorReference href="tenetEntity"/&gt;
		&lt;/referenceObligation&gt;
		&lt;entityType&gt;NorthAmericanInvestmentGrade&lt;/entityType&gt;
	&lt;/referencePair&gt;
     &lt;/referencePoolItem&gt;
   &lt;/referencePool&gt;
   &lt;nthToDefault&gt;1&lt;/nthToDefault&gt;
  &lt;/basketReferenceInformation&gt;
  ...
&lt;/generalTerms&gt;
		</pre>
		
               <div>
                  <h5>
                     <a id="s6.3.4.1">6.3.4.1 Basket Tranche and Nth to Default </a>
                  </h5>
				
                  <p>The ability to specify either Nth and Mth to default or tranche details on baskets has been included within basketReferenceInformation.</p>
				
                  <p>
					
                     <a href="images/credit-derivatives/tranchebasket.jpg">
                        <img src="images/credit-derivatives/tranchebasket.jpg" alt="images/credit-derivatives/tranchebasket.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The tranche element is available to specify an attachment and exhaustion point as well as the legal applicability of Incurred Recovery. The Nth and Mth to Default sequence is available to express trades in which there is a triggered reference obligation to payout. The tranche and nthToDefault are features are both optional structures.</p>
			
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.4">6.4 feeLeg</a>
               </h3>
            </div>
		
		
		
	
            <div>
               <h4>
                  <a id="s6.4.1">6.4.1 Credit default swap</a>
               </h4>
			
               <p>The feeLeg element represents the information specified in the <i>Fixed Payments</i> section of the 2003 Confirmation. In other words, this is where the payment stream from <i>Fixed Rate Payer</i> to the <i>Floating Rate Payer</i> is specified. This element reuses types and elements from FpML 5.0 Interest Rate Derivatives.</p>
			
               <p>The feeLeg allows representation of the following types of payment schedules for a credit default swap using a combination of the singlePayment and periodicPayment elements:</p>
			
               <ul class="bulleted">
				
                  <li>Fixed Amount, Regular Schedule</li>
				
                  <li>Fixed Rate, Regular Schedule</li>
				
                  <li>Fixed Rate, Month-End Rolls</li>
				
                  <li>Fixed Rate, Initial (Short) Stub</li>
				
                  <li>Fixed Rate, Initial (Long) Stub</li>
				
                  <li>Fixed Rate, Final (Short) Stub</li>
				
                  <li>Fixed Rate, Final (Long) Stub</li>
				
                  <li>Fixed Amount, Single Payment</li>
				
                  <li>Upfront Fee and Fixed Rate, Regular Schedule </li>
				
                  <li>Irregular Payment Schedule </li>
			
               </ul>
			
               <p>In addition, it's important to note that the use of initialPayment allows the representation of the situation when the seller of protection pays a fee to the buyer as an upfront payment. An example of this scenario is the payment in exchange for an agreed modification of the first period start date.</p>
			
               <p> An optional cashflow representation is also permitted. The feeLeg element appears in Figure 7.</p>
			
               <p>
				
                  <a href="images/credit-derivatives/feeLeg.jpg">
                     <img src="images/credit-derivatives/feeLeg.jpg" alt="images/credit-derivatives/feeLeg.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 7: feeLeg element</p>
			
               <p>This structure allows specification of a single payment (zero or more) or a periodic series of payments. Therefore, it allows representation of a single upfront payment, a single upfront payment combined with a schedule of regular payments or a schedule of totally irregular payment dates and amounts. Note that payments specified in the singlePayment and periodicPayment elements are always assumed to be payments made by the Fixed Rate Payer (protection buyer) to the Floating Rate Payer (protection seller).</p>
			
               <p>When a ‘New Transaction’ arises following a Novation it is market practice for a CDS that the initial Calculation Period with respect to the New Transaction shall commence on and include the (a) the Fixed Rate Payer Period End Date of the ‘Old Transaction’ that immediately precedes the Novation Date; or (b) in the event the Novation Date occurs during the initial Calculation Period of the Old Transaction, the Effective Date (see 2004 ISDA Novation Definitions at <a class="web" href="http://www.isda.org/publications/pdf/2004-Novation-Definitions.pdf" target="_blank" title="Link opens in new window.">http://www.isda.org/publications/pdf/2004-Novation-Definitions.pdf</a> for further background, specifically Section 1.20).</p>
			
               <p>firstPeriodStartDate supports a CDS FpML representation for a New Transaction arising from a Novation to be useful as a standalone document (without needing reference to the Old Transaction). It allows specification of the initial Calculation Period Start Date where it is not equal to the trade’s Effective Date. </p>
			
               <p>The periodicPayment.rollConvention element is used to address the ambiguities that can otherwise occur with regard to the actual payment dates, particularly when considering month-end rolls and any initial stub. The rollConvention element typically takes a value of 1-30 or EOM. It represents the actual unadjusted day in the month on which payments would occur.</p>
			
               <p>As in FpML 5.0 Interest Rate Derivatives, the periodicPayment.firstPaymentDate element is only needed when the first period is irregular, i.e. there is a short or long initial stub. For a regular set of payment periods knowing the Effective Date, Scheduled Termination Date, payment frequency and roll convention is sufficient to define the schedule.</p>
			
               <p>In keeping with the 2003 Definitions either a Fixed Rate Calculation or known Fixed Amount may be specified. The optional periodicPayment.fixedAmountCalculation.dayCountFraction element should be omitted in the case of a Transaction Supplement. Similarly, the optional periodicPayment.fixedAmountCalculation.calculationAmount element provides support for the full confirmation but should be omitted in the case of a Transaction Supplement.</p>
			
               <p> The addition of the adjustedPaymentDate element within singlePayment and adjustedPaymentDates component in periodicPayment allows the optional inclusion of a 'cashflows' like structure consistent with what was done in FpML 5.0 Interest Rate Derivatives. Note these structures are intended more for internal application integration use rather than external communication, i.e. Wouldn't be applicable for confirmations.</p>
			
               <p> Here are some example fee schedules:</p>
			
               <p> Example 1 - Fixed Rate - Regular Schedule:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 1 November, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Rate: .85%</li>
				
                  <li>Payment Frequency: Quarterly</li>
				
                  <li>Day Count Fraction: ACT/360 </li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
	    &lt;calculationAmount&gt;
		    &lt;currency&gt;USD&lt;/currency&gt;
		    &lt;amount&gt;5000000&lt;/amount&gt;
	    &lt;/calculationAmount&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
      &lt;dayCountFraction dayCountFractionScheme="http://www.fpml.org/spec/2004/
day-count-fraction-1-0"&gt;ACT/360&lt;/dayCountFraction&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p>or in a Transaction Supplement</p>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 2 - Fixed Amount - Regular Schedule:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 1 November, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007 </li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Amount: USD 10,625</li>
				
                  <li>Payment Frequency: Quarterly</li>
				
                  <li>Day Count Fraction: ACT/360 </li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;10625.00&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 3 - Fixed Rate - Month-End Rolls:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 30 September, 2002</li>
				
                  <li>Scheduled Termination Date: 30 September, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Rate: .85%</li>
				
                  <li>Payment Frequency: Quarterly on each December 31, March 31, June 30 and September 30</li>
				
                  <li>Day Count Fraction: ACT/360</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;EOM&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;calculationAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;5000000&lt;/amount&gt;
      &lt;/calculationAmount&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
      &lt;dayCountFraction dayCountFractionScheme="http://www.fpml.org/spec/2004/
day-count-fraction-1-0"&gt;ACT/360&lt;/dayCountFraction&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> or in a Transaction Supplement</p>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;EOM&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 4 - Fixed Rate - Initial (Short) Stub:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 30 September, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Rate: .85%</li>
				
                  <li>Payment Frequency: 1 November 2002 and each February 1, May 1, August 1 and November 1</li>
				
                  <li>Day Count Fraction: ACT/360</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;firstPaymentDate&gt;2002-11-01&lt;/firstPaymentDate&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p/>
			
               <p> Example 5 - Fixed Rate - Initial (Long) Stub:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 30 September, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Rate: .85%</li>
				
                  <li>Payment Frequency: 1 February 2003 and each May 1, August 1, November 1 and February 1</li>
				
                  <li>Day Count Fraction: ACT/360</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
 &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;firstPaymentDate&gt;2003-02-01&lt;/firstPaymentDate&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 6 - Fixed Amount - Single Payment:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 1 November, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Amount: USD 100,000</li>
				
                  <li>Payment Date: 2 November 2002</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2002-11-02&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;100000.00&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/singlePayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 7 - Upfront Fee combined with Fixed Rate Regular Schedule</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 1 November, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Upfront Payment Amount: USD 100,000</li>
				
                  <li>Upfront Payment Date: 2 November 2002</li>
				
                  <li>Fixed Rate: .85%</li>
				
                  <li>Payment Frequency: Quarterly</li>
				
                  <li>Day Count Fraction: ACT/360</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2002-11-02&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;100000.00&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/singlePayment&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 8 - Irregular Payment Schedule</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 1 November, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2007</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Amount of USD 100,000 on 2 November 2002 and USD 50,000 on 2 December 2002 .</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2002-11-02&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;100000.00&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/singlePayment&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2002-12-02&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;50000.00&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/singlePayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 9 - Fixed Rate - Final (Short) Stub:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 18 February, 2003</li>
				
                  <li>Scheduled Termination Date: 20 March, 2008</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Rate: .9%</li>
				
                  <li>Payment Frequency: 20 March 2003 and each June 20, September 20 and March 20.</li>
				
                  <li>Day Count Fraction: ACT/360</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;lastRegularPaymentDate&gt;2003-03-20&lt;/lastRegularPaymentDate&gt;
    &lt;rollConvention&gt;20&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;fixedRate&gt;0.009&lt;/fixedRate&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p> Example 10 - Fixed Rate - Regular Schedule (Including Optional Cashflows):</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 1 November, 2002</li>
				
                  <li>Scheduled Termination Date: 1 November, 2003</li>
				
                  <li>Notional Amount: USD 5,000,000</li>
				
                  <li>Fixed Rate: .85%</li>
				
                  <li>Payment Frequency: Quarterly</li>
				
                  <li>Day Count Fraction: ACT/360</li>
			
               </ul>
			
               <p> Note that the adjustedPaymentDate element values have not been adjusted for any applicable business days.</p>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;calculationAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;5000000&lt;/amount&gt;
      &lt;/calculationAmount&gt;
      &lt;fixedRate&gt;0.0085&lt;/fixedRate&gt;
      &lt;dayCountFraction dayCountFractionScheme="http://www.fpml.org/spec/2004/
day-count-fraction-1-0"&gt;ACT/360&lt;/dayCountFraction&gt;
    &lt;/fixedAmountCalculation&gt;
    &lt;adjustedPaymentDates&gt;
      &lt;adjustedPaymentDate&gt;2003-02-01&lt;/adjustedPaymentDate&gt;
      &lt;fixedAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;10625.00&lt;/amount&gt;
      &lt;/fixedAmount&gt;
    &lt;/adjustedPaymentDates&gt;
    &lt;adjustedPaymentDates&gt;
      &lt;adjustedPaymentDate&gt;2003-05-01&lt;/adjustedPaymentDate&gt;
      &lt;fixedAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;10625.00&lt;/amount&gt;
      &lt;/fixedAmount&gt;
    &lt;/adjustedPaymentDates&gt;
    &lt;adjustedPaymentDates&gt;
      &lt;adjustedPaymentDate&gt;2003-08-01&lt;/adjustedPaymentDate&gt;
      &lt;fixedAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;10625.00&lt;/amount&gt;
      &lt;/fixedAmount&gt;
    &lt;/adjustedPaymentDates&gt;
    &lt;adjustedPaymentDates&gt;
      &lt;adjustedPaymentDate&gt;2003-11-01&lt;/adjustedPaymentDate&gt;
      &lt;fixedAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;10625.00&lt;/amount&gt;
      &lt;/fixedAmount&gt;
    &lt;/adjustedPaymentDates&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
                        </pre>
			
               <p>Example 11 - firstPeriodStartDate - Novations Support</p>
			
               <p>Suppose the following Old Transaction is Novated with the following information:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 9 June, 2004</li>
				
                  <li>Scheduled Termination Date: 20 June, 2009</li>
				
                  <li>First Fixed Rate Payer Payment Date: 20 September, 2004</li>
				
                  <li>Novation Trade Date: 21 September, 2004</li>
				
                  <li>Novation Date: 22 September, 2004</li>
			
               </ul>
			
               <p>Old Transaction FpML (abbreviated) representation:</p>
			
               <pre>
&lt;creditDefaultSwap&gt;
  &lt;generalTerms&gt;
    &lt;effectiveDate&gt;
      &lt;unadjustedDate&gt;2004-06-09&lt;/unadjustedDate&gt;
      &lt;dateAdjustments&gt;
        &lt;businessDayConvention&gt;NONE&lt;/businessDayConvention&gt;
      &lt;/dateAdjustments&gt;
    &lt;/effectiveDate&gt;
    &lt;scheduledTerminationDate&gt;
      &lt;adjustableDate&gt;
        &lt;unadjustedDate&gt;2009-06-20&lt;/unadjustedDate&gt;
        &lt;dateAdjustments&gt;
          &lt;businessDayConvention&gt;NONE&lt;/businessDayConvention&gt;
        &lt;/dateAdjustments&gt;
      &lt;/adjustableDate&gt;
    &lt;/scheduledTerminationDate&gt;
    ...
  &lt;/generalTerms&gt;
  &lt;feeLeg&gt;
    &lt;periodicPayment&gt;
      &lt;paymentFrequency&gt;
        &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
        &lt;period&gt;M&lt;/period&gt;
      &lt;/paymentFrequency&gt;
      &lt;firstPaymentDate&gt;2004-09-20&lt;/firstPaymentDate&gt;
      &lt;rollConvention&gt;20&lt;/rollConvention&gt;
      &lt;fixedAmountCalculation&gt;
        &lt;calculationAmount&gt;
          &lt;currency&gt;EUR&lt;/currency&gt;
          &lt;amount&gt;5000000.0&lt;/amount&gt;
        &lt;/calculationAmount&gt;
        &lt;fixedRate&gt;0.0125&lt;/fixedRate&gt;
        &lt;dayCountFraction dayCountFractionScheme="http://www.fpml.org/spec/2004/
day-count-fraction-1-0"&gt;ACT/360&lt;/dayCountFraction&gt;
      &lt;/fixedAmountCalculation&gt;
    &lt;/periodicPayment&gt;
  &lt;/feeLeg&gt;
  ...
&lt;/creditDefaultSwap&gt;
                        </pre>
			
               <p>For the New Transaction the FpML representation would show:</p>
			
               <ul class="bulleted">
				
                  <li>Effective Date: 22 September, 2004 (the Novation Date)</li>
				
                  <li>Scheduled Termination Date: 20 June, 2009</li>
				
                  <li>First Fixed Rate Payer Payment Date: 20 December, 2004</li>
				
                  <li>Initial Calculation Period Start Date (element firstPeriodStartDate): 20 September, 2004</li>
			
               </ul>
			
               <p>New Transaction FpML (abbreviated) representation:</p>
			
               <pre>
&lt;creditDefaultSwap&gt;
  &lt;generalTerms&gt;
    &lt;effectiveDate&gt;
      &lt;unadjustedDate&gt;2004-09-22&lt;/unadjustedDate&gt;
      &lt;dateAdjustments&gt;
        &lt;businessDayConvention&gt;NONE&lt;/businessDayConvention&gt;
      &lt;/dateAdjustments&gt;
    &lt;/effectiveDate&gt;
    &lt;scheduledTerminationDate&gt;
      &lt;adjustableDate&gt;
        &lt;unadjustedDate&gt;2009-06-20&lt;/unadjustedDate&gt;
        &lt;dateAdjustments&gt;
          &lt;businessDayConvention&gt;NONE&lt;/businessDayConvention&gt;
        &lt;/dateAdjustments&gt;
      &lt;/adjustableDate&gt;
    &lt;/scheduledTerminationDate&gt;
    ...
  &lt;/generalTerms&gt;
  &lt;feeLeg&gt;
    &lt;periodicPayment&gt;
      &lt;paymentFrequency&gt;
        &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
        &lt;period&gt;M&lt;/period&gt;
      &lt;/paymentFrequency&gt;
      &lt;firstPeriodStartDate&gt;2004-09-20&lt;/firstPeriodStartDate&gt;
      &lt;firstPaymentDate&gt;2004-12-20&lt;/firstPaymentDate&gt;
      &lt;rollConvention&gt;20&lt;/rollConvention&gt;
      &lt;fixedAmountCalculation&gt;
        &lt;calculationAmount&gt;
          &lt;currency&gt;EUR&lt;/currency&gt;
          &lt;amount&gt;5000000.0&lt;/amount&gt;
        &lt;/calculationAmount&gt;
        &lt;fixedRate&gt;0.0125&lt;/fixedRate&gt;
        &lt;dayCountFraction dayCountFractionScheme="http://www.fpml.org/spec/2004/
day-count-fraction-1-0"&gt;ACT/360&lt;/dayCountFraction&gt;
      &lt;/fixedAmountCalculation&gt;
    &lt;/periodicPayment&gt;
  &lt;/feeLeg&gt;
  ...
&lt;/creditDefaultSwap&gt;
                      </pre>
			
               <p>Example 12 - Periodic payments - stepping notional</p>
			
               <p>A credit default swap pays 100bp every 3 months. The notional starts at 5M but steps down twice throughout the life of the deal (only the relevant portions of FpML are shown):</p>
			
               <pre>
&lt;feeLeg&gt;
  &lt;periodicPayment&gt;
    &lt;paymentFrequency&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/paymentFrequency&gt;
    &lt;rollConvention&gt;1&lt;/rollConvention&gt;
    &lt;fixedAmountCalculation&gt;
      &lt;calculationAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;5000000&lt;/amount&gt;
        &lt;step&gt;
          &lt;stepDate&gt;2002-03-01&lt;/stepDate&gt;
          &lt;stepValue&gt;4000000&lt;/stepValue&gt;
        &lt;/step&gt;
        &lt;step&gt;
          &lt;stepDate&gt;2002-09-01&lt;/stepDate&gt;
          &lt;stepValue&gt;3000000&lt;/stepValue&gt;
        &lt;/step&gt;
      &lt;/calculationAmount&gt;
      &lt;fixedRate&gt;0.010&lt;/fixedRate&gt;
      &lt;dayCountFraction&gt;ACT/360&lt;/dayCountFraction&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
&lt;protectionTerms&gt;
  &lt;calculationAmount&gt;
    &lt;currency&gt;USD&lt;/currency&gt;
    &lt;amount&gt;5000000&lt;/amount&gt;
    &lt;step&gt;
      &lt;stepDate&gt;2002-03-01&lt;/stepDate&gt;
      &lt;stepValue&gt;4000000&lt;/stepValue&gt;
    &lt;/step&gt;
    &lt;step&gt;
      &lt;stepDate&gt;2002-09-01&lt;/stepDate&gt;
      &lt;stepValue&gt;3000000&lt;/stepValue&gt;
    &lt;/step&gt;
  &lt;/calculationAmount&gt;
  &lt;creditEvents&gt;
    &lt;defaultRequirement&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;10000000&lt;/amount&gt;
    &lt;/defaultRequirement&gt;
	...
				</pre>
			
               <p>Example 13 - Irregular Payments, stepping notional</p>
			
               <p>In this example, payments are made at irregular intervals (note that there is no June payment). Also the amount of each payment is determined based on notional that change over time:</p>
			
               <pre>
&lt;feeLeg&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2001-12-01&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;230.50&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/singlePayment&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2002-03-01&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;219.20&lt;/amount&gt;
    &lt;/fixedAmount&gt;
  &lt;/singlePayment&gt;
  &lt;singlePayment&gt;
    &lt;adjustablePaymentDate&gt;2002-9-01&lt;/adjustablePaymentDate&gt;
    &lt;fixedAmount&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;500.00&lt;/amount&gt;
    &lt;/fixedAmount&gt;
&lt;/singlePayment&gt;
  &lt;periodicPayment&gt;
     &lt;fixedAmountCalculation&gt;
      &lt;calculationAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;5000000&lt;/amount&gt;
        &lt;step&gt;
          &lt;stepDate&gt;2002-03-01&lt;/stepDate&gt;
          &lt;stepValue&gt;4000000&lt;/stepValue&gt;
        &lt;/step&gt;
        &lt;step&gt;
          &lt;stepDate&gt;2002-09-01&lt;/stepDate&gt;
          &lt;stepValue&gt;3000000&lt;/stepValue&gt;
        &lt;/step&gt;
      &lt;/calculationAmount&gt;
      &lt;fixedRate&gt;0.010&lt;/fixedRate&gt;
      &lt;dayCountFraction&gt;ACT/360&lt;/dayCountFraction&gt;
    &lt;/fixedAmountCalculation&gt;
  &lt;/periodicPayment&gt;
&lt;/feeLeg&gt;
&lt;protectionTerms&gt;
  &lt;calculationAmount&gt;
    &lt;currency&gt;USD&lt;/currency&gt;
    &lt;amount&gt;5000000&lt;/amount&gt;
    &lt;step&gt;
      &lt;stepDate&gt;2002-03-01&lt;/stepDate&gt;
      &lt;stepValue&gt;4000000&lt;/stepValue&gt;
    &lt;/step&gt;
    &lt;step&gt;
      &lt;stepDate&gt;2002-09-01&lt;/stepDate&gt;
      &lt;stepValue&gt;3000000&lt;/stepValue&gt;
    &lt;/step&gt;
  &lt;/calculationAmount&gt;
	...
				</pre>
		
            </div>
            <div>
               <h4>
                  <a id="s6.4.2">6.4.2 Credit default swap index</a>
               </h4>
			
               <p>The payment information that appears in the transaction supplement representation of a credit default swap index trade is expressed in FpML by using the initialPayment and periodicPayment/fixedAmountCalculation elements.</p>
			
               <p>Trades on credit default swap indices generally have an upfront payment associated with them. Unlike upfront payments on credit default swap trades, the initial payment can be from either protection buyer to protection seller or from protection seller to protection buyer. To address this requirement, an additional optional element called initialPayment has been added to feeLeg in FpML 4.1. This element is intended to be used solely in the representation of a credit default swap index trade.</p>
			
               <p>The structure of initialPayment can be seen in figure 6. The major difference between initialPayment and singlePayment is that initialPayment allows the specification of which party is making the payment (payerPartyReference) and which is receiving it (receiverPartyReference).</p>
			
               <p>Unlike a credit default swap trade, a credit index trade has two fixed rates associated with it:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <i>Fixed Rate</i>: Credit spread (“premium”) set at the time the index series is issued. Payments from the protection buyer to the protection seller are based on this value. It’s roughly analogous to the coupon on a fixed rate bond.</li>
				
                  <li>
					
                     <i>Market Fixed Rate</i>: Credit spread (“fair value”) of the index at a particular time. Varies over the life of the index depending on market conditions. This is the price quoted by the trading desks. It’s roughly analogous to the yield on a fixed rate bond.</li>
			
               </ul>
			
               <p>The present value of the difference between these two fixed rates is one of the two inputs to the calculation of the initial (e.g. upfront) payment. The other component is accrued interest.</p>
			
               <p>Here is an example of the payment information associated with a trade and how that information appears in FpML:</p>
			
               <ul class="bulleted">
				
                  <li>Initial Payment: EUR 10,000</li>
				
                  <li>Initial Payment Payer: XYZ Bank</li>
				
                  <li>Fixed Rate: .70%</li>
				
                  <li>Market Fixed Rate: .40%</li>
			
               </ul>
			
               <pre>
&lt;feeLeg&gt; 
        &lt;initialPayment&gt; 
                &lt;payerPartyReference href="partyA"/&gt; 
                &lt;receiverPartyReference href="partyB"/&gt; 
                &lt;paymentAmount&gt; 
                        &lt;currency&gt;EUR&lt;/currency&gt; 
                        &lt;amount&gt;10000&lt;/amount&gt;                 
                &lt;/paymentAmount&gt;             
        &lt;/initialPayment&gt; 
        &lt;periodicPayment&gt; 
                &lt;fixedAmountCalculation&gt; 
                        &lt;fixedRate&gt;0.0070&lt;/fixedRate&gt; 
                &lt;/fixedAmountCalculation&gt; 
        &lt;/periodicPayment&gt; 
        &lt;marketFixedRate&gt;0.0040&lt;/marketFixedRate&gt;   
&lt;/feeLeg&gt; 
                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s6.4.3">6.4.3 Mortgage derivatives</a>
               </h4>
			
               <p>The paymentDelay has been added as a boolean element as part of the feeLeg construct to support the ISDA definition associated with the fixed amount:</p>
			
               <table class="table">
				
				
				
                  <tr>
					
                     <td>Fixed Amount:</td>
					
                     <td>[Fixed Amount definition for underlying with no payment delay]/[Fixed Amount definition for underlying with payment delay]</td>
				
                  </tr>
			
               </table>
			
               <p>Parties should make a selection that is appropriate in view of the interest basis of the Reference Obligation as set out in the Underlying Instruments. The former version may be preferred if the Reference Obligation does not have a payment delay, and the latter if it is a security with a payment delay.</p>
			
               <p>The schema definition states: “Applicable to CDS on MBS to specify whether payment delays are applicable to the fixed Amount. RMBS typically have a payment delay of 5 days between the coupon date of the reference obligation and the payment date of the synthetic swap. CMBS do not, on the other hand, with both payment dates being on the 25th of each month.”</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.5">6.5 protectionTerms</a>
               </h3>
            </div>
		
            <p>The protectionTerms element, which appears in Figure 8, represents the information specified in the <i>FloatingPayment</i> section of the 2003 Confirmation. This is where the credit events and obligations that are applicable to the credit default swap trade are specified.</p>
		
            <p>
			
               <a href="images/credit-derivatives/protectionTerms.jpg">
                  <img src="images/credit-derivatives/protectionTerms.jpg" alt="images/credit-derivatives/protectionTerms.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Figure 8: protectionTerms element</p>
		
            <p>The only required child element of protectionTerms is calculationAmount. It represents the term <i>Floating Rate Payer Calculation Amount </i>in the 2003 Definitions.</p>
		
            <p>In order to indicate that a particular Credit Event is applicable in an FpML credit default swap trade, an element whose name is the <i>Credit Event</i> it represents appears as a child of the creditEvents element. If a particular <i>Credit Event</i> has no attributes of its own (e.g. Bankruptcy), it appears as an element with its value set to true. On the other hand, if it does have attributes (e.g. Failure to Pay - Grace Period, Payment Requirement) then those attributes appear as child elements of the <i>Credit Event</i> with the "applicable" element's value set to true. If in an element doesn't appear it means that it's not applicable or its applicability is defined within the master confirmation. In general, the value set to false will be specified only in case the default in the master confirmation needs to be overridden.</p>
		
            <p>In the following example, these credit events are applicable:</p>
		
            <ul class="bulleted">
			
               <li>Bankruptcy</li>
			
               <li>Failure to Pay with Grace Period Extension not applicable and Payment Requirement of USD 1,000,000.</li>
			
               <li>Restructuring (R)</li>
			
               <li>Default Requirement of USD 10,000,000.</li>
		
            </ul>
		
            <p>And these conditions to credit event notice settlement apply:</p>
		
            <ul class="bulleted">
			
               <li>Both the Buyer and Seller are notifying parties.</li>
			
               <li>Notice of Publicly Available Information is a Condition to Payment - defaults apply for Public Source(s) and Specified Number.</li>
		
            </ul>
		
            <pre>
&lt;creditEvents&gt;
  &lt;bankruptcy&gt;true&lt;/bankruptcy&gt;
  &lt;failureToPay&gt;
    &lt;paymentRequirement&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;1000000&lt;/amount&gt;
    &lt;/paymentRequirement&gt;
  &lt;/failureToPay&gt;
  &lt;restructuring&gt;
     &lt;applicable&gt;true&lt;/applicable&gt;
    &lt;restructuringType restructuringScheme =
      "http://www.fpml.org/spec/2003/restructuring-1-0"&gt;R&lt;/restructuringType&gt;
  &lt;/restructuring&gt;
  &lt;creditEventNotice&gt;
    &lt;notifyingParty&gt;
      &lt;buyerPartyReference href = "abc"/&gt;
      &lt;sellerPartyReference href = "def"/&gt;
    &lt;/notifyingParty&gt;
    &lt;publiclyAvailableInformation&gt;
      &lt;standardPublicSources&gt; true&lt;/standardPublicSources&gt;
      &lt;specifiedNumber&gt;2&lt;/specifiedNumber&gt;
    &lt;/publiclyAvailableInformation&gt;
  &lt;/creditEventNotice&gt;
&lt;/creditEvents&gt;
                </pre>
		
            <p>Please note the following regarding the representation of the <i>Restructuring </i>credit event:</p>
		
            <ul class="bulleted">
			
               <li>If the <i>Restructuring </i>credit event is not applicable, no restructuring element should appear in the creditEvents element.</li>
			
               <li>If <i>Restructuring</i> as defined in the 2003 Definitions is applicable and a full confirmation is being represented, then the restructuring element should appear and the restructuringType element contains one of the three restructuring codes (see below).</li>
			
               <li>If <i>Restructuring</i> as defined in the 2003 Definitions is applicable and a transaction supplement is being represented, then only the restructuring element should appear (the actual restructuring type will be defined in the relevant master confirmation associated with the transaction supplement).</li>
			
               <li>If the 1999 Definitions are used and a transaction supplement is being represented, the actual restructuring type needs to be explicitly specified in the XML instance using the restructuringType element (same as one would do for a long form) since the 1999 master agreements are silent on the actual restructuring type.</li>
			
		
            </ul>
		
            <p>The legal restructuring codes are:</p>
		
            <ul class="bulleted">
			
               <li>
				
                  <b>ModR</b>: If <i> Restructuring Maturity Limitation and Fully Transferable Obligation</i> (Section 2.32 of the 2003 Definitions) applies.</li>
			
               <li>
				
                  <b>ModModR</b>: If <i> Modified Restructuring Maturity Limitation and Conditionally Transferable Obligation</i> (Section 2.33 of the 2003 Definitions) applies. </li>
			
               <li>
				
                  <b>R</b>: If neither <i>Restructuring Maturity Limitation and</i>
				
                  <i> Fully Transferable Obligation</i> or <i>Modified Restructuring Maturity</i>
				
                  <i>Limitation and Conditionally Transferable Obligation</i> are applicable.</li>
		
            </ul>
		
		
            <p>The optional obligations element has a category child element that represents the <i>Obligation Category </i>term. The ObligationCategory type is an enumeration that consists of values representing the following categories:</p>
		
            <ul class="bulleted">
			
               <li>Payment</li>
			
               <li>Borrowed Money</li>
			
               <li>Reference Obligations Only</li>
			
               <li>Bond</li>
			
               <li>Loan</li>
			
               <li>Bond or Loan</li>
		
            </ul>
		
            <p/>
		
            <p>ISDA published in September 2004 additional provisions for U.S. Municipal Entity as Reference Entity (see <a class="web" href="http://www.isda.org/publications/pdf/additionalprovisions.pdf" target="_blank" title="Link opens in new window.">http://www.isda.org/publications/pdf/additionalprovisions.pdf</a>) and the associated form of confirmation (see <a class="web" href="http://www.isda.org/publications/docs/municdsconfirmation.doc" target="_blank" title="Link opens in new window.">http://www.isda.org/publications/docs/municdsconfirmation.doc</a>) introduced three additional terms which could be selected as Obligation Characteristics and Deliverable Obligation Characteristics. These were:</p>
		
            <ul class="bulleted">
			
               <li>Full Faith and Credit Obligation Liability</li>
			
               <li>General Fund Obligation Liability</li>
			
               <li>Revenue Obligation Liability</li>
		
            </ul>
		
            <p>The confirmation implied only one can be selected at a time.</p>
		
            <p>These three elements were added as boolean elements within an optional choice group to the corresponding Obligations and DeliverableObligations complex types.</p>
		
            <p>
			
               <i>Obligation Characteristics</i> are defined in a manner similar to credit events. In other words, each <i>Obligation Characteristic</i> has its own element. The applicability of the characteristic is indicated by the appearance of its corresponding obligationCharactersitic element. </p>
		
            <p/>
	
            <div>
               <h4>
                  <a id="s6.5.1">6.5.1 Mortgage derivatives</a>
               </h4>
			
               <p>Five credit event elements have been added as part of the CreditEvents container in order to support cds on derivatives: failureToPayPrincipal, failureToPayInterest, distressedRatingsDowngrade, maturityExtension and writedown. </p>
			
               <ul class="bulleted">
				
                  <li>
                     <b>failureToPayInterest</b> and <b>failureToPayPrincipal</b> have been positioned as eligible credit events besides the pre-existing failureToPay element. The idea is that those new elements are distincts from this latter one, as they qualify the failure to pay in a manner that is explicit as part of the ISDA definitions. As such, there is no ambiguity. An alternative approach that consisted in qualifying this pre-existing failureToPay element was considered, but rejected because of its perceived level of indirection vis-à-vis the ISDA definitions.</li>
				
                  <li>
                     <b>distressedRatingsDowngrade</b>, <b>maturityExtension</b> and <b>writedown</b>: these three additional credit events have similarly been specified as boolean elements. Presence of the element as part of the instance document will then suffice to qualify any of those as an applicable credit event.</li>
			
               </ul>
			
               <p>Mortgage CDS introduce the concept of floating amount events, which is not applicable to corporate CDS contracts.</p>
			
               <p>
				
                  <a href="images/credit-derivatives/floatingAmountEvents.jpg">
                     <img src="images/credit-derivatives/floatingAmountEvents.jpg" alt="images/credit-derivatives/floatingAmountEvents.jpg" class="image"/>
                  </a>
			
               </p>
			
               <ul class="bulleted">
				
                  <li>Specifies the eligible floating rate payment events through the following elements which are contained within the FloatingAmountEvents complex type: <ul class="bulleted">
						
                        <li>principalShortfall;</li>
						
                        <li>interestShortfall;</li>
						
                        <li>writedown.</li>
					
                     </ul>
				
                  </li>
				
                  <li>The provisions that might be applicable in case the interest short fall applies (non-optional <b>floatingAmountProvision</b> extension).</li>
				
                  <li>The events that can constitute to additional fixed payments (non-optional <b>additionalFixedPayment</b> extension): <ul class="bulleted">
						
                        <li>interestShortfallReimbursement;</li>
						
                        <li>principalShortfallReimbursement;</li>
						
                        <li>The writedownReimbursement.</li>
					
                     </ul>
				
                  </li>
			
               </ul>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.6">6.6 physicalSettlementTerms and cashSettlementTerms</a>
               </h3>
            </div>
		
            <p>If settlement terms are specified in an FpML 5.0 credit default swap, then the settlement method of <i>Physical Settlement </i>or <i>Cash Settlement </i>is specified by the presence of either the physicalSettlementTerms or the cashSettlementTerms element respectively.</p>
		
            <p>The physicalSettlementTerms element, which appears in Figure 8, represents the information specified in the <i>Settlement Terms- Terms Relating to Physical Settlement </i>section of the 2003 Confirmation. </p>
		
            <p>The physicalSettlementPeriod contains one of three elements to represent the following conditions:</p>
		
            <ul class="bulleted">
			
               <li>businessDaysNotSpecified: Section 8.5/8.6 of the 1999/2003 CD Definitions applicable.</li>
			
               <li>businessDays: Explicit number of business days.</li>
			
               <li>maximumBusinessDays: Section 8.5/8.6 of the 1999/2003 CD Definitions capped at a specific number of business days, e.g. 10 days.</li>
		
            </ul>
		
            <p/>
		
            <p>The optional deliverableObligations element is defined in a manner similar to the obligations element. The <i>Deliverable Obligation Category</i> is specified with the category element, which is of type ObligationCategory. Similar to an <i>Obligation Characteristic</i>, the applicability of a <i>Deliverable Obligation Characteristic</i> is indicated by the appearance of its corresponding element. It also bears mentioning that the applicability of <i>Partial Cash Settlement</i>appears as child element of the corresponding <i>Deliverable Obligation Characteristic</i> element.</p>
		
            <p>
			
               <a href="images/credit-derivatives/physicalSettlementTerms.jpg">
                  <img src="images/credit-derivatives/physicalSettlementTerms.jpg" alt="images/credit-derivatives/physicalSettlementTerms.jpg" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>Figure 9: physicalSettlementTerms element</p>
		
            <p>The cashSettlementTerms element, which appears in Figure 10, represents the information specified in the <i>Settlement Terms- Terms Relating to Cash Settlement </i>section of the 2003 Confirmation. The mapping between this element and its corresponding section of the confirm is very straightforward. </p>
		
            <p>
			
               <a href="images/credit-derivatives/cashSettlementTerms.jpg">
                  <img src="images/credit-derivatives/cashSettlementTerms.jpg" alt="images/credit-derivatives/cashSettlementTerms.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Figure 10: cashSettlementTerms element</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.7">6.7 creditDefaultSwapOption</a>
               </h3>
            </div>
		
            <p>The creditDefaultSwapOption element defines the CDS option product in FpML.</p>
		
            <p>The strike can be defined as spread, price or as the fixed rate. </p>
		
            <p>
			
               <a href="images/credit-derivatives/creditDefaultSwapOption.jpg">
                  <img src="images/credit-derivatives/creditDefaultSwapOption.jpg" alt="images/credit-derivatives/creditDefaultSwapOption.jpg" class="image"/>
               </a>
		
            </p>
		
	
            <div>
               <h4>
                  <a id="s6.7.1">6.7.1 Option Components</a>
               </h4>
			
			
		
               <div>
                  <h5>
                     <a id="s6.7.1.1">6.7.1.1 OptionBase</a>
                  </h5>
				
                  <p>
					
                     <a href="images/bond-options/OptionBase.jpg">
                        <img src="images/bond-options/OptionBase.jpg" alt="images/bond-options/OptionBase.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The OptionBase type defines the schema structure associated with optionType: The type of option transaction. From a usage standpoint, put/call is the default option type, while payer/receiver indicator is used for options index credit default swaps as well as the swaptions. Straddle is used for the case of straddle strategy, which combines a call and a put with the same strike. The optionType is to be used if the underlyer does not carry any mention of the resulting trade direction as well as in the case of a straddle. The forward entry will be deprecated as part of the 5.0 version and the integration of the equity option into this schema.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s6.7.1.2">6.7.1.2 OptionBaseExtended</a>
                  </h5>
				
                  <p>Incorporates features that are not underlyer-specific and cannot be integrated as part of the OptionBase because of backward compatibility reasons with the eqd schema.</p>
				
                  <p>
					
                     <a href="images/bond-options/OptionBaseExtended.jpg">
                        <img src="images/bond-options/OptionBaseExtended.jpg" alt="images/bond-options/OptionBaseExtended.jpg" class="image"/>
                     </a>
				
                  </p>
				
			
                  <div>
                     <h5>
                        <a id="s6.7.1.2.1">6.7.1.2.1 Premium</a>
                     </h5>
					
                     <p>The premium construct has a similar approach to the swaption (i.e. premium based upon a premium construct), but introduces a simplified payment that does not incorporate the settlement features. In order to make this construct forward applicable to the equity options, this new SimplePayment is then extended to incorporate some premium-specific concepts that currently exist as part of the eqd schema.</p>
					
                     <p>
						
                        <a href="images/bond-options/premium.jpg">
                           <img src="images/bond-options/premium.jpg" alt="images/bond-options/premium.jpg" class="image"/>
                        </a>
					
                     </p>
				
                  </div>
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.8">6.8 Credit Event Notice</a>
               </h3>
            </div>
		
		
	
            <div>
               <h4>
                  <a id="s6.8.1">6.8.1 Background</a>
               </h4>
			
               <p>The 2003 ISDA Credit Derivatives Definitions define "Credit Event Notice" as an irrevocable notice from a Notifying Party to the other party that describes a Credit Event that occurred.</p>
			
               <p>A Credit Event Notice must contain a description in reasonable detail of the facts relevant to the determination that a Credit Event has occurred.</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <a class="web" href="confirmations/cd-ExhibitB2003CDDefinitions.pdf" target="_blank" title="Link opens in new window.">EXHIBIT B to 2003 Credit Derivatives Definitions (pdf file)</a>
				
                  </li>
			
               </ul>
			
               <p>FpML 5.0 supports Credit Event Notices. Credit Event Notice is implemented in FpML as static document (DataDocument) and notification message ( both described below).</p>
			
               <p>The existence of a static document representation (DataDocument) was a result of two main requirements defined by the Credit Derivatives Working Group:</p>
			
               <ul class="bulleted">
				
                  <li>It makes the relationship to the corresponding ISDA legal framework more understandable.</li>
				
                  <li>Other messaging standards allow an FpML document as payload.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s6.8.2">6.8.2 Implementation</a>
               </h4>
			
               <ul class="bulleted">
				
                  <li>The representation as static document required the introduction of a new "event" element in the DataDocument. As mentioned before, Credit Event Notice is also modeled in the messaging framework as notification message.</li>
				
                  <li>The static document approach constrains the current DataDocument structure, introducing an "xsd:choice" element. The reason for that was to avoid permutations between the existing elements.</li>
			
               </ul>
			
               <p>
				
                  <a href="images/main/DataDocument.jpg">
                     <img src="images/main/DataDocument.jpg" alt="images/main/DataDocument.jpg" class="image"/>
                  </a>
			
               </p>
			
               <pre>
&lt;xsd:complexType name="DataDocument"&gt;
        &lt;xsd:annotation&gt;
            &lt;xsd:documentation xml:lang="en"&gt;A type defining a content model that is backwards
                compatible with older FpML releases and which can be used to contain sets of data
                without expressing any processing intention.&lt;/xsd:documentation&gt;
        &lt;/xsd:annotation&gt;
        &lt;xsd:complexContent&gt;
            &lt;xsd:extension base="Document"&gt;
                &lt;xsd:sequence&gt;
                    &lt;xsd:group ref="Validation.model"/&gt;
                    &lt;xsd:choice&gt;
                        &lt;xsd:sequence&gt;
                            &lt;xsd:element name="trade" type="Trade"  minOccurs=”0” maxOccurs="unbounded"&gt;
                                &lt;xsd:annotation&gt;
                                    &lt;xsd:documentation xml:lang="en"&gt;The root element in an FpML
                                        trade document.&lt;/xsd:documentation&gt;
                                &lt;/xsd:annotation&gt;
                            &lt;/xsd:element&gt;
                            &lt;xsd:element name="portfolio" type="Portfolio" minOccurs="0" maxOccurs="unbounded"&gt;
                                &lt;xsd:annotation&gt;
                                    &lt;xsd:documentation xml:lang="en"&gt;An arbitrary grouping of trade
                                        references (and possibly other portfolios).&lt;/xsd:documentation&gt;
                                &lt;/xsd:annotation&gt;
                            &lt;/xsd:element&gt;
                        &lt;/xsd:sequence&gt;
                        &lt;xsd:sequence&gt;
                            &lt;xsd:element ref="event" maxOccurs="unbounded"&gt;
                                &lt;xsd:annotation&gt;
                                    &lt;xsd:documentation xml:lang="en"&gt;A business event.&lt;/xsd:documentation&gt;
                                &lt;/xsd:annotation&gt;
                            &lt;/xsd:element&gt;
                        &lt;/xsd:sequence&gt;
                    &lt;/xsd:choice&gt;
                    &lt;xsd:element name="party" type="Party" minOccurs="0" maxOccurs="unbounded"&gt;
                        &lt;xsd:annotation&gt;
              			&lt;xsd:documentation xml:lang="en"&gt;A legal entity or a subdivision of a legal entity.&lt;/xsd:documentation&gt;
              			&lt;xsd:documentation xml:lang="en"&gt;Parties can perform multiple roles in a trade lifecycle. For example, 
				the principal parties obligated to make payments from time to time during the term of the trade, but may 
				include other parties involved in, or incidental to, the trade, such as parties acting in the role of novation 
				transferor/transferee, broker, calculation agent, etc. In FpML roles are defined in multiple places within 
				a document.&lt;/xsd:documentation&gt;
                        &lt;/xsd:annotation&gt;
                    &lt;/xsd:element&gt;
                &lt;/xsd:sequence&gt;
            &lt;/xsd:extension&gt;
        &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;
                </pre>
			
               <ul class="bulleted">
				
                  <li>The “event” element is a substitution group for "creditEventNotice". This means that "creditEventNotice will appear in the instance document, not "event".</li>
				
                  <li>The "creditEventNotification" message is an extension of a "NotificationMessage". It adds a single element called "creditEventNotice" with type "CreditEventNoticeDocument" to the notification message content.</li>
			
               </ul>
			
               <p>
				
                  <a href="images/credit-derivatives/CreditEventNotification.jpg">
                     <img src="images/credit-derivatives/CreditEventNotification.jpg" alt="images/credit-derivatives/CreditEventNotification.jpg" class="image"/>
                  </a>
			
               </p>
			
               <ul class="bulleted">
				
                  <li>Why "CreditEventNoticeDocument" type? Because the "CreditEventNotice" type was already defined in the Credit Derivatives subschema (This type is used to represent the Credit Event Notice information specified on a full confirmation. It is used to specify things like the notifying party and number of public sources. There was a name collision so the group decided to define "CreditEventNoticeDocument" as type containing the business document model. </li>
				
                  <li>"creditEventNoticeDocument" is an extension of "Event" type. "Event" type is a container of events. It only contains "eventId" (an optional element to provide a unique id for each event). The idea is that this container will group other event structures.</li>
			
               </ul>
			
               <p>
				
                  <a href="images/main/event.jpg">
                     <img src="images/main/event.jpg" alt="images/main/event.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>The "creditEventNotice" element defines the content model for Credit Event Notice:</p>
			
               <p>
				
                  <a href="images/credit-derivatives/creditEventNotice.jpg">
                     <img src="images/credit-derivatives/creditEventNotice.jpg" alt="images/credit-derivatives/creditEventNotice.jpg" class="image"/>
                  </a>
			
               </p>
			
			
		
               <div>
                  <h5>
                     <a id="s6.8.2.1">6.8.2.1 Description of some of the elements</a>
                  </h5>
				
                  <p>
					
                     <b>eventId</b> - An event reference identifier allocated by a party. FpML does not define the domain values associated with this element. Note that the domain values for this element are not strictly an enumerated list.</p>
				
                  <p>
					
                     <a href="images/main/eventId.jpg">
                        <img src="images/main/eventId.jpg" alt="images/main/eventId.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>
					
                     <b>affectedTransactions</b> - Trades affected by this event.</p>
				
                  <p>
					
                     <a href="images/credit-derivatives/AffectedTransactions.jpg">
                        <img src="images/credit-derivatives/AffectedTransactions.jpg" alt="images/credit-derivatives/AffectedTransactions.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>The rationale for introducing a container for trade identifiers is because an individual trade can be referenced by 2 different partyTradeIdentifier elements - each allocated by a different party. So Bank A may know the trade as 123 and also know that their counterparty Bank B knows it as 567 and they'd wish to include both identifiers in the credit event notice but need to make it clear that 123 and 567 refer to the same trade.</p>
				
                  <p>
					
                     <b>referenceEntity:</b>
				
                  </p>
				
                  <p>
					
                     <a href="images/credit-derivatives/referenceEntity.jpg">
                        <img src="images/credit-derivatives/referenceEntity.jpg" alt="images/credit-derivatives/referenceEntity.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>
					
                     <b>creditEvent</b> - Modeled as a substitution group in order to facilitate its extension. Each one of the possible values (bankruptcy, failureToPay, obligationDefault, obligationAcceleration, repudiationMoratorium, and restructuring) has its own complex type which extends the CreditEvent type. It has exactly the same behavior as an xsd:choice but it’s more extensible.</p>
				
                  <p>
					
                     <a href="images/credit-derivatives/creditEvent.jpg">
                        <img src="images/credit-derivatives/creditEvent.jpg" alt="images/credit-derivatives/creditEvent.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>
					
                     <b>publiclyAvailableInformation</b> - Modeled to describe the resource that contains the media representation of the business event. For example, can describe a file or a URL that represents the resource. This is the description of the different elements describing the resource:</p>
				
                  <ul class="bulleted">
					
                     <li>resourceId (mandatory): The unique identifier of the resource within the event.</li>
					
                     <li>language (optional): Indicates the language of the resource, described using the ISO 639-2/T Code.</li>
					
                     <li>sizeInBytes (optional): Indicates the size of the resource in bytes. Could be used by the end user to estimate the download time and storage needs.</li>
					
                     <li>length (optional): Indicates the length of the product. For example, if the product were a PDF file, the length would be in pages.</li>
					
                     <li>mimeType (mandatory): Indicates the type of media used to store the content. mimeType is used to determine the software product(s) that can read the content. MIME Types are described in RFC 2046.</li>
					
                     <li>name (optional): The name of the resource.</li>
					
                     <li>comments (optional): Any additional comments that are deemed necessary. For example, which software version is required to open the document? Or, how does this resource relate to the others for this event?</li>
					
                     <li>url (optional): Indicates the URL at which the resource can be found.</li>
				
                  </ul>
				
                  <p>
					
                     <a href="images/credit-derivatives/publiclyAvailableInformation.jpg">
                        <img src="images/credit-derivatives/publiclyAvailableInformation.jpg" alt="images/credit-derivatives/publiclyAvailableInformation.jpg" class="image"/>
                     </a>
				
                  </p>
			
               </div>
               <div>
                  <h5>
                     <a id="s6.8.2.2">6.8.2.2 Examples</a>
                  </h5>
				
                  <p>This is an example of Credit Event Notice document: <a class="web" href="confirmations/cd-example-credit-event-notice.pdf" target="_blank" title="Link opens in new window.">Credit Event Notice Sample (pdf file)</a>
				
                  </p>
				
                  <p>The following two FpML instance documents are based on this example:</p>
				
                  <ul class="bulleted">
					
                     <li>
						
                        <a class="web" href="xml/credit-derivatives/cdcen-ex01-credit-event-notice-message.xml" target="_blank" title="Link opens in new window.">Credit Event Notice as notification message (xml file)</a>
					
                     </li>
					
                     <li>
						
                        <a class="web" href="xml/credit-derivatives/cdcen-ex01-credit-event-notice-document.xml" target="_blank" title="Link opens in new window.">Credit Event Notice as static document (xml file)</a>
					
                     </li>
				
                  </ul>
			
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s6.9">6.9 Appendix A: Naming differences between FpML 5.0 Credit Derivatives Subschema and 2003 ISDA Credit Derivatives Definitions</a>
               </h3>
            </div>
		
            <p>There are several places in the FpML 5.0 Credit Derivatives Subschema where the element names diverge from the names used for terms in the 2003 Definitions. These names are listed in the table that appear in Figure 11.</p>
		
            <table class="table">
			
			
			
			
			
               <tr>
				
                  <td>
					
                     <p>
						
                        <b>FpML Element Name</b>
					
                     </p>
				
                  </td>
				
                  <td>
					
                     <p>
						
                        <b>2003 Definitions</b>
					
                     </p>
				
                  </td>
				
                  <td>
					
                     <p>
						
                        <b>Existing FpML</b>
						
                        <b>Element</b>
					
                     </p>
				
                  </td>
				
                  <td>
					
                     <p>
						
                        <b>Clarity</b>
					
                     </p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>sellerPartyReference</p>
				
                  </td>
				
                  <td>
					
                     <p>Floating Rate Payer</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>buyerPartyReference</p>
				
                  </td>
				
                  <td>
					
                     <p>Fixed Rate Payer</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>dateAdjustments</p>
				
                  </td>
				
                  <td>
					
                     <p>Business Day, Business Day Convention</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td/>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>obligationId</p>
				
                  </td>
				
                  <td>
					
                     <p>CUSIP/ISIN</p>
				
                  </td>
				
                  <td/>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>feeLeg</p>
				
                  </td>
				
                  <td>
					
                     <p>Fixed Payments</p>
				
                  </td>
				
                  <td/>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>protectionTerms</p>
				
                  </td>
				
                  <td>
					
                     <p>Floating Payment</p>
				
                  </td>
				
                  <td/>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>calculationAmount</p>
				
                  </td>
				
                  <td>
					
                     <p>Fixed Rate Payer Calculation Amount, Floating Rate Payer Calculation Amount</p>
				
                  </td>
				
                  <td/>
				
                  <td>
					
                     <p> X</p>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>valuationDate</p>
				
                  </td>
				
                  <td>
					
                     <p>Valuation Date</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>valuationTime</p>
				
                  </td>
				
                  <td>
					
                     <p>Valuation Time</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>accruedInterest</p>
				
                  </td>
				
                  <td>
					
                     <p>Quotations</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>excluded</p>
				
                  </td>
				
                  <td>
					
                     <p>Excluded Obligations</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>excluded</p>
				
                  </td>
				
                  <td>
					
                     <p>Excluded Deliverable Obligations</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>category</p>
				
                  </td>
				
                  <td>
					
                     <p>Obligation Category</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>category</p>
				
                  </td>
				
                  <td>
					
                     <p>Deliverable Obligation Category</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
			
               <tr>
				
                  <td>
					
                     <p>calculationAgentPartyReference</p>
				
                  </td>
				
                  <td>
					
                     <p>Calculation Agent</p>
				
                  </td>
				
                  <td>
					
                     <p>X</p>
				
                  </td>
				
                  <td>
					
                     <p/>
				
                  </td>
			
               </tr>
		
            </table>
		
            <p>Figure 11: Naming differences between FpML 5.0 and the 2003 definitions (incomplete).</p>
		
            <p>The table also indicates the reason why the FpML name diverges from the name used in the 2003 definitions. There are only two reasons for diverging:</p>
		
            <p/>
		
            <ul class="bulleted">
			
               <li> An appropriate FpML element already existed, but this element did not have the same name as the corresponding term in the 2003 Definitions.</li>
			
               <li> WG members thought a different name would provide greater clarity to FpML users. </li>
		
            </ul>
	
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s7">7 FX PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
        
      	<p>The content of the FX defintions has been removed from version 5.0 since it is currently being redesigned by the FpML Modelling Task Force. The new content will published in the subsequent version depending on progress. For more information, please see the <a class="web" href="http://www.fpml.org/roadmap/roadmap.pdf">FpML Roadmap</a>.</p>

      </div>
      <div>
         <div>
            <h2>
               <a id="s8">8 EQUITY DERIVATIVE OPTIONS PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	 		
 
	
	

         <div>
            <h3>
               <a id="s8.1">8.1 Equity Derivative Options and Forwards Scope</a>
            </h3>
			
            <p>The EQD Products Working Group has extended the FpML standard to cover the following Equity Derivative products</p>
			
            <ul class="bulleted">
				
               <li>Broker Equity Options;</li> 
				
               <li>Long Form Equity Forwards;</li> 
				
               <li>Long Form Equity Options;</li> 
				
               <li>Short Form Equity Options represented as Transaction Supplements under ISDA Master Confirmation Agreements.</li>
			
            </ul>
		
         </div>
         <div>
            <div>
               <h3>
                  <a id="s8.2">8.2 Overall Architecture</a>
               </h3>
            </div>
		
            <p>In FpML version 3.0 the equityOption component was defined to describe "vanilla" options with the following characteristics:</p>
		
            <ul class="bulleted">
			
               <li>put and call options;</li>
			
               <li>with American or European exercise styles;</li>
			
               <li>on single stocks or indices; and</li>
			
               <li>delivery being either cash or physical stock.</li>
		
            </ul>
		
            <p>FpML 4.0 extended this component to encompass more exotic types of options, including:</p>
		
            <ul class="bulleted">
			
               <li>Bermudan exercise style;</li>
			
               <li>basket underlyings;</li>
			
               <li>forward starts;</li>
			
               <li>quantos and composites;</li>
			
               <li>averaging; and</li>
			
               <li>barriers, knock-ins, knock-outs and binary (digital) options.</li>
		
            </ul>
		
            <p> FpML 4.1 introduced additional components for both "short form" transacation supplement and broker equity option representations, and a "long form" Equity Forward. All long and short form instances are derived by extension from long and short form base types:</p>
		
            <ul class="bulleted">
			
               <li>brokerEquityOption</li>
			
               <li> equityForward</li>
			
               <li>equityOption</li>
			
               <li>equityOptionTransactionSupplement</li>
		
            </ul>
		
            <p>
			
               <a href="images/equity-options/ClassHierarchy.gif">
                  <img src="images/equity-options/ClassHierarchy.gif" alt="images/equity-options/ClassHierarchy.gif" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>these components provide support for:</p>
		
            <ul class="bulleted">
			
               <li>Broker Equity Options;</li>
			
               <li>Long Form Equity Forwards;</li>
			
               <li>Long Form Equity Options;</li>
			
               <li>Short Form Equity Options represented as Transaction Supplements under ISDA Master Agreements.</li>
		
            </ul>
		
            <p>Many of the above can be combined through the use of a single component architecture that has a number of optional features. Compound options (such as Butterfly and Straddle structures) can be represented by combining two or more <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_element_equityOption.html">equityOption</a> components in a <a class="web" href="schemaRef/fpml-doc-5-0.xsd.html_element_strategy.html">strategy</a> component. Simple strike or calendar spread strategies can be represented using the Strategy Feature component.</p>
		
            <p>Through a combination of derivation by extension, and composing the available features, the vast majority of equity option structures that are used between wholesale market counterparties can be represented in FpML.</p>
		
            <p>The product architecture draws directly on ISDA's 1996 and 2002 definitions for equity derivatives. Wherever possible the terminology and practice of the ISDA definitions has been adopted to ensure consistency between traditional and FpML contract representations.</p>
		
            <p>
			
               <a href="images/equity-options/brokerEquityOption.jpg">
                  <img src="images/equity-options/brokerEquityOption.jpg" alt="images/equity-options/brokerEquityOption.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>brokerEquityOption component implements the work of the ISDA Broker Standardization Subgroup by providing a short form representation suitable for use in broker confirmations. Support for the simple strategies Strike Spread and Calendar Spread is provided by strategyFeature.</p>
		
            <p>
			
               <a href="images/equity-options/equityForward.jpg">
                  <img src="images/equity-options/equityForward.jpg" alt="images/equity-options/equityForward.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>equityForward component implements ISDA 2002 Equity Derivative Long Form Forward.</p>
		
            <p>
			
               <a href="images/equity-options/EquityOption.jpg">
                  <img src="images/equity-options/EquityOption.jpg" alt="images/equity-options/EquityOption.jpg" class="image"/>
               </a>
		
            </p>
		
            <p> In the <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_element_equityOption.html">equityOption</a> component <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">buyerPartyReference</a> and <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">sellerPartyReference</a> are pointer style references to <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_Party.html">party</a> components that specify the option buyer and seller respectively. The type of the option (call or put) is specified in <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">optionType</a>. The effective date for a forward starting option is specified in <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">equityEffectiveDate</a>
		
            </p>		
		
            <p>
			
               <a href="images/equity-options/equityOptionTransactionSupplement.jpg">
                  <img src="images/equity-options/equityOptionTransactionSupplement.jpg" alt="images/equity-options/equityOptionTransactionSupplement.jpg" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>equityOptionTransactionSupplement implements Equity Derivative Transaction Supplements by providing a short form representation for use in trades governed by a Master Confirmation Agreement.</p>
		
            <p>The underlyer of an equity option may be either a single underlyer, or basket, specified using the <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">underlyer</a> component specified below</p>
		
            <p>The strike is expressed either as a price (<a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityStrike.html">strikePrice</a>) or as a percentage (<a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityStrike.html">strikePercentage</a>) of the forward starting spot price. An optional <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityStrike.html">currency</a> element caters for the case where the strike price is expressed as a monetary amount, rather than as a level.</p>
		
            <p>The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">numberOfOptions</a> element specifies the number of options in the option transaction. The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityOptionTransactionSupplement.html">optionEntitlement</a> element specifies the number of shares per option. The number of options, strike price and notional are linked by the equation:</p>
		
            <p>notional amount = number of options x option entitlement x strike price</p>
		
            <p>Provided that two of notional amount, number of options and option entitlement are specified, then the third may be omitted.</p>
		
            <p>
			
            	<a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeShortFormBase.html">spotPrice</a> is the price per share, index or basket observed on the trade or effective date. It is only used for forward starting options.</p>
		
            <p>The exercise provisions for the option are specified in the <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityAmericanExercise.html">AmericanExercise</a>, <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">EuropeanrExercise</a> and <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityBermudaExercise.html">BermudExercise</a> style components. The equity exercise components are described in more detail below.</p>
		
            <p>Quanto and Composite options are handled using the FxFeature Component.</p>
		
            <p>Where necessary many other non-vanilla features are specified in the optional <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_group_Feature.model.html">feature</a> component. This component is described in more detail below.</p>
		
            <p>The <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">EquityPremium</a> component specifies the amount and timing of the premium payment that is made for the equity option. It is described in more detail below.</p>
		
            <p>Where the underlying is shares; the extraordinaryEvents component specifies marketevents affecting the issuer of those shares that may require the terms of the transaction to be adjusted. The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityOptionTransactionSupplement.html">methodOfAdjustment</a> component specifies how adjustments will be made to the contract should one or more of the extraordinary events occur.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s8.3">8.3 Component Descriptions</a>
               </h3>
            </div>
		
		
		
		
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s8.3.1">8.3.1 underlyer</a>
               </h4>
			
               <a href="images/equity-options/Underlyer.jpg">
                  <img src="images/equity-options/Underlyer.jpg" alt="images/equity-options/Underlyer.jpg" class="image"/>
               </a>
			
               <p>The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">underlyer</a> component specifies the asset(s) on which the option is granted, which can be either on either a <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html_type_SingleUnderlyer.html">singleUnderlyer</a> or <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html_type_Basket.html">basket</a>, and consist of equity, index, or convertible bond components, or some combination of these</p>
			
               <p>The <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html_element_underlyingAsset.html">description</a> element is used to provide a free-form text description of the asset, whereas instrumentId contains a short-form, unique identifier (e.g. ISIN, CUSIP) for the asset. At least one instrumentId must be present.</p>
			
               <p>The <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html_element_underlyingAsset.html">exchangeId</a> element contains a short form unique identifier for an exchange. If omitted then the exchange shall be the primary exchange on which the underlying is listed. The <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html_type_ExchangeTraded.html">relatedExchangeId</a> element contains a short form unique identifier for a related exchange. If omitted then the exchange shall be the primary exchange on which listed futures and options on the underlying are listed.</p>
			
               <p>The <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html_type_UnderlyingAsset.html">clearanceSystem</a> element contains the identity of the clearance system to be used. If omitted, the principal clearance system customarily used for settling trades in the relevant underlying shall be assumed.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.2">8.3.2 Equity Exercise</a>
               </h4>
			
               <a href="images/equity-options/EquityExercise.jpg">
                  <img src="images/equity-options/EquityExercise.jpg" alt="images/equity-options/EquityExercise.jpg" class="image"/>
               </a>
			
               <p> FpML supports three styles of equity option: European, American and Bermudan. For consistency of representation with interest rate derivatives each of these styles is represented using its own component. Each of these components is described more fully below. The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">automaticExercise</a> element contains a boolean value. If true then each option not previously exercised will be deemed to be exercised at the expiration time on the expiration date without service of notice unless the buyer notifies the seller that it no longer wishes this to occur.</p>
			
               <p> The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityExerciseValuationSettlement.html">EquityValuation</a> component specifies the date and time on which the option is valued. The element <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityValuation.html">valuationDate</a> is assumed to have the meaning as defined in the ISDA 2002 Equity Derivatives Definitions. It enables the <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_AdjustableDateOrRelativeDateSequence.html">valuationDate</a> to be expressed in relation to some other date defined in the document (the anchor date), where there is the opportunity to specify a combination of offset rules. This component will typically be used for defining the valuation date in relation to the payment date, as both the currency and the exchange holiday calendars need to be considered. Alternatively, <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_AdjustableDateOrRelativeDateSequence.html">valuationDate</a> is a date that shall be subject to adjustment if it would otherwise fall on a day that is not a business day in the specified business centers, together with the convention for adjusting the date. The element <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityValuation.html">valuationDates</a> specifies the interim equity valuation dates of the swap. The <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_AdjustableRelativeOrPeriodicDates.html">valuationDates</a> can be specified as a series of dates that shall be subject to adjustment if they would otherwise fall on a day that is not a business day in the specified business centers, together with the convention for adjusting the date, otherwise, the <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_AdjustableRelativeOrPeriodicDates.html">valuationDates</a> is a series of dates specified as some offset to other dates (the anchor dates). The element <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityValuation.html">valuationTimeType</a> is the time of day at which the calculation agent values the underlying, for example the official closing time of the exchange. The element <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityValuation.html">valuationTime</a> specifies the time of day at which the calculation agent values the underlying. The <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityValuation.html">futuresPriceValuation</a> element contains a boolean value to indicate whether or not the official settlement price as announced by the related exchange is applicable, in accordance with the ISDA 2002 definitions. The <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityValuation.html">optionsPriceValuation</a> element contains a boolean value to indicate whether or not the the official settlement price as announced by the related exchange is applicable, in accordance with the ISDA 2002 definitions..</p>
			
               <p>The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityExerciseValuationSettlement.html">EquitySettlement</a> component specifies equity option contractural settlement information. The settlement date specifies when the option is to be settled relative to the valuation date. If the settlement date is not specified explicitly then settlement will take place on the valuation date. The settlementType component is used to specify whether the option is settled in cash or physically.</p>
			
               <p>The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityExerciseValuationSettlement.html">settlementPriceSource</a> element specifies the source from which the settlement price is to be obtained, e.g. a Reuters page, Prezzo di Riferimento, etc.</p>
			
               <p>The <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityExerciseValuationSettlement.html">settlementType</a> element shows how the transaction is to be settled when it is exercised. The values comes from list: Cash, Election, Physical.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.3">8.3.3 European Exercise</a>
               </h4>
			
               <a href="images/equity-options/EquityEuroExercise.jpg">
                  <img src="images/equity-options/EquityEuroExercise.jpg" alt="images/equity-options/EquityEuroExercise.jpg" class="image"/>
               </a>
			
               <p> The sub-components of the <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">EquityEuropeanExercise</a> component specify the date and time when the option will expire. The element <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">expirationDate</a> enables the expiration date to be expressed as adjustable or relative date to some other event, such as the close of business for the exchange. The element <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">expirationTimeType</a> is the time of day at which the equity option expires, for example the official closing time of the exchange. </p>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.4">8.3.4 American Exercise</a>
               </h4>
			
               <a href="images/equity-options/EquityAmerExercise.jpg">
                  <img src="images/equity-options/EquityAmerExercise.jpg" alt="images/equity-options/EquityAmerExercise.jpg" class="image"/>
               </a>
			
               <p> The <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_SharedAmericanExercise.html">commencementDate</a> and <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_SharedAmericanExercise.html">expirationDate</a> are used to specify the period during which the option may be exercised (more than once if permitted by the <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_MultipleExercise.html">multipleExercise</a> component). The option may be exercised on any business day in this period up to the latest time specified for exercise.</p>
			
               <p>The element <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityAmericanExercise.html">latestExerciseTimeType</a>  is the latest time of day at which the equity option can be exercised, for example the official closing time of the exchange.</p>
			
               <p>The element <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityAmericanExercise.html">expirationTimeType</a> is the time of day at which the equity option expires, for example the official closing time of the exchange.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.5">8.3.5 Bermuda Exercise</a>
               </h4>
			
               <a href="images/equity-options/EquityBermExercise.jpg">
                  <img src="images/equity-options/EquityBermExercise.jpg" alt="images/equity-options/EquityBermExercise.jpg" class="image"/>
               </a>
			
               <p> The <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_SharedAmericanExercise.html">commencementDate</a> and <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_SharedAmericanExercise.html">expirationDate</a> are used to specify the period during which the option may be exercised (more than once if permitted by the <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_MultipleExercise.html">multipleExercise</a> component). The option may be exercised on any of the days in the list <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityBermudaExercise.html">bermudaExerciseDates</a> up to the <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">latestExerciseTime</a>  specified for exercise.</p>
			
               <p>The element <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">latestExerciseTimeType</a> The latest time of day at which the equity option can be exercised, for example the official closing time of the exchange.</p>
			
               <p>The element <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityEuropeanExercise.html">equityExpirationTimeType</a> is the time of day at which the equity option expires, for example the official closing time of the exchange.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.6">8.3.6 FxFeature</a>
               </h4>
			
               <a href="images/equity-options/EquityFXFeature.jpg">
                  <img src="images/equity-options/EquityFXFeature.jpg" alt="images/equity-options/EquityFXFeature.jpg" class="image"/>
               </a>
			
               <p>FxFeature specifies the reference currency, either a Composite or Quanto feature:</p>
			
               <ul class="bulleted">
				
                  <li>
					
                     <b>Composite</b> - where multiple currencies can be involved. An option is struck on a foreign underlying at a value of the underlying in the investor's base currency. The payout is based on the investor's base currency at exercise.</li>
				
                  <li>
					
                     <b>Quanto</b> - where two currencies are involved. To adjust the investor's base currency protection on an underlying position which varies in value in the non-base currency.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.7">8.3.7 feature</a>
               </h4>
			
               <a href="images/equity-options/equityFeatures.jpg">
                  <img src="images/equity-options/equityFeatures.jpg" alt="images/equity-options/equityFeatures.jpg" class="image"/>
               </a>
			
               <p>equityOptionFeatures has been re-named equityFeatures (type OptionFeatures).</p>
			
               <p>As part of SOTF remodeling work, equity option <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">feature</a>' s content is accessible in the complex type <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html_type_EquityDerivativeBase.html">EquityDerivativeBase</a> through the complex type <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_OptionFeature.html">OptionFeature</a> and the model group <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_group_OptionFeature.model.html">OptionFeature.model.</a>
               </p>
			
               <p> Four types of option features are catered for: asians, barriers, knocks, and pass through payments. All of these are path-dependent options. Asian features are described below. Barriers may be caps or floors; knocks may be knock-ins or knock-outs - these share a common architecture that is described below.</p>
			
               <p>A binary option (also known as a digital option) is a special case of a barrier where the payout is specified to be a fixed amount rather than a percentage of the value of the underlying on the date that the option is triggered.</p>
			
			
			
		
               <div>
                  <h5>
                     <a id="s8.3.7.1">8.3.7.1 asian</a>
                  </h5>
				
                  <a href="images/equity-options/Asian.jpg">
                     <img src="images/equity-options/Asian.jpg" alt="images/equity-options/Asian.jpg" class="image"/>
                  </a>
				
                  <p> An asian option is one in which an average price is used to derive the strike price ("averaging in") or the expiration price ("averaging out") or both. The type of averaging is specified in the <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_Asian.html">averagingInOut</a> element.</p>
				
                  <p>The period over which the averaging is calculated is specified in the component <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_Asian.html">averagingPeriodIn</a> or <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_Asian.html">averagingPeriodOut</a> as appropriate. Both components have the same structure. The period is specified either as a calculation, using one or more <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_AveragingPeriod.html">schedule</a> components (which permits specifications such as every Friday from and including 24 May 2002 to and including 22 November 2002), and/or as a list of explicit dates and times, using the <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_AveragingPeriod.html">averagingDateTimes</a> component. It is permissible to use the list of dates and times to specify averaging points that are additional to those derived from the calculation rule specified in <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_AveragingPeriod.html">schedule</a> components. In the event that any of the dates is not a business day then it is assumed that it will be rolled forward to the next business day in accordance with ISDA convention. The <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_AveragingPeriod.html">marketDisruption</a> element specifies the action to be taken if it is not possible to obtain a price on one of the days used for averaging.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s8.3.7.2">8.3.7.2 barrierCap</a>
                  </h5>
				
                  <a href="images/equity-options/BarrierCap.jpg">
                     <img src="images/equity-options/BarrierCap.jpg" alt="images/equity-options/BarrierCap.jpg" class="image"/>
                  </a>
				
                  <p> A barrier option is one in which, if the option expires in the money, an additional payment will occur. With a barrier cap the additional payment will be made if the trigger level is approached from below, whereas with a barrier floor the additional payment will be made if the trigger level is approached from above.</p>
				
                  <p>Knock options are of two types. A knock-in option does not come into effect until the trigger level has been reached, if it is never reached then the option expires worthless. Conversely, a knock-out option expires immediately the trigger level is reached.</p>
				
                  <p>A common structure is used to specify barrier caps, barrier floor, knock-ins and knock-outs. The diagram shows the <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_TriggerEvent.html">barrierCap</a> structure.</p>
				
                  <p>The dates on which the underlying is valued to test for the occurrence of the trigger event are either expressed in one or more <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_TriggerEvent.html">schedule</a> components and/or as a list of explicit dates, using the <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_TriggerEvent.html">triggerDates</a> component. It is permissible to use the list of dates to specify trigger dates that are additional to those derived from the calculation rule specified in <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_TriggerEvent.html">schedule</a> components. In the event that any of the dates is not a business day then it is assumed that it will be rolled forward to the next business day in accordance with ISDA convention.</p>
				
                  <p>The <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_TriggerEvent.html">trigger</a> component specifies that the trigger event either as a <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_Trigger.html">level</a> or as a <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_Trigger.html">levelPercentage</a> (of the strike).</p>
				
                  <p>The optional <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html_type_TriggerEvent.html">featurePayment</a> component specifies a payment to be made if the trigger event occurs. The payment date can be expressed either as an explicit date or as relative to some other date, such as the trigger date or the contractual expiry date.</p>
			
               </div>
               <div>
                  <h5>
                     <a id="s8.3.7.3">8.3.7.3 Pass Through</a>
                  </h5>
				
                  <p>
				
                     <a href="images/equity-options/passThrough.jpg">
                        <img src="images/equity-options/passThrough.jpg" alt="images/equity-options/passThrough.jpg" class="image"/>
                     </a>
				
                  </p>
				
                  <p>This structure supports pass through payments from underlyers, such as dividend payments from equity underlyers. The structure is designed to support single options and baskets of options.</p>
				
                  <p>Example of pass through feature in a basket</p>
				
                  <pre>		
&lt;passThrough&gt;
	&lt;passThroughItem&gt;
		&lt;payerPartyReference href="PartyA"/&gt;
		&lt;receiverPartyReference href="PartyB"/&gt;
		&lt;underlyerReference href="AholdEquity"/&gt;
		&lt;passThroughPercentage&gt;0.80&lt;/passThroughPercentage&gt;
	&lt;/passThroughItem&gt;
	&lt;passThroughItem&gt;
		&lt;payerPartyReference href="PartyA"/&gt;
		&lt;receiverPartyReference href="PartyB"/&gt;
		&lt;underlyerReference href="RoyalDutchEquity"/&gt;
		&lt;passThroughPercentage&gt;1.20&lt;/passThroughPercentage&gt;
	&lt;/passThroughItem&gt;
&lt;/passThrough&gt;
					             </pre>
				
			
                  <div>
                     <h5>
                        <a id="s8.3.7.3.1">8.3.7.3.1 Alternate Approaches</a>
                     </h5>
					
                     <p>This feature was also considered as a fully formed hybrid product, which could be characterised as a combination of an equity option, however the consensus opinion was that pass through was a simple feature, which could be added to the existing option feature block.</p>
				
                  </div>
               </div>
            </div>
            <div>
               <h4>
                  <a id="s8.3.8">8.3.8 EquityPremium</a>
               </h4>
			
               <a href="images/equity-options/EquityPremium.jpg">
                  <img src="images/equity-options/EquityPremium.jpg" alt="images/equity-options/EquityPremium.jpg" class="image"/>
               </a>
			
               <p>The <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">EquityPremium</a> component specifies the amount and timing of the premium payment that is made for the equity option. <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">payerPartyReference</a> and <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">receiverPartyReference</a> are pointer style references to <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_Party.html">party</a> components that specify the payer and receiver of the premium respectively.</p>
			
               <p>In FpML the premium amount can be expressed in a number of ways: as a monetary amount (<a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">paymentAmount</a>), as a price per option (<a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">pricePerOption</a>) or as a percentage of notional (<a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">percentageOfNotional</a>) - if more than one method is used then they must be mutually consistent. There are circumstances in which no premium would be specified, for example if the trade formed part of a put/call combo structure.</p>
			
			
               <p>The <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html_type_EquityPremium.html">swapPremium</a> element holds a boolean value that, if "true" specifies that the premium is to be paid in the style of payments under an interest rate swap contract.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s8.3.9">8.3.9 Adjustment of dates in Equity Options</a>
               </h4>
			
               <p>When a date specified in an equity option contract falls on a non-business day then it may be necessary to adjust it to be a business day. At the time the contract is agreed it is not always possible to determine whether or not a particular date in the future will be a business day.</p>
			
               <p>The meaning of "business day" varies according to the context in which it is used. When the context is the payments of monetary amounts then the rules for adjustment according to currency business days apply, and the equity option product architecture uses the same <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html_type_AdjustableOrRelativeDate.html">AdjustableOrRelativeDate</a> component ( or derivations ) as the interest rate and foreign exchange products.</p>
			
               <p>However, when the context is the valuation or settlement of equities or equity indices then the term "business day" means "exchange business day". In this case the equity option product architecture specifies the use of unadjusted dates with the adjustment rules being implicitly inherited from the ISDA definitions.</p>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s9">9 RETURN SWAPS PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	
	
	 
 
	
	
	
	
	
	
	
	

         <div>
            <h3>
               <a id="s9.1">9.1 Introduction</a>
            </h3>
		
            <p>FpML Return Swaps Product Architecture amends the previous Equity Swaps Product Architecture since it describes a more generic representation of return type swaps, not only equities. The generic representation includes the product coverage introduced in previous versions of FpML to support full conformance with ISDA 2002 Equity Derivative Definitions, intial and final stubs, and Equity Swap Transaction Supplement. In addition, it supports the representation of Total Return Swaps.</p>
		
            <p>This document provides an in-depth review of the technical architecture of the FpML Return Swap subschema. The scope as well as the current limitations of this schema, which will be addressed through a next release, are described in the first section of this document.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.2">9.2 Return Swaps Scope</a>
               </h3>
            </div>
	
            <p>FpML provides generic Return Swaps support including "long form" Equity Swap representations, as well as Total Return Swaps. A separate product element called equitySwapTransactionSupplement supports "short form" Equity Swap Transaction Supplement.</p>
	
            <p>Return-type Swaps have 1-to-many Legs, all of which must be derived from the ReturnSwapLeg type. Instances of Legs are returnLeg, interestLeg. Other Leg types may be derived from ReturnSwapLeg at will, to allow for private extensions to support whatever type of Generic Return Swap is desired.</p>
	
            <p>The scope of this FpML representation for return swaps is to capture the following types of swaps that have equity-related underlyers:</p>
	
            <ul class="bulleted">
		
               <li>Single stock swaps as well as basket swaps (i.e. swaps with multiple underlyers);</li>
		
               <li>Swaps that have a different types of underlying assets (equity, index, mutual funds, exchange-traded funds, convertible bond, futures), or a combination of these;</li>
		
               <li>2-legged swaps with a combination of an equity leg and a funding leg, as well as swaps that either have only one leg (e.g. fully funded or zero-strike swap) or multiple equity legs (e.g. outperformance swaps);</li>
		
               <li>Total Return Swaps, a type of swap in which one party (total return payer) transfers the total economic performance of a reference obligation to the other party (total return receiver).</li>
		
               <li>Swaps that have specific adjustment conditions, such as execution swaps or portfolio rebalancing swaps;</li>
		
               <li>Swaps that involve the exchange of principal cashflows;</li>
		
               <li>Swaps that have inital and final stubs;</li>
		
               <li>Swaps which can be represented as Transaction Supplements under ISDA Master Agreements;</li>
	
            </ul>
	
            <p>Extraordinary Events terms have been incorporated, to take into consideration the release of the 2002 ISDA Definitions for Equity Derivatives.</p>
	
            <p>Trigger swaps, in which equity risk morphs into a fixed income risk once a certain market level is reached, may be supported in a subsequent release.</p>

         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.3">9.3 The structure of the generic Return Swap</a>
               </h3>
            </div>
		
            <p> The FpML representation of the returnSwap relies on the structures that are presented in the figure below:</p>
		
            <p>
			
               <a href="images/equity-swaps/returnSwap.jpg">
                  <img src="images/equity-swaps/returnSwap.jpg" alt="images/equity-swaps/returnSwap.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Swaps may have 1-to-many Legs, the principal components of the return swap schema are as follows:</p>
		
            <ul class="bulleted">
			
               <li>Return-type Swaps have 1-to-many Legs, all of which must be derived from the ReturnSwapLeg type. Instances of Legs are returnLeg (old equityLeg), interestLeg.<ul class="bulleted">
				
                     <li>The returnLeg (old equityLeg) component specifies the return leg of the swap. There can be one or several return legs;</li>
				
                     <li>The interestLeg component defines the interest leg of the swap. The possibility is provided for having swaps that do not have an interest leg (case of an outperformance swap where 2 equity underlyers are swapped, or a fully-funded swap where there is no financing component);</li>
			
                  </ul>
			
               </li>
			
               <li>Note: The equityLeg was <b>deprecated</b> in FpML 4.2 Second Working Draft and it has been removed in version 5.0.</li>
			
               <li>The principalExchangeFeatures is an optional component that describes the case where principal cashflows are exchanged between the parties to the trade;</li>
			
               <li>Similarly to the interest rate swap (but with a different structure, that serves the specific features of the return swaps), the additionalPayment component supports the other types of payments involving the parties to the trade, such as fees;</li>
			
               <li>Finally, the earlyTermination component specifies, for one or for both the parties to the trade, the date from which it can be early terminated.</li>
		
            </ul>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.4">9.4 Equity Swap Transaction Supplement</a>
               </h3>
            </div>
		
            <p>
			
               <a href="images/equity-swaps/equitySwapTransactionSupplement.jpg">
                  <img src="images/equity-swaps/equitySwapTransactionSupplement.jpg" alt="images/equity-swaps/equitySwapTransactionSupplement.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>equitySwapTransactionSupplement implements Equity Swap Transaction Supplements by providing a short form representation for use in trades governed by a Master Confirmation Agreement. Due to the wide scope of the Equity Swap Transaction Supplement, it has not been possible to make the equitySwapTransactionSupplement component as compact as equityOptionTransactionSupplement </p>
		
            <p>The various sections below detail each of these five structures of the equity leg of the swap.</p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.5">9.5 The return leg</a>
               </h3>
            </div>
		
            <p> The figure 2 presents the structure of the return leg of the swap, which has 10 categories of components:</p>
		
            <p>
			
               <a href="images/equity-swaps/figure2_ReturnLeg.jpg">
                  <img src="images/equity-swaps/figure2_ReturnLeg.jpg" alt="images/equity-swaps/figure2_ReturnLeg.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Figure 2: The structure of the return leg.</p>
		
            <p>These 10 categories of components are described through the next few pages. They are the following:</p>
		
            <ul class="bulleted">
			
               <li>The identification of the payer and receiver party for this leg;</li>
			
               <li>The determination of the effective date and the termination date;</li>
			
               <li>The determination of the strike date for forward starting swaps;</li>
			
               <li>The description of the underlying asset(s);</li>
			
               <li>The Rate of Return terms;</li>
			
               <li>The specification of the notional;</li>
			
               <li>The determination of the payoff amount;</li>
			
               <li>The description of the return terms;</li>
			
               <li>The notional adjustments conditions;</li>
			
               <li>The currency exchange terms that can be associated with the equity leg of the swap.</li>
		
            </ul>
		
		
		
		
		
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s9.5.1">9.5.1 The payer and receiver party</a>
               </h4>
			
               <p>The identification of the payer and receiver party of the equity leg is done similarly to the other types of swaps, through the payerPartyReference and the receiverPartyReference data elements.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.2">9.5.2 The effective date and the termination date</a>
               </h4>
			
               <p>The effective date and the termination date are similarly defined for both the interest and equity leg of the trade. Each of these dates can be specified either in reference to a date defined somewhere else in the document (using the relativeDate subcomponent), or as a specific date (using the adjustableDate subcomponent).</p>
			
               <p> The figure 3 presents the effective date as an example of how these two components are structured:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure3_effectiveDate.jpg">
                     <img src="images/equity-swaps/figure3_effectiveDate.jpg" alt="images/equity-swaps/figure3_effectiveDate.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 3: The effectiveDate.</p>
			
               <p> The example 1 below presents how these schema structures are used for defining the effective date of the equity swap as a function of the trade date (the elapse time between these being the settlement cycle of the underlying security assets) and the termination date as a function of the last payment of the swap. This corresponds indeed to the most frequent practice for confirming equity swaps. </p>
			
               <p> Example 1 - Effective date as a function of the trade date and effective date as a function of the last payment date:</p>
			
               <ul class="bulleted">
				
                  <li>Effective date: 3 business days after the trade date (defined in another part of the document and referred to through the TradeDate reference);</li>
				
                  <li>Termination date: on the last payment date (also defined somewhere else in the document and referred to through the FinalEquityPaymentDate reference).</li>
			
               </ul>
			
               <pre>
&lt;effectiveDate id="EffectiveDate"&gt;
  &lt;relativeDate&gt;
    &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
    &lt;period&gt;D&lt;/period&gt;
    &lt;dayType&gt;ExchangeBusiness&lt;/dayType&gt;
    &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
    &lt;dateRelativeTo href="TradeDate"/&gt;
  &lt;/relativeDate&gt;
&lt;/effectiveDate&gt;
&lt;terminationDate id="TerminationDate"&gt;
  &lt;relativeDate&gt;
    &lt;periodMultiplier&gt;0&lt;/periodMultiplier&gt;
    &lt;period&gt;D&lt;/period&gt;
    &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
    &lt;dateRelativeTo href="FinalEquityPaymentDate"/&gt;
  &lt;/relativeDate&gt;
&lt;/terminationDate&gt;
          </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.3">9.5.3 The underlyer</a>
               </h4>
			
               <p>The underlyer component provides a detailed description of the characteristic of the underlying asset(s). Seven types of asset classes have been included as part of this release, of which six are actually used by the equity swap. These six underlying types are the convertible bond, the equity, the exchange-traded fund, the future contract, the index and the mutual fund. The seventh one is the bond, that is used by the schema for credit derivatives and will be later used by the schema for trigger swaps once it will be released. Each of these asset types has been defined by extending a component named underlyingAsset that contains some key attributes that are common across most of the underlyers: the identifier, the descriptive name, the currency of denomination, the stock exchange on which the underlyer is listed and the clearance system. With the exception of the identifier element, all these attributes are optional.</p>
			
               <p>Thereafter is the description of these six types of underlyers that are used by the schema for equity swaps. These diagrams also present the respective schemes that have been associated with these components. Not surprisingly, the exchangeId is used quite often.</p>
			
               <p> The equity:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure4_equity.jpg">
                     <img src="images/equity-swaps/figure4_equity.jpg" alt="images/equity-swaps/figure4_equity.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 4: The equity underlyer extends the underlyingAsset component by adding two (optional) elements: the related exchange and the options exchange.</p>
			
               <p> The index:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure5_index.jpg">
                     <img src="images/equity-swaps/figure5_index.jpg" alt="images/equity-swaps/figure5_index.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 5: The index underlyer extends the underlyingAsset component by adding two (optional) elements: the related exchange and the identifier of the reference future contract that may have been referenced as part of the swap contract.</p>
			
               <p> The mutual fund:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure6_mutualFund.jpg">
                     <img src="images/equity-swaps/figure6_mutualFund.jpg" alt="images/equity-swaps/figure6_mutualFund.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 6: The mutual fund underlyer extends the underlyingAsset component by adding two (optional) elements: the indicator of whether the fund is open or closed and the name of the fund manager.</p>
			
               <p> The exchange-traded fund:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure7_ETF.jpg">
                     <img src="images/equity-swaps/figure7_ETF.jpg" alt="images/equity-swaps/figure7_ETF.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 7: The exchange-traded fund underlyer extends the underlyingAsset component by adding three (optional) elements: the related exchange, the options exchange and the name of the fund manager.</p>
			
               <p> The future contract:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure8_future.jpg">
                     <img src="images/equity-swaps/figure8_future.jpg" alt="images/equity-swaps/figure8_future.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 8: The future contract underlyer extends the underlyingAsset component by adding four (optional) elements: the related exchange, the options exchange, the contract multiplier and the specific reference of the future contract that is used as part of the swap.</p>
			
               <p> The convertible bond:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure9_CB.jpg">
                     <img src="images/equity-swaps/figure9_CB.jpg" alt="images/equity-swaps/figure9_CB.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 9: The convertible bond underlyer extends the underlyingAsset component through six elements that characterize the instrument (the related exchange, the issuer name, the coupon rate, the maturity date, the par value and the face amount); in addition, the underlyingEquity component describes the equity underlyer in which the convertible bond can be turned into.</p>
			
               <p> The commodity:</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure10_COMM.jpg">
                     <img src="images/equity-swaps/figure10_COMM.jpg" alt="images/equity-swaps/figure10_COMM.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 10: The commodity underlyer extends the IdentifiedAsset component and may be used in the same way as all other FpML underlyers.</p>
			
               <p> These various types of underlyers can be combined through two different structures, depending upon whether the swap has only one underlyer or has multiple underlying assets: the singleUnderlyer structure or the basket structure. The figure 11 below provides a high-level view of these two alternative structures, which are detailed in the following paragraphs.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure11_Underlyer.jpg">
                     <img src="images/equity-swaps/figure11_Underlyer.jpg" alt="images/equity-swaps/figure11_Underlyer.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 11: Overview of the two alternative types of underlying structured: the singleUnderlyer and the basket.</p>
			
               <p> In the case of a single underlyer, the singleUnderlyer component specifies the number of open units, the description of the underlyer (through the underlyingAsset substitution group) and the dividend payout ratio (which is defined through the underlyer component rather than the return component for reasons that are related to the basket, and that are explained below). It should be noted that the seven members of the underlyingAsset substitution group (bond, convertibleBond, equity, exchangeTradedFund, future, index, mutualFund) do not appear in this diagram: only the basis elements are represented.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure12_SingleUnderlyer.jpg">
                     <img src="images/equity-swaps/figure12_SingleUnderlyer.jpg" alt="images/equity-swaps/figure12_SingleUnderlyer.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 12: The single underlyer.</p>
			
               <p> The basket component is to be applied in the case where there are several underlyers, which are then specifically described through the basketConstituents component. This basket component is structured as follows: an identification of the number of basket units (typically, one) and a description of each of the basket constituents (through a one-to-many relationship).</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure13_Basket.jpg">
                     <img src="images/equity-swaps/figure13_Basket.jpg" alt="images/equity-swaps/figure13_Basket.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 13: The basket.</p>
			
               <p>The structure that describes the basket is quite more complex than the one that specifies the single underlyer. Besides defining the number of basket units (typically, one), the structure specifies each of the basket constituents through an asset description, a constituent weight, a dividend payout ratio, a price and a notional description. The underlyingAsset component having been already described, the points below focus on the four latter components:</p>
			
               <ul class="bulleted">
				
                  <li>The constituentWeight specifies the number of units of each of the basket constituents and, optionally, their respective weight in the basket. It is an optional component, considering that some more exotic types of equity swaps do not have a relative weight associated with each their underlyer components.</li>
				
                  <li>The dividend payout ratio has been associated with the description of the underlyer rather than included in the definition of the return component in order to address the case where a different payout ratio is be associated with the respective components of a basket swap.</li>
				
                  <li>The underlyerPrice component describes the price of each of the basket components; it is optional in order to take into consideration the cases where the market participants do not specify the breakdown by underlyer of the price that is defined at the leg level (which, in the case of a basket swap, corresponds to the notional of the equity leg of the swap). Its structure is based upon the Price complex type, which provides a great flexibility in the way the price of an asset can be defined. This price structure is described in more details through the later developments that are devoted to the valuation component.</li>
				
                  <li>The underlyerNotional is also an optional component; it provides the possibility to break down by underlyer the notional for the equity leg, which can be particularly useful when several currencies are used across the various underlyers.</li>
			
               </ul>
			
               <p> As an illustration of this structure of the basket component and an introduction to the upcoming developments that are devoted to the valuation, the example below presents the case of a basket swap which underlyers components are listed in various currencies.</p>
			
               <p> Example 2 - Basket swap with underlyers listed in different currencies:</p>
			
               <ul class="bulleted">
				
                  <li>The basket is comprised of one underlyer that is listed in EUR (TIM.MI) and one that is listed in GBP (VOD.L);</li>
				
                  <li>The reference currency of the swap is USD (this information is carried through the equityAmount component, which is not indicated here);</li>
				
                  <li>Each of the two basketConstituent structures carry the information about both its local price and its price after conversion in USD;</li>
				
                  <li>The information about the currency conversion rates is specified through the valuation component (that is not depicted below), as this information is not specific to the underlyer;</li>
				
                  <li>The initial price of the swap is USD 7,376,406. This corresponds to the multiplication of each of the underlyer prices by its respective quantity, after conversion in USD: 4.182*783,000 [TIM.MI ]+ 165*24,860 [VOD.L]. It also corresponds to the initial notional of the equity swap. This initial price is not depicted here, as it is part of the valuation component of the equity leg.</li>
			
               </ul>
			
               <pre>
&lt;underlyer&gt;
  &lt;basket&gt;
    &lt;openUnits&gt;1&lt;/openUnits&gt;
    &lt;basketConstituent&gt;
      &lt;equity&gt;
        &lt;instrumentId instrumentIdScheme="RIC"&gt;TIM.MI&lt;/instrumentId&gt;
        &lt;description&gt;Telecom Italia Mobile spa&lt;/description&gt;
        &lt;currency&gt;EUR&lt;/currency&gt;
        &lt;exchangeId exchangeIdScheme="http://www.fpml.org/schemes/4.0/exchangeId"&gt;Milan Stock Exchange&lt;/exchangeId&gt;
      &lt;/equity&gt;
      &lt;constituentWeight&gt;
        &lt;openUnits&gt;783000&lt;/openUnits&gt;
      &lt;/constituentWeight&gt;
      &lt;dividendPayout&gt;
        &lt;dividendPayoutRatio&gt;85&lt;/dividendPayoutRatio&gt;
      &lt;/dividendPayout&gt;
      &lt;underlyerPrice&gt;
        &lt;grossPrice&gt;
          &lt;currency&gt;EUR&lt;/currency&gt;
          &lt;amount&gt;4.14&lt;/amount&gt;
          &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
        &lt;/grossPrice&gt;
        &lt;netPrice&gt;
          &lt;currency&gt;USD&lt;/currency&gt;
          &lt;amount&gt;4.182&lt;/amount&gt;
          &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
        &lt;/netPrice&gt;
      &lt;/underlyerPrice&gt;
      &lt;underlyerNotional&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;3274506&lt;/amount&gt;
      &lt;/underlyerNotional&gt;
    &lt;/basketConstituent&gt;
    &lt;basketConstituent&gt;
      &lt;equity&gt;
        &lt;instrumentId instrumentIdScheme="RIC"&gt;VOD.L&lt;/instrumentId&gt;
        &lt;description&gt;Vodafone Group&lt;/description&gt;
        &lt;currency&gt;GBP&lt;/currency&gt;
        &lt;exchangeId exchangeIdScheme="http://www.fpml.org/schemes/4.0/exchangeId"&gt;London Stock Exchange&lt;/exchangeId&gt;
      &lt;/equity&gt;
      &lt;constituentWeight&gt;
        &lt;openUnits&gt;24860&lt;/openUnits&gt;
      &lt;/constituentWeight&gt;
      &lt;dividendPayout&gt;
        &lt;dividendPayoutRatio&gt;85&lt;/dividendPayoutRatio&gt;
      &lt;/dividendPayout&gt;
      &lt;underlyerPrice&gt;
        &lt;grossPrice&gt;
          &lt;currency&gt;GBP&lt;/currency&gt;
          &lt;amount&gt;110.00&lt;/amount&gt;
          &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
        &lt;/grossPrice&gt;
        &lt;netPrice&gt;
          &lt;currency&gt;USD&lt;/currency&gt;
          &lt;amount&gt;165.00&lt;/amount&gt;
          &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
        &lt;/netPrice&gt;
      &lt;/underlyerPrice&gt;
      &lt;underlyerNotional&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;4101900&lt;/amount&gt;
      &lt;/underlyerNotional&gt;
    &lt;/basketConstituent&gt;
  &lt;/basket&gt;
&lt;/underlyer&gt;
          </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.4">9.5.4 The valuation</a>
               </h4>
			
               <p>Equity Options and Return Swaps both now use a common EquityValuation type.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure14_EquityValuation.jpg">
                     <img src="images/equity-swaps/figure14_EquityValuation.jpg" alt="images/equity-swaps/figure14_EquityValuation.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 14: The EquityValuation type, that specifies the valuation terms of the return leg of the swap.</p>
			
               <p> The following developments present in more details the four main structures that are part of ReturnLegValuation type: the initialPrice, the valuationPriceInterim, the valuationPriceFinal and the paymentDates (old equityPaymentDates). Even if these components can appear quite complex at first glance, the objective here is to outline how they have been based upon a limited set of 'building blocks' that are systematically reused.</p>
			
               <p>
				
                  <a href="images/equity-swaps/ReturnLegValuation.jpg">
                     <img src="images/equity-swaps/ReturnLegValuation.jpg" alt="images/equity-swaps/ReturnLegValuation.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p> The purpose of the initialPrice component is to specify the initial price for the underlyer of the trade (equity, bond, index). In most of the cases, this price will be known. There can however be certain cases, such as a forward trade, where the actual price is not known on trade date and where the trade confirmation will rather specify the terms according to which this initial price will be determined at a later point.</p>
			
               <p>The diagrams 15 and 16 below present the two sets of structures that are used for specifying these various cases: one (mandatory) structure that specifies the price and one (optional) structure that specifies the dates.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure15_initialPrice-Price.jpg">
                     <img src="images/equity-swaps/figure15_initialPrice-Price.jpg" alt="images/equity-swaps/figure15_initialPrice-Price.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 15: The initialPrice component of the valuation, with a specific focus on the part of the structure that specifies the price.</p>
			
               <p> Three possible ways for defining the price of the underlyer are available: as an actual price and currency, in reference to an amount defined somewhere else in the document using the amountRelativeTo element, or by specifying a specific determination method using the determinationMethod component. Commissions can be associated with each of these three alternative definitions. For addressing the requirements related to composite FX swaps, the possibility is also provided, through the fxConversion component, to explicitly define the FX rate that has been used to convert the price from its listing currency to the reference currency of the swap.</p>
			
               <p>Considering that in the vast majority of the cases the initial price is defined as an actual price and currency, the examples below will focus on detailing the various options available for specifying such actual price. The other possibilities offered through the Price type will be further detailed through the interim and final price components.</p>
			
               <p> Example 3 - Specification of an initial price as an actual price that does not include commissions and FX terms:</p>
			
               <ul class="bulleted">
				
                  <li>Price amount: 37.44;</li>
				
                  <li>Price currency: USD;</li>
				
                  <li>Price expression: in absolute terms (as opposed to as a percentage of the notional);</li>
				
                  <li>There are no commissions nor FX terms associated with the price.</li>
			
               </ul>
			
               <pre>
&lt;initialPrice&gt;
  &lt;netPrice&gt;
    &lt;currency&gt;USD&lt;/currency&gt;
    &lt;amount&gt;37.44&lt;/amount&gt;
    &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
  &lt;/netPrice&gt;
&lt;/initialPrice&gt;
          </pre>
			
               <p> Example 4 - Specification of an initial price as an actual price that also includes commissions and FX terms:</p>
			
               <ul class="bulleted">
				
                  <li>Basket swap, which price at the leg level corresponds to the multiplication of the respective prices and quantities of the various underlyer components, i.e. to the notional of the swap;</li>
				
                  <li>Gross amount: 113,228,777 CAD;</li>
				
                  <li>Net amount: 84,089,141 USD;</li>
				
                  <li>Commission: 5 basis points</li>
				
                  <li>Exchange rate: 1 USD = 1.34665 CAD</li>
				
                  <li>Price expression: in absolute terms (as opposed to as a percentage of the notional);</li>
				
                  <li>There are no commissions nor FX terms associated with the price.</li>
			
               </ul>
			
               <pre>
&lt;initialPrice&gt;
  &lt;commission&gt;
    &lt;commissionDenomination&gt;BPS&lt;/commissionDenomination&gt;
    &lt;commissionAmount&gt;5&lt;/commissionAmount&gt;
  &lt;/commission&gt;
  &lt;grossPrice&gt;
    &lt;currency&gt;CAD&lt;/currency&gt;
    &lt;amount&gt;113228777&lt;/amount&gt;
    &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
  &lt;/grossPrice&gt;
  &lt;netPrice&gt;
    &lt;currency&gt;USD&lt;/currency&gt;
    &lt;amount&gt;84089141&lt;/amount&gt;
    &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
  &lt;/netPrice&gt;
  &lt;fxConversion&gt;
    &lt;fxRate&gt;
      &lt;quotedCurrencyPair&gt;
        &lt;currency1&gt;CAD&lt;/currency1&gt;
        &lt;currency2&gt;USD&lt;/currency2&gt;
        &lt;quoteBasis&gt;Currency1PerCurrency2&lt;/quoteBasis&gt;
      &lt;/quotedCurrencyPair&gt;
      &lt;rate&gt;1.34665&lt;/rate&gt;
    &lt;/fxRate&gt;
  &lt;/fxConversion&gt;
&lt;/initialPrice&gt;
          </pre>
			
               <p> Example 5 - Specification of an initial price as a percentage of the notional, without commissions nor FX terms:</p>
			
               <ul class="bulleted">
				
                  <li>Price: 94.80278% of the notional amount.</li>
			
               </ul>
			
               <pre>      
&lt;initialPrice&gt;
  &lt;netPrice&gt;
    &lt;amount&gt;94.80278&lt;/amount&gt;
    &lt;priceExpression&gt;PercentageOfNotional&lt;/priceExpression&gt;
  &lt;/netPrice&gt;
&lt;/initialPrice&gt;
          </pre>
			
               <p>
				
                  <a href="images/equity-swaps/figure16_initialPrice-Dates.jpg">
                     <img src="images/equity-swaps/figure16_initialPrice-Dates.jpg" alt="images/equity-swaps/figure16_initialPrice-Dates.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 16: The initialPrice component of the valuation, with a specific focus on the part of the structure that specifies the date and time of the initial valuation.</p>
			
               <p> This structure that specifies the date and time of the valuation will typically not be used as part of the definition of the initial price. This is because in most cases the initialPrice component specifies the price of the underlyer that is used as the initial reference point for the swap, and there is no need to refer to any specific date or time. Considering that this 'building block is defined and used in a quite similar same way for the interim and final price, it will be detailed through these latter.</p>
			
               <p> The purpose of the valuationPriceInterim component is to specify the interim price(s) for the equity underlyer of the trade. This is an optional component, as it does not apply in the case of a bullet swap, where there is no reset date. Its other specificity vis-a-vis the initial and final valuation components it that this components can hold an array of valuation dates, as opposed to only one valuation date.</p>
			
               <p>Similarly to the initialPrice component, the diagrams 16 and 17 below present the two sets of structures that are part of the valuationPriceInterim component: one structure that specifies the price and one structure that specifies the valuation dates. Both structures are mandatory.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure17_valuationPriceInterim-Price.jpg">
                     <img src="images/equity-swaps/figure17_valuationPriceInterim-Price.jpg" alt="images/equity-swaps/figure17_valuationPriceInterim-Price.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 17: The valuationPriceInterim component of the valuation, with a specific focus on the part of the structure that specifies the price.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure18_valuationPriceInterim-Dates.jpg">
                     <img src="images/equity-swaps/figure18_valuationPriceInterim-Dates.jpg" alt="images/equity-swaps/figure18_valuationPriceInterim-Dates.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 18: The valuationPriceInterim component of the valuation, with a specific focus on the part of the structure that specifies the dates.</p>
			
               <p> The example 6 below is very illustrative of the typical use of the valuationPriceInterim structure for representing the interim valuation prices of an equity swap:</p>
			
               <ul class="bulleted">
				
                  <li>As part of the Price structure, the determinationMethod node of the choice sequence will be used for specifying how the future prices of the underlyer will be determined;</li>
				
                  <li>The definition of the time of the valuation essentially relies upon the valuationTimeType element, that specifies the time of day at which the Calculation Agent values the underlyer: the valuationTime component, which purpose is to specify an actual valuation time, is expected to be used only in some rare cases;</li>
				
                  <li>Most often, a schedule of valuation dates will be specified, to which the payment schedule will refer.</li>
			
               </ul>
			
               <p> Example 6 - Typical example of how the valuationPriceInterim component is used to specify the the interim valuation:</p>
			
               <ul class="bulleted">
				
                  <li>A schedule of 11 interim valuation dates is defined, that extends from October 12, 2001 to August 12, 2002;</li>
				
                  <li>This schedule of dates already takes into consideration the expected exchange holidays. Hence, no business day convention is applicable;</li>
				
                  <li>On each of these valuation dates, the equity underlyer will be valued at the market close.</li>
			
               </ul>
			
               <pre>    
&lt;valuationPriceInterim&gt;
  &lt;determinationMethod&gt;ValuationTime&lt;/determinationMethod&gt;
  &lt;valuationTimeType&gt;Close&lt;/valuationTimeType&gt;
  &lt;valuationDates id="InterimValuationDate"&gt;
    &lt;adjustableDates&gt;
      &lt;unadjustedDate&gt;2001-10-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2001-11-13&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2001-12-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-01-14&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-02-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-03-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-04-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-05-13&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-06-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-07-12&lt;/unadjustedDate&gt;
      &lt;unadjustedDate&gt;2002-08-12&lt;/unadjustedDate&gt;
      &lt;dateAdjustments&gt;
        &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;/dateAdjustments&gt;
    &lt;/adjustableDates&gt;
  &lt;/valuationDates&gt;
&lt;/valuationPriceInterim&gt;
                        </pre>
			
               <p> The schema also provides the ability to address some more unusual situations. One of these relates to the case where the valuation dates are defined as a function of the equity payment dates. In such case, a specific consideration needs to be given to the various types of holidays, i.e. banking holidays versus exchange holidays. The relativeDateSequence component does provide such ability to define a date as a function of another date by applying a defined sequence of offsets, as opposed to only one offset as in the case of the relativeDate component. This case is illustrated in the example 7 below.</p>
			
               <p> Example 7 - The interim valuation dates are defined in relation to the payment dates:</p>
			
               <p/>
			
               <ul class="bulleted">
				
                  <li>The settlement cycle of the underlying equity is 3 business days;</li>
				
                  <li>The valuation date is defined as a function of the payment date. Considering that the payment date happens after the valuation date, a negative value is then specified as the periodMultiplier element;</li>
				
                  <li>In order to give consideration to the situations where the stock exchange is opened on certain banking holidays (e.g. Veteran Day in the United States) and vice-versa, a sequence of offsets is being applied. Considering a settlement cycle of 3 days, a first sequence of 2 currency business days is first applied, and then a sequence of 1 exchange business day. This avoids a situation where an offset of 3 currency business days could lead to specifying a valuation date that corresponds to an exchange business day.</li>
				
                  <li>Considering that the first offset sequence of 2 business days applies to currency business days, the ISDA business day convention is applicable; it is not applicable for the second offset sequence, which refers to exchange business days.</li>
			
               </ul>
			
               <pre>
&lt;valuationDates id="InterimValuationDates"&gt;
  &lt;relativeDateSequence&gt;
    &lt;dateRelativeTo href="InterimEquityPaymentDate"/&gt;
    &lt;!--The first offset is 2 exchange business days prior to the payment date.--&gt;
    &lt;dateOffset&gt;
      &lt;periodMultiplier&gt;-2&lt;/periodMultiplier&gt;
      &lt;period&gt;D&lt;/period&gt;
      &lt;dayType&gt;CurrencyBusiness&lt;/dayType&gt;
      &lt;businessDayConvention&gt;FOLLOWING&lt;/businessDayConvention&gt;
      &lt;sequence&gt;1&lt;/sequence&gt;
    &lt;/dateOffset&gt;
    &lt;!--The second offset is 1 banking business day prior to the payment date.--&gt;
    &lt;dateOffset&gt;
      &lt;periodMultiplier&gt;-1&lt;/periodMultiplier&gt;
      &lt;period&gt;D&lt;/period&gt;
      &lt;dayType&gt;ExchangeBusiness&lt;/dayType&gt;
      &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;sequence&gt;2&lt;/sequence&gt;
    &lt;/dateOffset&gt;
    &lt;businessCenters id="PrimaryBusinessCenter"&gt;
      &lt;businessCenter&gt;USNY&lt;/businessCenter&gt;
    &lt;/businessCenters&gt;
  &lt;/relativeDateSequence&gt;
&lt;/valuationDates&gt;
                        </pre>
			
               <p> The example 8 below provides another example of an unusual definition of the interim valuation date. Here, the valuation dates are defined through a rule-based schedule, which corresponds to the market practice typically in use for fixed income swaps. This practice is however used only rarely in the case of equity derivatives.</p>
			
               <p> Example 8 - The interim valuation dates are defined through a rule-based schedule:</p>
			
               <ul class="bulleted">
				
                  <li>The underlyer is valued at the market close on each of the interim valuation dates;</li>
				
                  <li>The final valuation is based on the price obtained by the payer of the equity return when unwinding his hedge position;</li>
				
                  <li>The first valuation date is April 10, 2002;</li>
				
                  <li>Each of the following valuations is scheduled on the 10th of each month, until the last valuation date which is scheduled on March 12, 2003;</li>
				
                  <li>The business day convention is not applicable, because the terms 'Modified Following', 'Following', 'Preceding', etc. are not recognized ISDA terms in the context of exchange business days. On the other hand, the ISDA Definition for Equity Derivatives is, by default, to roll forward if a scheduled valuation date is not a exchange business day.</li>
			
               </ul>
			
               <pre>
&lt;valuationPriceInterim&gt;
  &lt;determinationMethod&gt;Valuation time&lt;/determinationMethod&gt;
  &lt;valuationTimeType&gt;Close&lt;/valuationTimeType&gt;
  &lt;valuationDates id="InterimValuationDates"&gt;
    &lt;periodicDates&gt;
      &lt;calculationStartDate&gt;
        &lt;adjustableDate&gt;
          &lt;unadjustedDate&gt;2002-04-10&lt;/unadjustedDate&gt;
          &lt;dateAdjustments&gt;
            &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
          &lt;/dateAdjustments&gt;
        &lt;/adjustableDate&gt;
      &lt;/calculationStartDate&gt;
      &lt;calculationPeriodFrequency&gt;
        &lt;periodMultiplier&gt;1&lt;/periodMultiplier&gt;
        &lt;period&gt;M&lt;/period&gt;
        &lt;rollConvention&gt;10&lt;/rollConvention&gt;
      &lt;/calculationPeriodFrequency&gt;
      &lt;calculationPeriodDatesAdjustments&gt;
        &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;/calculationPeriodDatesAdjustments&gt;
    &lt;/periodicDates&gt;
  &lt;/valuationDates&gt;
&lt;/valuationPriceInterim&gt;
&lt;valuationPriceFinal&gt;
  &lt;determinationMethod&gt;HedgeUnwind&lt;/determinationMethod&gt;
  &lt;valuationDate id="FinalValuationDate"&gt;
    &lt;adjustableDate&gt;
      &lt;unadjustedDate&gt;2003-03-12&lt;/unadjustedDate&gt;
      &lt;dateAdjustments&gt;
        &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;/dateAdjustments&gt;
    &lt;/adjustableDate&gt;
  &lt;/valuationDate&gt;
&lt;/valuationPriceFinal&gt;
                        </pre>
			
               <p> The purpose of the valuationPriceFinal component is to specify the final price for the equity underlyer of the trade.</p>
			
               <p>In a similar way than what has been previously detailed for the components that specify the initial and the intermediate valuations, the diagrams 18 and 19 below respectively detail the structure that specifies the final price and the structure that specifies the date on which this valuation will take place. Both structures are mandatory.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure19_valuationPriceFinal-Price.jpg">
                     <img src="images/equity-swaps/figure19_valuationPriceFinal-Price.jpg" alt="images/equity-swaps/figure19_valuationPriceFinal-Price.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 19: The valuationPriceFinal component of the valuation, with a specific focus on the part of the structure that specifies the price.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure20_valuationPriceFinal-Date.jpg">
                     <img src="images/equity-swaps/figure20_valuationPriceFinal-Date.jpg" alt="images/equity-swaps/figure20_valuationPriceFinal-Date.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 20: The valuationPriceFinal component of the valuation, with a specific focus on the part of the structure that specifies the final valuation date.</p>
			
               <p> It can be noted at this point that the only difference between this valuationPriceFinal component and the valuationPriceInterim component is that only one final valuation date can be specified, while the possibility is provided to define several interim valuation dates. The equityValuationDates component used for specifying the interim valuation dates has then been substituted with the equityValuationDate component, which allows only one date.</p>
			
               <p>The example 8 below presents the most common use of this structure, a specific final valuation date being defined while the final price is specified through the use of the determinationMethod element. Of course, if the interim valuation dates would be defined in reference to the payment dates (as illustrated in the example 7) or through a rule-based schedule (example 8), such method would also be applied for defining the final valuation date.</p>
			
               <p> Example 9 - The most common definition of the final valuation:</p>
			
               <ul class="bulleted">
				
                  <li>The final price of the equity underlyer will correspond to the price at which the payer of the equity leg will unwind his hedge position;</li>
				
                  <li>A commission of 60 basis points will be applied to this price;</li>
				
                  <li>The final valuation date is February 3, 2004;</li>
				
                  <li>In accordance to the market practice, this date has been determined by the Calculation Agent as corresponding to an exchange business day. As previously indicated, the terms 'Modified Following', 'Following', 'Preceding', etc. are not recognized ISDA terms in the context of exchange business days.</li>
			
               </ul>
			
               <pre>
&lt;valuationPriceFinal&gt;
  &lt;commission&gt;
    &lt;commissionDenomination&gt;BPS&lt;/commissionDenomination&gt;
    &lt;commissionAmount&gt;60&lt;/commissionAmount&gt;
  &lt;/commission&gt;
  &lt;determinationMethod&gt;HedgeUnwind&lt;/determinationMethod&gt;
  &lt;valuationDate id="FinalValuationDate"&gt;
    &lt;adjustableDate&gt;
      &lt;unadjustedDate&gt;2004-02-03&lt;/unadjustedDate&gt;
      &lt;dateAdjustments&gt;
        &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;/dateAdjustments&gt;
    &lt;/adjustableDate&gt;
  &lt;/valuationDate&gt;
&lt;/valuationPriceFinal&gt;
                        </pre>
			
               <p> The last structure that participates in the definition of the equity swap valuation is the schedule of equity payment dates. These dates are specified through the equityPaymentDates component. The structure of this component is threefold:</p>
			
               <ul class="bulleted">
				
                  <li>An Identifier is associated to the equityPaymentDates root component, in order to allow to specify a generic reference to these payment dates. This unique reference to the payment dates is used through the dividend component, when it is specified that the dividend will be paid on the next equity payment date (see below the section related to the return component of the equity leg);</li>
				
                  <li>The equityPaymentDatesInterim component specifies the interim payment dates of the swap. It is optional to address the case of bullet swaps that do not have interim equity resets;</li>
				
                  <li>The equityPaymentDateFinal component specifies the final payment date. </li>
			
               </ul>
			
               <p>
				
                  <a href="images/equity-swaps/figure21_paymentDates.jpg">
                     <img src="images/equity-swaps/figure21_paymentDates.jpg" alt="images/equity-swaps/figure21_paymentDates.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 21: The paymentDate (old equityPaymentDate) component, that specifies the schedule of payment dates.</p>
			
               <p>The structure of the paymentDatesInterim (old equityPaymentDatesInterim) and the paymentDateFinal (equityPaymentDateFinal) is very similar. The only difference is that several dates can be specified in the first case, and only one date in the latter.</p>
			
               <p>As a result, both the interim and the final payment dates can be defined either as a schedule of dates or in reference to a date defined somewhere else in the document. This latter approach is used most often, with the payment dates being specified as one settlement cycle after the valuation date to which they relate. This is illustrated through this final example relating to the valuation component, which provides a complete view of how the valuation dates are defined as an actual schedule of dates to which the payment dates refer.</p>
			
               <p> Example 10 - Equity swap which payment dates are defined in relation to the schedule of valuation dates:</p>
			
               <ul class="bulleted">
				
                  <li>The initial price of the swap is USD 37.44;</li>
				
                  <li>A schedule of 12 valuation dates is defined: 11 interim valuation dates (from October 12, 2001 to August 12, 2001) and 1 final valuation date (September 24, 2002);</li>
				
                  <li>The equity underlyer is to be valued at the market close on each of the interim valuation dates. Its final valuation will correspond to the price at which the payer of the equity return unwinds his hedge;</li>
				
                  <li>The payment dates are scheduled 3 currency business days after each of the valuation dates. Considering that these are currency business days, as opposed to exchange business days, the 'Following' business day convention is specified, New York being the reference business center.</li>
			
               </ul>
			
               <pre>
&lt;rateOfReturn&gt;
  &lt;initialPrice&gt;
    &lt;netPrice&gt;
      &lt;currency&gt;USD&lt;/currency&gt;
      &lt;amount&gt;37.44&lt;/amount&gt;
      &lt;priceExpression&gt;AbsoluteTerms&lt;/priceExpression&gt;
    &lt;/netPrice&gt;
  &lt;/initialPrice&gt;
  &lt;notionalReset&gt;true&lt;/equityNotionalReset&gt;
  &lt;valuationPriceInterim&gt;
    &lt;determinationMethod&gt;ValuationTime&lt;/determinationMethod&gt;
    &lt;valuationTimeType&gt;Close&lt;/valuationTimeType&gt;
    &lt;valuationDates id="InterimValuationDate"&gt;
      &lt;adjustableDates&gt;
        &lt;unadjustedDate&gt;2001-10-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2001-11-13&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2001-12-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-01-14&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-02-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-03-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-04-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-05-13&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-06-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-07-12&lt;/unadjustedDate&gt;
        &lt;unadjustedDate&gt;2002-08-12&lt;/unadjustedDate&gt;
        &lt;dateAdjustments&gt;
          &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
        &lt;/dateAdjustments&gt;
      &lt;/adjustableDates&gt;
    &lt;/valuationDates&gt;
  &lt;/valuationPriceInterim&gt;
  &lt;valuationPriceFinal&gt;
    &lt;determinationMethod&gt;HedgeUnwind&lt;/determinationMethod&gt;
    &lt;valuationDate id="FinalValuationDate"&gt;
      &lt;adjustableDate&gt;
        &lt;unadjustedDate&gt;2002-09-24&lt;/unadjustedDate&gt;
        &lt;dateAdjustments&gt;
          &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
        &lt;/dateAdjustments&gt;
      &lt;/adjustableDate&gt;
    &lt;/valuationDate&gt;
  &lt;/valuationPriceFinal&gt;
  &lt;paymentDates id="EquityPaymentDate"&gt;
    &lt;paymentDatesInterim id="InterimEquityPaymentDate"&gt;
      &lt;relativeDates&gt;
        &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
        &lt;period&gt;D&lt;/period&gt;
        &lt;dayType&gt;CurrencyBusiness&lt;/dayType&gt;
        &lt;businessDayConvention&gt;FOLLOWING&lt;/businessDayConvention&gt;
        &lt;businessCenters id="PrimaryBusinessCenter"&gt;
          &lt;businessCenter&gt;USNY&lt;/businessCenter&gt;
        &lt;/businessCenters&gt;
        &lt;dateRelativeTo href="InterimValuationDate"/&gt;
      &lt;/relativeDates&gt;
    &lt;/paymentDatesInterim&gt;
    &lt;paymentDateFinal id="FinalEquityPaymentDate"&gt;
      &lt;relativeDate&gt;
        &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
        &lt;period&gt;D&lt;/period&gt;
        &lt;dayType&gt;CurrencyBusiness&lt;/dayType&gt;
        &lt;businessDayConvention&gt;FOLLOWING&lt;/businessDayConvention&gt;
        &lt;businessCentersReference href="PrimaryBusinessCenter"/&gt;
        &lt;dateRelativeTo href="FinalValuationDate"/&gt;
      &lt;/relativeDate&gt;
    &lt;/paymentDateFinal&gt;
  &lt;/paymentDates&gt;
&lt;/rateOfReturn&gt;
                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.5">9.5.5 The notional amount</a>
               </h4>
			
               <p>The notional component specifies the notional of each of the legs of the swap (it is indeed also present in the interest leg of the trade). Similarly to the price of the underlyer, four  possible ways of defining this notional are available:</p>
			
               <ul class="bulleted">
				
                  <li>By specifying an actual amount and currency. This is used most often for the equity leg of the swap;</li>
				
                  <li>By referencing an amount specified somewhere else in the document. This is typically the case of the interest leg of the swap, which notional refers to notional specified through equity leg;</li>
				
                  <li>By specifying a determination method, using the determinationMethod component This is typically useful for forward swaps, which notional is not known on trade date.</li>
				
                  <li>By referencing a determination method specified somewhere else in the document. This is typically the case of the interest leg of the swap, which determination method refers to a determination method specified through equity leg;</li>
			
               </ul>
			
               <p>
				
                  <a href="images/equity-swaps/figure22_notional.jpg">
                     <img src="images/equity-swaps/figure22_notional.jpg" alt="images/equity-swaps/figure22_notional.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 22: The notional component.</p>
			
               <p>The four examples below illustrate each of these cases mentioned before:</p>
			
               <p> Example 11 - The explicit notional amount:</p>
			
               <ul class="bulleted">
				
                  <li>This approach is typically used for specifying the notional of the equity leg of the swap;</li>
				
                  <li>The identifier attribute associated with the notional amount element is used so that the notional amount of the interest leg can refer to it (example 12 below).</li>
			
               </ul>
			
               <pre>
&lt;notional&gt;
  &lt;notionalAmount id="EquityNotionalAmount"&gt;
    &lt;currency&gt;USD&lt;/currency&gt;
    &lt;amount&gt;28469376&lt;/amount&gt;
  &lt;/notionalAmount&gt;
&lt;/notional&gt;
                        </pre>
			
               <p> Example 12 - The reference to a notional amount defined somewhere else in the document:</p>
			
               <ul class="bulleted">
				
                  <li>This approach is typically used for specifying the notional amount of the interest leg of the swap;</li>
				
                  <li>The relationship with the notional amount specified in the equity leg is established via the href, which refers to the value specified through the identifier associated with the explicit notional amount.</li>
			
               </ul>
			
               <pre>
&lt;notional&gt;
  &lt;relativeNotionalAmount href="EquityNotionalAmount"/&gt;
&lt;/notional&gt;
                        </pre>
			
               <p> Example 13 - The use of the determinationMethod for specifying the notional amount:</p>
			
               <ul class="bulleted">
				
                  <li>The initial price of the equity underlyer is not known on trade inception: it will be determined at a later point;</li>
				
                  <li>As a consequence, only the method through which the notional is calculated is specified as part of the swap.</li>
			
               </ul>
			
               <pre>
&lt;notional&gt;
  &lt;determinationMethod id="EquityNotionalAmount"&gt;Number of Shares * Initial Price&lt;/determinationMethod&gt;
&lt;/notional&gt;
                        </pre>
			
               <p> Example 13b - The reference to a determination method defined somewhere else in the document:</p>
			
               <ul class="bulleted">
				
                  <li>This approach is typically used for specifying the notional determination method of the interest leg of the swap;</li>
				
                  <li>The relationship with the notional determination method specified in the equity leg is established via the href, which refers to the value specified through the identifier associated with the explicit notional determination method.</li>
			
               </ul>
			
               <pre>
&lt;notional&gt;
  &lt;relativeDeterminationMethod href="EquityNotionalAmount"/&gt;
&lt;/notional&gt;
                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.6">9.5.6 The amount</a>
               </h4>
			
               <p>The main purpose of the amount (old equityAmount) component is to specify the method that determines the amount to be paid/received on each of the payment dates. Its role however goes quite beyond this, as it also specifies:</p>
			
               <ul class="bulleted">
				
                  <li>Whether the swap will cash settle of physically settle;</li>
				
                  <li>The settlement currency of the return leg of the swap.</li>
			
               </ul>
			
               <p>
				
                  <a href="images/equity-swaps/figure23_amount.jpg">
                     <img src="images/equity-swaps/figure23_amount.jpg" alt="images/equity-swaps/figure23_amount.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 23: The amount (old equityAmount) component.</p>
			
               <p> This amount component is based on the LegAmount type that is also used for defining the interestAmount. It extends this type by adding a boolean cashSettlement element that specifies whether the swap will cash or physically settle.</p>
			
               <p>The paymentCurrency is the first component of this structure. It specifies the payment currency of the equity leg of the swap through three possible methods:</p>
			
               <ul class="bulleted">
				
                  <li>As an actual ISO currency code;</li>
				
                  <li>As a determination method description, applicable in the case of some exotic swap where the payment currency of the trade will be a function of certain parameters;</li>
				
                  <li>Through the reference to a currency defined somewhere else in the document, as in the case of a quanto swap or a composite FX swap which reference currency is specified through the fxTerms component.</li>
			
               </ul>
			
               <p>The core of the component is its second component, which specifies the payoff of the return leg. This can done in three possible ways:</p>
			
               <ul class="bulleted">
				
                  <li>The referenceAmount element is aimed at holding the reference to the standard ISDA definition of the equity amount. (It can however be used beyond this sole purpose, as it is defined as a string element, without any specific enumerations;</li>
				
                  <li>The formula component is aimed at the exotic equity swaps, which equity payoff needs to be described through a mathematical formula. To meet this purpose, the formula component provides a flexible structure for describing the return payoff, using the combination of the formulaDescription component that provides a literary description of the payoff, the math container that uses the xsd:any XML structure to hold any type of formula description, and the formulaComponent element that describes the various components of the formula.</li>
				
                  <li>As an alternative to the XML representation of each of the details of the return payoff, the encodedDescription element provides the ability to encode an image that describes the payout formula, using a base64Binary structure.</li>
			
               </ul>
			
               <p>The optional calculationDates component is also aimed at these more complex equity swaps. It provides the possibility to define calculation dates (such as observation points in the case of an equity payoff that is a function of some specific market levels). These calculation dates can be specified similarly to the valuation dates:</p>
			
               <ul class="bulleted">
				
                  <li>As an actual schedule of dates, using the adjustableDates component;</li>
				
                  <li>In relation to some dates defined elsewhere in the document, using the relativeDateSequence component;</li>
				
                  <li>Through a rule-based schedule, using the periodicDates component.</li>
			
               </ul>
			
               <p>
				
                  <a href="images/equity-swaps/figure24_calculationDates.jpg">
                     <img src="images/equity-swaps/figure24_calculationDates.jpg" alt="images/equity-swaps/figure24_calculationDates.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 24: The calculationDates component, that provides the opportunity to define calculation dates for more exotic types of equity swaps.</p>
			
               <p> Example 14 - The use of the amount component for a vanilla equity swap:</p>
			
               <ul class="bulleted">
				
                  <li>The payment currency of the return leg is USD;</li>
				
                  <li>The payoff amount of the return leg is specified as the ISDA standard definition, i.e. equal to the product of the underlyer notional amount and the rate of return;</li>
				
                  <li>The settlements will be made in cash.</li>
			
               </ul>
			
               <pre>
&lt;amount&gt;
  &lt;paymentCurrency id="EquityPaymentCurrency"&gt;
    &lt;currency&gt;USD&lt;/currency&gt;
  &lt;/paymentCurrency&gt;
  &lt;referenceAmount&gt;ISDA Standard&lt;/referenceAmount&gt;
  &lt;cashSettlement&gt;true&lt;/cashSettlement&gt;
&lt;/amount&gt;
          </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.7">9.5.7 The return</a>
               </h4>
			
               <p>The return component encapsulates the information that defines the dividend to be paid to the receiver of the equity amounts, with the exception of the dividend payout ratio, that is specified through the underlyer component. (As explained earlier, this is because a specific payout ratio can be associated with each underlyer component in the case of basket swaps; such situation can typically be related to different tax regimes across countries when those various underlyers originate from different market places.)</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure25_Return.jpg">
                     <img src="images/equity-swaps/figure25_Return.jpg" alt="images/equity-swaps/figure25_Return.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 25: The return component.</p>
			
               <p> This return component has two sets of element: the returnType element, that specifies (through an enumeration) whether the contract is a total return swap, a price return swap or a dividend return swap, and the dividendConditions component, which describes the various conditions applicable to the dividend, including whether and how interests will be accrued if they are paid after the dividend pay date. This second component is optional, as it does not apply in the case of a price return swap. Its dividend terms are the following:</p>
			
               <ul class="bulleted">
				
                  <li> The dividendReinvestment, as a Boolean data element that determines whether the dividend will be reinvested into the equity notional;</li>
				
                  <li> The dividendEntitlement, to indicate when the counterparty is entitled to the dividend;</li>
				
                  <li> The dividendAmount, to refer to one on the 3 Amounts: RecordAmount, ExAmount, PaidAmount;</li>
				
                  <li> The dividendPaymentDate, to specify when the dividend will be paid. This date can be specified either through a set of pre-defined values that are associated with the dividendDateReference element that is part of this component, or as a specific date. These pre-defined values can refer either to dividend dates (ExDate, DividendPaymentDate, RecordDate) or to dates that relate to the swap contract (TerminationDate, EquityPaymentDate, FollowingPaymentDate);</li>
				
                  <li> The dividendPeriodEffectiveDate and the dividendPeriodEndDate, to indicate when the swap is considered as active from the perspective of dividend processing and when such period ends;</li>
				
                  <li> The extraOrdinaryDividends, to reference the party which determines if dividends are extraordinary in relation to normal levels;</li>
				
                  <li> The excessDividendAmount, to determine Gross Cash Dividend per Share;</li>
				
                  <li> The ReturnSwapCurrency.model, a choice between currency, determinationMethod and currencyReferenceto, to define return swap amount currency definition methods;</li>
				
                  <li> The dividendFxTriggerDate, to specify the date on which the FX rate will be considered in the case of a Composite FX swap;</li>
				
                  <li> The interestAccruals, to define how interests will be accrued on the dividend when this latter is paid some period of time after the dividend payment date.</li>
				
                  <li> The numberOfIndexUnits", to define the Number Of Index Units applicable to a Dividend;</li>
				
                  <li> The DeclaredCashAndCashEquivalentDividendPercentage.model, to declared Cash Dividend Percentage, or Cash Equivalent Dividend Percentage;</li>
				
                  <li> The nonCashDividendTreatment, to define treatment of Non-Cash Dividends;</li>
				
                  <li> The dividendComposition, to defines how the composition of Dividends is to be determined;</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.8">9.5.8 The notional adjustment</a>
               </h4>
			
               <p>The notionalAdjustments component specifies whether the adjustment to the equity notional of the swap will obey to certain specific terms. These terms can be, according to the current industry practice, threefold: standard, execution and portfolio rebalancing. An execution-style swap is a trade where the quantity of underlyers is expected to vary quite often; in order to facilitate these later 'executions', the parties agree in advance on contractual terms that will facilitate these expected adjustments to the contract. A portfolio-rebalancing swap is a trade where the basket components will be often adjusted not only in terms of quantities but also in terms of types of underlyers; similarly to the previous case, some specific language will typically accommodate such adjustments.</p>
			
               <p>These legal terms are however not specified through the schema representation of the equity swap. There are two reasons for this. The first one is that they are not part of the ISDA Definitions for Equity Derivatives. The second reason is that this current version of the equity swap schema is focused on representing the economic description of the trade. These legal terms are then not part of it.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s9.5.9">9.5.9 The FX Feature (old FX terms)</a>
               </h4>
			
               <p>Equity Derivatives and Equity Swaps both now use a common FxFeature component</p>
			
               <p>The fxFeature is an optional component that specifies the FX conversion terms that can be associated with the swap. This FX feature can either be Quanto or Composite FX. Both these components include a referenceCurrency element, which purpose is to explicitly state the reference currency of the swap.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure26_fxFeature-quanto.jpg">
                     <img src="images/equity-swaps/figure26_fxFeature-quanto.jpg" alt="images/equity-swaps/figure26_fxFeature-quanto.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 26: The quanto component.</p>
			
               <p> The quanto component includes an explicit reference to a rate, through the quantoRate element. One or several rates can be defined, in order to address the case where a basket swap is composed of several underlyers that are listed in different currencies.</p>
			
               <p> The example below illustrates the application of this quanto component:</p>
			
               <p> Example 15 - The quanto component:</p>
			
               <ul class="bulleted">
				
                  <li>The business background for this trade is that the payment currency of the swap is USD, while some of the underlyers are listed in EUR and some others are listed in HKD. The payer of the equity return commits upfront to a set of exchange rates vis-a-vis the USD which are specified as part of the quanto component;</li>
				
                  <li>The EUR is quoted per units of USD and the exchange rate is 0.99140;</li>
				
                  <li>The HKD is also quoted per units of USD and the exchange rate is 7.80.</li>
			
               </ul>
			
               <pre>
&lt;fxFeature&gt;
  &lt;quanto&gt;
    &lt;referenceCurrency id="ReferenceCurrency"&gt;USD&lt;/referenceCurrency&gt;
    &lt;fxRate&gt;
      &lt;quotedCurrencyPair&gt;
        &lt;currency1&gt;USD&lt;/currency1&gt;
        &lt;currency2&gt;EUR&lt;/currency2&gt;
        &lt;quoteBasis&gt;Currency2PerCurrency1&lt;/quoteBasis&gt;
      &lt;/quotedCurrencyPair&gt;
      &lt;rate&gt;0.99140&lt;/rate&gt;
    &lt;/fxRate&gt;
    &lt;fxRate&gt;
      &lt;quotedCurrencyPair&gt;
        &lt;currency1&gt;USD&lt;/currency1&gt;
        &lt;currency2&gt;HKD&lt;/currency2&gt;
        &lt;quoteBasis&gt;Currency2PerCurrency1&lt;/quoteBasis&gt;
      &lt;/quotedCurrencyPair&gt;
      &lt;rate&gt;7.80&lt;/rate&gt;
    &lt;/fxRate&gt;
  &lt;/quanto&gt;
&lt;/fxFeature&gt;
                        </pre>
			
               <p>
				
                  <a href="images/equity-swaps/figure27_fxFeature-compositeFx.jpg">
                     <img src="images/equity-swaps/figure27_fxFeature-compositeFx.jpg" alt="images/equity-swaps/figure27_fxFeature-compositeFx.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 27: The compositeFx component.</p>
			
               <p>The compositeFx component provides the framework for defining a currency rate at some point in the future. This can be done either by defining a generic method using the determinationMethod component (for example, when it is agreed that the exchange rate will be determined "in good faith by the Calculation Agent") or by specifying the information source and fixing time and date reference that will be used for defining this exchange rate, using the fxDetermination component.</p>
			
               <p> The example below illustrates the application of this compositeFx component:</p>
			
               <p> Example 16 - The compositeFx component:</p>
			
               <ul class="bulleted">
				
                  <li>The payment currency of the swap is EUR;</li>
				
                  <li>The exchange rate will be determined in good faith by the Calculation Agent.</li>
			
               </ul>
			
               <pre>
&lt;fxFeature&gt;
  &lt;compositeFx&gt;
    &lt;referenceCurrency id="ReferenceCurrency"&gt;USD&lt;/referenceCurrency&gt;
    &lt;determinationMethod&gt;CalculationAgent&lt;/determinationMethod&gt;
  &lt;/compositeFx&gt;
&lt;/fxFeature&gt;
                        </pre>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.6">9.6 The interest leg</a>
               </h3>
            </div>
		
            <p>The interest leg of the equity swap leverages for the most part the schema developed for the interest rate swaps.</p>
		
            <p>However, instead of simply reusing the entire swapStream, the interest rate leg of the equity swap schema reuses certain of the components that are part of this swapStream.</p>
		
            <p>This design approach is motivated by the differences in market practices that exist between the equity and fixed income products. The industry practice for the equity swaps consists in defining a schedule of actual dates for the equity valuation, while most of the other swap dates are defined in reference to this schedule. The practice in place in the interest rate area consists, on the other hand, in defining a rule-based schedule. As a result, the swapStream features are largely focused on defining such periodicity rules along with the appropriate calendar exceptions, and do not provide the possibility for defining a complete schedule of actual dates (if we except through the firstPeriodStartDate, the firstRegularPeriodStartDate and the lastRegularPeriodEndDate) and references to these.</p>
		
            <p>Instead of leveraging the whole swapStream component, the interest leg of the equity swap leverages then components at a more granular level, such as the resetFrequency component, the interestCalculation component and the calculationPeriodDatesReference element.</p>
		
            <p> As a result, the interest leg of the equity swap has six categories of components, which are presented in the figure 28 below and respectively specify the following features of the interest leg:</p>
		
            <ul class="bulleted">
			
               <li>The payer and the receiver party;</li>
			
               <li>The calculation dates;</li>
			
               <li>The notional amount;</li>
			
               <li>The interest amount;</li>
			
               <li>The interest calculation;</li>
			
               <li>The initial and final stubs.</li>
		
            </ul>
		
            <p>
			
               <a href="images/equity-swaps/figure28_InterestLeg.jpg">
                  <img src="images/equity-swaps/figure28_InterestLeg.jpg" alt="images/equity-swaps/figure28_InterestLeg.jpg" class="image"/>
               </a>
		
            </p>
		
            <p>Figure 28: The interest leg of the equity swap.</p>
		
		
		
		
		
	
            <div>
               <h4>
                  <a id="s9.6.1">9.6.1 The payer and receiver party</a>
               </h4>
			
               <p>The identification of the payer and receiver party of the equity leg is done similarly than for the equity leg of the swap, through the payerPartyReference and receiverPartyReference data elements.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s9.6.2">9.6.2 The calculation dates</a>
               </h4>
			
               <p>The interestLegCalculationPeriodDates component defines the various dates associated with the interest leg of the swap:</p>
			
               <ul class="bulleted">
				
                  <li>The effective date, through the effectiveDate component, also used for the equity leg of the swap;</li>
				
                  <li>The termination date, through the terminationDate component that is also similar to the equity leg;</li>
				
                  <li>The reset dates, via the interestLegResetDates component;</li>
				
                  <li>The payment dates, through the interestLegPaymentDates component.</li>
			
               </ul>
			
               <p>The diagram below presents the key features of these different date structures. Three of these components are structured in the same way: the effectiveDate, the terminationDate and the interestLegPaymentDates. These components indeed all provide the possibility to define a date (or several dates, in the case of the interestLegPaymentDates component) as either an actual date or in reference to a date specified somewhere else in the document.</p>
			
               <p>The interestLegResetDates component has been developed as a simplified version of the ResetDates type that is part of the interest rates derivatives schema. Three of the seven components that are part of this ResetDates type have indeed been reused:</p>
			
               <ul class="bulleted">
				
                  <li>The calculationPeriodDatesReference is an empty element that holds an href into the identifier attribute that is associated with the interestLegCalculationPeriodDates;</li>
				
                  <li>The resetRelativeTo specifies whether the reset dates are determined with respect to each adjusted calculation period start date or adjusted calculation period end date;</li>
				
                  <li>The resetFrequency component provides the possibility to define a specific reset frequency, instead of defining the reset in relation to the various interest calculation dates: the effective date, the respective interest payment dates and the termination date.</li>
			
               </ul>
			
               <p>
				
                  <a href="images/equity-swaps/figure29_interestLegCalculationPeriodDates.jpg">
                     <img src="images/equity-swaps/figure29_interestLegCalculationPeriodDates.jpg" alt="images/equity-swaps/figure29_interestLegCalculationPeriodDates.jpg" class="image" width="600"/>
                  </a>
			
               </p>
			
               <p>Figure 29: The interestLegCalculationPeriodDates component.</p>
			
               <p> The example below presents a typical example of how this schema is applied to the standard interest leg of an equity swap:</p>
			
               <p> Example 17 - The calculation period dates of the interest leg of an equity swap:</p>
			
               <ul class="bulleted">
				
                  <li>The effective date is defined similarly than for the equity leg, as one settlement cycle following the trade date;</li>
				
                  <li>The termination date is also defined in the same way than the equity leg, as corresponding to the last equity payment date;</li>
				
                  <li>The reset dates for the floating rate are defined as corresponding to the first day of each of the calculation periods by referencing the identifier that is associated with the interestLegCalculationPeriodDates node;</li>
				
                  <li>The interest payment dates are specified in reference to the equity payment dates: this is called a combined reset, as a net amount corresponding to the difference between the interest and the equity amount will be exchanged on each payment date.</li>
			
               </ul>
			
               <pre>
&lt;interestLegCalculationPeriodDates id="InterestLegPeriodDates"&gt;
  &lt;effectiveDate&gt;
    &lt;relativeDate&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;D&lt;/period&gt;
      &lt;dayType&gt;ExchangeBusiness&lt;/dayType&gt;
      &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;dateRelativeTo href="TradeDate"/&gt;
    &lt;/relativeDate&gt;
  &lt;/effectiveDate&gt;
  &lt;terminationDate&gt;
    &lt;relativeDate&gt;
      &lt;periodMultiplier&gt;0&lt;/periodMultiplier&gt;
      &lt;period&gt;D&lt;/period&gt;
      &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;dateRelativeTo href="FinalEquityPaymentDate"/&gt;
    &lt;/relativeDate&gt;
  &lt;/terminationDate&gt;
  &lt;interestLegResetDates&gt;
    &lt;calculationPeriodDatesReference href="InterestLegPeriodDates"/&gt;
    &lt;resetRelativeTo&gt;CalculationPeriodStartDate&lt;/resetRelativeTo&gt;
  &lt;/interestLegResetDates&gt;
  &lt;interestLegPaymentDates&gt;
    &lt;relativeDates&gt;
      &lt;periodMultiplier&gt;0&lt;/periodMultiplier&gt;
      &lt;period&gt;D&lt;/period&gt;
      &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;dateRelativeTo href="EquityPaymentDate"/&gt;
    &lt;/relativeDates&gt;
  &lt;/interestLegPaymentDates&gt;
&lt;/interestLegCalculationPeriodDates&gt;
                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.6.3">9.6.3 The notional amount</a>
               </h4>
			
               <p>The notional amount is defined through the same structure than for the equity leg of the swap: the notional component. As mentioned earlier, and illustrated through the example 12, this component is most often used for referencing the notional amount that is defined as part of the equity leg.</p>
		
            </div>
            <div>
               <h4>
                  <a id="s9.6.4">9.6.4 The interest amount</a>
               </h4>
			
               <p>The interest amount is defined in the same way than the equity amount: using the LegAmount complex type. Used through the interest leg, it specifies the following elements:</p>
			
               <ul class="bulleted">
				
                  <li>The settlement currency of the interest leg of the swap;</li>
				
                  <li>The interest amount of the swap, either by referencing the standard ISDA Definition or by describing a very specific formula.</li>
			
               </ul>
			
               <p> Example 18 - The interest amount of an equity swap:</p>
			
               <ul class="bulleted">
				
                  <li>This example illustrates a swap that has FX terms which are referenced through the fxTerms component that is part of the equity leg. An identifier is associated with the reference currency that is defined as part of that component, and the href that is part of the paymentCurrency element refers to this identifier;</li>
				
                  <li>The interest amount is specified by reference to the ISDA Equity Derivatives Definitions.</li>
			
               </ul>
			
               <pre>
&lt;interestAmount&gt;
  &lt;paymentCurrency href="ReferenceCurrency"/&gt;
  &lt;referenceAmount&gt;Standard ISDA&lt;/referenceAmount&gt;
&lt;/interestAmount&gt;
                        </pre>
		
            </div>
            <div>
               <h4>
                  <a id="s9.6.5">9.6.5 The interest calculation</a>
               </h4>
			
               <p>The interestCalculation component specifies the interest rate reference of the swap (by referring either to a fixed interest rate or to a floating reference rate) and the day count fraction to be applied. As indicated in the introduction to the interest leg section, this structure has been developed by leveraging the components defined for the interest rate swap schema.</p>
			
               <p>The component supports also compounding for on the interest leg (see optional compounding element within InterestCalculation.  The compounding rate on the Interest leg can be different than that used for funding calculation.  In addition, the structure supports the representation of multiple types of spreads, i.e. one for a long amount and one for a short amount.</p>
			
               <p>
				
                  <a href="images/equity-swaps/figure30_interestCalculation.jpg">
                     <img src="images/equity-swaps/figure30_interestCalculation.jpg" alt="images/equity-swaps/figure30_interestCalculation.jpg" class="image"/>
                  </a>
			
               </p>
			
               <p>Figure 30: The interestCalculation component.</p>
			
               <p> The example below presents a typical example of how this interestCalculation component can be applied for specifying the floating rate of an equity swap:</p>
			
               <p> Example 19 - Specifying the floating rate of an equity swap:</p>
			
               <ul class="bulleted">
				
                  <li>The reference rate is 3 month USD-LIBOR-BBA;</li>
				
                  <li>The spread is plus 50 basis points;</li>
				
                  <li>The day count fraction is actual number of days / 360 days.</li>
			
               </ul>
			
               <pre>
&lt;interestCalculation&gt;
  &lt;floatingRateCalculation&gt;
    &lt;floatingRateIndex&gt;USD-LIBOR-BBA&lt;/floatingRateIndex&gt;
    &lt;indexTenor&gt;
      &lt;periodMultiplier&gt;3&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/indexTenor&gt;
    &lt;spreadSchedule&gt;
      &lt;initialValue&gt;0.0050&lt;/initialValue&gt;
    &lt;/spreadSchedule&gt;
  &lt;/floatingRateCalculation&gt;
  &lt;dayCountFraction&gt;ACT/360&lt;/dayCountFraction&gt;
&lt;/interestCalculation&gt;
                        </pre>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.7">9.7 The initial and final stub</a>
               </h3>
            </div>
		
            <p>The representation of the stub periods for the equity swaps schema makes use of the Stub type that was initially developed for the interest rates schema.</p>
		
            <p>The initialStub and the finalStub components respectively describe the initial and final stubs. For each of those, the component specifies the rate (or stub amount), the stub start date and the stub end date. The payment dates that relate to the stub period(s) are specified along with the payment dates of the main period, in the interestLegCalculationPeriodDates component.</p>
		
            <p>
			
               <a href="images/equity-swaps/figure_StubCalculationPeriod.jpg">
                  <img src="images/equity-swaps/figure_StubCalculationPeriod.jpg" alt="images/equity-swaps/figure_StubCalculationPeriod.jpg" class="image"/>
               </a>
		
            </p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.8">9.8 The principal exchange</a>
               </h3>
            </div>
		
            <p>Some types of equity swaps do not have an interest leg. Their economic structure relies instead in the exchange of the principal of the swap between the parties. These are the fully funded and zero-strike swaps. The purpose of the PrincipalExchangeFeatures component is to specify this feature that is associated with those swaps. (It should however be noted that the schema also accommodates some more exotic cases that would combine an interest leg which notional would be smaller than the notional of the equity leg, and that would also have a principal exchange.)</p>
		
            <p>
			
               <a href="images/equity-swaps/figure31_PrincipalExchangeFeatures.jpg">
                  <img src="images/equity-swaps/figure31_PrincipalExchangeFeatures.jpg" alt="images/equity-swaps/figure31_PrincipalExchangeFeatures.jpg" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>Figure 31: The exchange of principal amounts.</p>
		
            <p>This component extends the design developed for the interest rate swaps (through the principalExchanges component) by adding the PrincipalExchangeDescriptions component, which has the following features:</p>
		
            <ul class="bulleted">
			
               <li>It specifies the payer and receiver party references;</li>
			
               <li>The date of each of the principal exchanges can be defined either as an actual date (using the adjustableDate component) or in relation to a date defined somewhere else in the document (via the relativeDate component);</li>
			
               <li>The principal exchange amount can be defined in three possible ways: (i) By pointing to an amount defined elsewhere in the swap document, through the use of the amountRelativeTo element; (ii) By using the determinationMethod element, that describes a method according to which an amount is determined; (iii) By using the principalAmount component, which allows to explicitly determine an actual amount.</li>
		
            </ul>swaps
		<p> Example 20 - Initial principal exchange:</p>
		
            <ul class="bulleted">
			
               <li>The principal exchange takes place at the initial period of the swap;</li>
			
               <li>The payment date is defined as being the effective date of the swap;</li>
			
               <li>The amount paid to Party A is USD 55,911.60.</li>
		
            </ul>
		
            <pre>
&lt;principalExchangeFeatures&gt;
  &lt;principalExchanges&gt;
    &lt;initialExchange&gt;true&lt;/initialExchange&gt;
    &lt;finalExchange&gt;false&lt;/finalExchange&gt;
    &lt;intermediateExchange&gt;false&lt;/intermediateExchange&gt;
  &lt;/principalExchanges&gt;
  &lt;principalExchangeDescriptions&gt;
    &lt;payerPartyReference href="PartyB"/&gt;
    &lt;receiverPartyReference href="PartyA"/&gt;
    &lt;principalExchangeAmount&gt;
      &lt;principalAmount&gt;
        &lt;currency&gt;USD&lt;/currency&gt;
        &lt;amount&gt;55911.60&lt;/amount&gt;
      &lt;/principalAmount&gt;
    &lt;/principalExchangeAmount&gt;
    &lt;principalExchangeDate&gt;
      &lt;relativeDate&gt;
        &lt;periodMultiplier&gt;0&lt;/periodMultiplier&gt;
        &lt;period&gt;D&lt;/period&gt;
        &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
        &lt;dateRelativeTo href="EffectiveDate"/&gt;
      &lt;/relativeDate&gt;
    &lt;/principalExchangeDate&gt;
  &lt;/principalExchangeDescriptions&gt;
&lt;/principalExchangeFeatures&gt;
                </pre>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.9">9.9 The additional payments when involving the principal parties to the trade</a>
               </h3>
            </div>
		
            <p>Similarly to the principal exchange, the EquitySwapAdditionalPayment complex type extends the design developed for the interest rate swaps by providing the ability to define dates in relation to other dates, as well as to specify the calculation logic that supports certain types of fees.</p>
		
            <p>
			
               <a href="images/equity-swaps/figure32_additionalPayment.jpg">
                  <img src="images/equity-swaps/figure32_additionalPayment.jpg" alt="images/equity-swaps/figure32_additionalPayment.jpg" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>Figure 32: The additionalPayment component.</p>
		
            <p> This additionalPayment structure leverages some of the features that are also used through other components:</p>
		
            <ul class="bulleted">
			
               <li>The payer and receiver parties are specified similarly to the swap legs and the principal exchange, through the payerPartyReference and receiverPartyReference elements;</li>
			
               <li>The additionalPaymentAmount component provides the flexibility to define an actual amount (through the paymentAmount component) and/or to describe the methodology for determining such amount, leveraging the formula component developed for the LegAmount complex type;</li>
			
               <li>Similarly to the PrincipalExchangeFeatures component, the date of each of the additional payments can be defined either as actual dates or in relation to dates defined somewhere else in the document, through respectively the adjustableDate and the relativeDate components;</li>
			
               <li>The optional paymentType string element provides the opportunity to characterize the additional payment.</li>
		
            </ul>
		
            <p> Example 21 - Upfront fee:</p>
		
            <ul class="bulleted">
			
               <li>An upfront fee is paid by Party A to Party B, on the effective date of the swap;</li>
			
               <li>This upfront fee is equal to: 18388000 * Reference Price * [6.5% (the upfront Fee) + 0.63% (taxes)].</li>
		
            </ul>
		
            <pre>
&lt;additionalPayment&gt;
  &lt;payerPartyReference href="PartyA"/&gt;
  &lt;receiverPartyReference href="PartyB"/&gt;
  &lt;additionalPaymentAmount&gt;
    &lt;formula&gt;
      &lt;formulaDescription&gt;18388000 * Reference Price * [6.5% (the upfront Fee) + 0.63% (taxes)]&lt;/formulaDescription&gt;
      &lt;math&gt;
        &lt;mn&gt;18388000 &lt;/mn&gt;
        &lt;mo&gt;*&lt;/mo&gt;
        &lt;mi&gt;ReferencePrice&lt;/mi&gt;
        &lt;mo&gt;*&lt;/mo&gt;
        &lt;mo&gt;(&lt;/mo&gt;
        &lt;mn&gt;6.5&lt;/mn&gt;
        &lt;mo&gt;%&lt;/mo&gt;
        &lt;mo&gt;+&lt;/mo&gt;
        &lt;mn&gt;0.63&lt;/mn&gt;
        &lt;mo&gt;%&lt;/mo&gt;
        &lt;mo&gt;)&lt;/mo&gt;
      &lt;/math&gt;
      &lt;formulaComponent name="ReferencePrice"&gt;
        &lt;componentDescription&gt;Volume-weighted average price per share of underlying security on Trade Date&lt;/componentDescription&gt;
      &lt;/formulaComponent&gt;
    &lt;/formula&gt;
  &lt;/additionalPaymentAmount&gt;
  &lt;additionalPaymentDate&gt;
    &lt;relativeDate&gt;
      &lt;periodMultiplier&gt;0&lt;/periodMultiplier&gt;
      &lt;period&gt;D&lt;/period&gt;
      &lt;businessDayConvention&gt;NotApplicable&lt;/businessDayConvention&gt;
      &lt;dateRelativeTo href="EffectiveDate"/&gt;
    &lt;/relativeDate&gt;
  &lt;/additionalPaymentDate&gt;
  &lt;paymentType&gt;Upfront fee&lt;/paymentType&gt;
&lt;/additionalPayment&gt;
                </pre>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s9.10">9.10 The optional early termination</a>
               </h3>
            </div>
		
            <p>The purpose of the ReturnSwapEarlyTermination component is to specify the date from which each of the parties to the trade may have the right to terminate it early. The figure 33 below presents the structure of this component:</p>
		
            <p>
			
               <a href="images/equity-swaps/figure33_ReturnSwapEarlyTermination.jpg">
                  <img src="images/equity-swaps/figure33_ReturnSwapEarlyTermination.jpg" alt="images/equity-swaps/figure33_ReturnSwapEarlyTermination.jpg" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>Figure 33: The earlyTermination component.</p>
		
            <p>Similarly to the other date-related components that are part of the return swap, the date can be specified using either the adjustableDate component or the relativeDate component. Considering that the standard market practice is to provide the ability for both the parties to the trade to early terminate it starting on Trade Date, the relativeDate element should be used most often. This is illustrated in the example below.</p>
		
            <p> Example 22 - Each of the parties have the right to early terminate the trade starting on Trade Date:</p>
		
            <pre>
&lt;earlyTermination&gt;
  &lt;partyReference href="PartyA"/&gt;
  &lt;startingDate&gt;
    &lt;dateRelativeTo href="TradeDate"/&gt;
  &lt;/startingDate&gt;
&lt;/earlyTermination&gt;
&lt;earlyTermination&gt;
  &lt;partyReference href="PartyB"/&gt;
  &lt;startingDate&gt;
    &lt;dateRelativeTo href="TradeDate"/&gt;
  &lt;/startingDate&gt;
&lt;/earlyTermination&gt;
                </pre>
	
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s10">10 VARIANCE PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	 		
 
	

         <div>
            <h3>
               <a id="s10.1">10.1 Variance Derivatives Scope</a>
            </h3>
			
            <p>The Equity Derivative Working Group extended FpML to cover:</p>
			
            <ul class="bulleted">
				
               <li>Variance Swaps, a type of volatility swap where the payout is linear to variance rather than volatility, therefore the payout will rise at a higher rate than volatility;</li>
				
               <li>Short Form Variance Options represented also as Transaction Supplements under ISDA Master Confirmation Agreements.</li>
			
            </ul>
		
         </div>
         <div>
            <div>
               <h3>
                  <a id="s10.2">10.2 Overall Architecture</a>
               </h3>
            </div>
		
            <p>Variance Swaps and Options are modelled using the following product element in FpML:</p>
		
            <ul class="bulleted">
			
               <li>varianceSwap</li>
			
               <li>varianceSwapTransactionSupplement</li>
			
               <li>varianceOptionTransactionSupplement</li>
		
            </ul>
		
            <p>
			
               <a href="images/equity-options/ClassHierarchy.gif">
                  <img src="images/equity-options/ClassHierarchy.gif" alt="images/equity-options/ClassHierarchy.gif" class="image" width="600"/>
               </a>
		
            </p>
		
            <p>these components provide support for:</p>
		
		
		
		
	
            <div>
               <h4>
                  <a id="s10.2.1">10.2.1 varianceSwap</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-variance-swaps-5-0.xsd.html_element_varianceSwap.html">Variance Swap</a> specifies the structure of a variance swap.</p>
			
               <p>
				
                  <a href="images/variance-swaps/varianceSwap.jpg">
                     <img src="images/variance-swaps/varianceSwap.jpg" alt="images/variance-swaps/varianceSwap.jpg" class="image"/>
                  </a>
			
               </p>
			
               <ul class="bulleted">
				
                  <li>productType - A classification of the type of product. FpML defines a simple product categorization using a coding scheme.</li>
				
                  <li>productId - A product reference identifier allocated by a party. FpML does not define the domain values associated with this element. Note that the domain values for this element are not strictly an enumerated list..</li>
				
                  <li>additionalPayment - Specifies additional payment(s) between the principal parties to the netted swap.</li>
				
                  <li>extraordinaryEvents - Where the underlying is shares, defines market events affecting the issuer of those shares that may require the terms of the transaction to be adjusted.</li>
				
                  <li>varianceLeg - Variance leg. The maximum allowable number of variance legs has been increased to unbounded to allow Variance Dispersion to be supported.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s10.2.2">10.2.2 varianceSwapTransactionSupplement</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-variance-swaps-5-0.xsd.html_element_varianceSwapTransactionSupplement.html">Variance Swap Transaction Supplement</a> specifies the structure of a variance swap transaction supplement. This modelled using the same variance legs as Variance Swap, but does not allow for long form content such as extraordinary events.</p>
			
               <p>
				
                  <a href="images/variance-swaps/varianceSwapTransactionSupplement.jpg">
                     <img src="images/variance-swaps/varianceSwapTransactionSupplement.jpg" alt="images/variance-swaps/varianceSwapTransactionSupplement.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s10.2.3">10.2.3 VarianceLeg</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-variance-swaps-5-0.xsd.html_type_VarianceLeg.html">VarianceLeg</a> - A type describing return which is driven by a Variance calculation.</p>
			
               <p>
				
                  <a href="images/variance-swaps/VarianceLeg.jpg">
                     <img src="images/variance-swaps/VarianceLeg.jpg" alt="images/variance-swaps/VarianceLeg.jpg" class="image"/>
                  </a>
			
               </p>
			
               <ul class="bulleted">
				
                  <li>legIdentifier - Version aware identification of this leg. (e.g. Variance Dispersion typically involves many legs, with 1 IVS and 50 EVS legs being typical. Leg Identifier has been introduced as an optional child element to support identification of each of these legs.)</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s10.2.4">10.2.4 varianceOptionTransactionSupplement</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-variance-swaps-5-0.xsd.html_element_varianceOptionTransactionSupplement.html">Variance Option Transaction Supplement</a> specifies the structure of a variance option transaction supplement. VarianceOptionTransactionSupplement implements Variance Option Transaction Supplement by providing a short form representation for use in trades governed by a Master Confirmation Agreement.</p>
			
               <p>
				
                  <a href="images/variance-swaps/varianceOptionTransactionSupplement.jpg">
                     <img src="images/variance-swaps/varianceOptionTransactionSupplement.jpg" alt="images/variance-swaps/varianceOptionTransactionSupplement.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s11">11 DIVIDEND PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	 
 
	

         <div>
            <h3>
               <a id="s11.1">11.1 Dividend Derivatives Scope</a>
            </h3>
	
            <p>The Equity Derivative Working Group extended FpML to cover:</p>
    
            <ul class="bulleted">
        
               <li>Dividend Swap Transaction Supplement</li>
    
            </ul>

         </div>
         <div>
            <div>
               <h3>
                  <a id="s11.2">11.2 Overall Architecture</a>
               </h3>
            </div>
		
            <p>Dividend Swaps (Transaction Supplement form) are modelled using the following product element in FpML: dividendSwapTransactionSupplement.</p>
		
            <ul class="bulleted">
			
               <li>dividendSwapTransactionSupplement</li>
		
            </ul>
		
            <p>
			
               <a href="images/equity-options/ClassHierarchy.gif">
                  <img src="images/equity-options/ClassHierarchy.gif" alt="images/equity-options/ClassHierarchy.gif" class="image" width="600"/>
               </a>
		
            </p>
		
		
		
	
            <div>
               <h4>
                  <a id="s11.2.1">11.2.1 dividendSwapTransactionSupplement</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-dividend-swaps-5-0.xsd.html_element_dividendSwapTransactionSupplement.html">Dividend Swap Transaction Supplement</a> specifies the structure of the dividend swap transaction supplement.</p>
			
               <p>
				
                  <a href="images/dividend-swaps/dividendSwapTransactionSupplement.jpg">
                     <img src="images/dividend-swaps/dividendSwapTransactionSupplement.jpg" alt="images/dividend-swaps/dividendSwapTransactionSupplement.jpg" class="image"/>
                  </a>
			
               </p>
			
               <ul class="bulleted">
				
                  <li>productType - A classification of the type of product. FpML defines a simple product categorization using a coding scheme.</li>
				
                  <li>productId - A product reference identifier allocated by a party. FpML does not define the domain values associated with this element. Note that the domain values for this element are not strictly an enumerated list.</li>
				
                  <li>additionalPayment - Specifies additional payment(s) between the principal parties to the netted swap.</li>
				
                  <li>extraordinaryEvents - Where the underlying is shares, defines market events affecting the issuer of those shares that may require the terms of the transaction to be adjusted.</li>
				
                  <li>dividendLeg - Dividend leg.</li>
				
                  <li>fixedLeg - Fixed payment leg.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s11.2.2">11.2.2 dividendLeg</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-dividend-swaps-5-0.xsd.html_type_DividendLeg.html">dividendLeg</a> - Floating Payment Leg of a Dividend Swap.</p>
			
               <p>
				
                  <a href="images/dividend-swaps/dividendLeg.jpg">
                     <img src="images/dividend-swaps/dividendLeg.jpg" alt="images/dividend-swaps/dividendLeg.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
            <div>
               <h4>
                  <a id="s11.2.3">11.2.3 fixedLeg</a>
               </h4>
			
               <p>
                  <a class="web" href="schemaRef/fpml-dividend-swaps-5-0.xsd.html_type_FixedPaymentLeg.html">fixedLeg</a> - Fixed Payment Leg of a Dividend Swap.</p>
			
               <p>
				
                  <a href="images/dividend-swaps/fixedLeg.jpg">
                     <img src="images/dividend-swaps/fixedLeg.jpg" alt="images/dividend-swaps/fixedLeg.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s12">12 CORRELATION PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	 		
 
	

         <div>
            <h3>
               <a id="s12.1">12.1 Correlation Derivatives Scope</a>
            </h3>
			
            <p>The Equity Derivative Working Group extended FpML to cover:</p>
			
            <ul class="bulleted">
				
               <li>Correlation Swaps</li>
			
            </ul>
		
         </div>
         <div>
            <div>
               <h3>
                  <a id="s12.2">12.2 Overall Architecture</a>
               </h3>
            </div>
		
            <p>Correlation Swaps are modelled using the following product element in FpML:</p>
		
            <ul class="bulleted">
			
               <li>correlationSwap</li>
		
            </ul>
		
            <p>
			
               <a href="images/equity-options/ClassHierarchy.gif">
                  <img src="images/equity-options/ClassHierarchy.gif" alt="images/equity-options/ClassHierarchy.gif" class="image" width="600"/>
               </a>
		
            </p>
		
		
	
            <div>
               <h4>
                  <a id="s12.2.1">12.2.1 correlationSwap</a>
               </h4>
			
               <p>The <a class="web" href="schemaRef/fpml-correlation-swaps-5-0.xsd.html_element_correlationSwap.html">Correlation Swap</a> product is modelled as a single netted leg.</p>
			
               <p>
				
                  <a href="images/correlation-swaps/correlationSwap.jpg">
                     <img src="images/correlation-swaps/correlationSwap.jpg" alt="images/correlation-swaps/correlationSwap.jpg" class="image"/>
                  </a>
			
               </p>
			
               <ul class="bulleted">
				
                  <li>productType - A classification of the type of product. FpML defines a simple product categorization using a coding scheme.</li>
				
                  <li>productId - A product reference identifier allocated by a party. FpML does not define the domain values associated with this element. Note that the domain values for this element are not strictly an enumerated list..</li>
				
                  <li>additionalPayment - Specifies additional payment(s) between the principal parties to the netted swap.</li>
				
                  <li>extraordinaryEvents - Where the underlying is shares, defines market events affecting the issuer of those shares that may require the terms of the transaction to be adjusted.</li>
				
                  <li>correlationLeg - A type describing return which is driven by a Correlation calculation.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s12.2.2">12.2.2 correlationLeg</a>
               </h4>
			
               <p>The <a class="web" href="schemaRef/fpml-correlation-swaps-5-0.xsd.html_type_CorrelationLeg.html">correlationLeg</a>  - A type describing return which is driven by a Correlation calculation.</p>
			
               <p>
				
                  <a href="images/correlation-swaps/correlationLeg.jpg">
                     <img src="images/correlation-swaps/correlationLeg.jpg" alt="images/correlation-swaps/correlationLeg.jpg" class="image"/>
                  </a>
			
               </p>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s13">13 BOND OPTIONS PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
    
    
    


         <div>
            <h3>
               <a id="s13.1">13.1 Introduction</a>
            </h3>
        
            <p>This section provides an in-depth review of the product architecture of FpML 5.0 regarding Bond and Convertible Bond Options. It also covers the set of shared option constructs that are used by other types of options, not only Bond or CB options.</p>
        
    
            <div>
               <h4>
                  <a id="s13.1.1">13.1.1 bondOption</a>
               </h4>
            
               <p>The bondOption product element provides support for Bond and Convertible Bond options. Like all other derivative products supported by FpML, the BondOption type is an extension of Product and the bondOption element belongs to the FpML product substitution group.</p>
            
               <p>
                
                  <a href="images/bond-options/bondOption.jpg">
                     <img src="images/bond-options/bondOption.jpg" alt="images/bond-options/bondOption.jpg" class="image"/>
                  </a>
            
               </p>
        
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s13.2">13.2 Shared Option Components</a>
               </h3>
            </div>
        
        
    
            <div>
               <h4>
                  <a id="s13.2.1">13.2.1 OptionBase</a>
               </h4>
            
               <p>
                
                  <a href="images/bond-options/OptionBase.jpg">
                     <img src="images/bond-options/OptionBase.jpg" alt="images/bond-options/OptionBase.jpg" class="image"/>
                  </a>
            
               </p>
            
               <p>The OptionBase type defines the schema structure associated with optionType: The type of option transaction. From a usage standpoint, put/call is the default option type, while payer/receiver indicator is used for options index credit default swaps as well as the swaptions. Straddle is used for the case of straddle strategy, which combines a call and a put with the same strike. The optionType is to be used if the underlyer does not carry any mention of the resulting trade direction as well as in the case of a straddle.</p>
        
            </div>
            <div>
               <h4>
                  <a id="s13.2.2">13.2.2 OptionBaseExtended</a>
               </h4>
            
               <p>Incorporates features that are not underlyer-specific and cannot be integrated as part of the OptionBase because of backward compatibility reasons with the eqd schema.</p>
            
               <p>
                
                  <a href="images/bond-options/OptionBaseExtended.jpg">
                     <img src="images/bond-options/OptionBaseExtended.jpg" alt="images/bond-options/OptionBaseExtended.jpg" class="image"/>
                  </a>
            
               </p>
            
            
            
            
            
        
               <div>
                  <h5>
                     <a id="s13.2.2.1">13.2.2.1 Premium</a>
                  </h5>
                
                  <p>The premium construct has a similar approach than the swaption (i.e. premium based upon a premium construct), but introduces a simplified payment that does not incorporate the settlement features. In order to make this construct forward applicable to the equity options, this new SimplePayment is then extended to incorporate some premium-specific concepts that currently exist as part of the eqd schema.</p>
                
                  <p>
                    
                     <a href="images/bond-options/premium.jpg">
                        <img src="images/bond-options/premium.jpg" alt="images/bond-options/premium.jpg" class="image"/>
                     </a>
                
                  </p>
            
               </div>
               <div>
                  <h5>
                     <a id="s13.2.2.2">13.2.2.2 Exercise</a>
                  </h5>
                
                  <p>The overall approach is to leverage the swaption constructs, both for the Exercise and the ExerciseProcedure, with a couple of backward compatible extensions to tackle some specific features.</p>
                
                  <p>The proposed extension is for the multiple exercise, where the existing Multiple Exercise only support notional amounts, while the template for convertible bonds refers to number of options:</p>
                
                  <table class="table">
                    
                     <tr>
                        
                        <td>Multiple Exercise:</td>
                        
                        <td>Applicable</td>
                    
                     </tr>
                    
                     <tr>
                        
                        <td>Minimum Number of Options:</td>
                        
                        <td>The lesser of (i) [         ]  and (ii) the unexercised number of Options</td>
                    
                     </tr>
                    
                     <tr>
                        
                        <td>Maximum Number of Options:</td>
                        
                        <td>The unexercised number of Options</td>
                    
                     </tr>
                    
                     <tr>
                        
                        <td>Integral Multiple:</td>
                        
                        <td>1</td>
                    
                     </tr>
                
                  </table>
                
                  <p>As a result, the new schema introduces choice nodes to provide the ability to express the minimum/maximum levels either in terms of notional amounts (swaptions) or number of options (bond and CB options).</p>
                
                  <p>In addition, the notionalReference node is made optional, as this reference is not used in the case of options on securities.</p>
                
                  <p>
                    
                     <a href="images/bond-options/MultipleExercise.jpg">
                        <img src="images/bond-options/MultipleExercise.jpg" alt="images/bond-options/MultipleExercise.jpg" class="image"/>
                     </a>
                
                  </p>
            
               </div>
               <div>
                  <h5>
                     <a id="s13.2.2.3">13.2.2.3 The ExerciseProcedure construct</a>
                  </h5>
                
                  <p>The extensions to the ExerciseProcedure relate to features that are needed to support the bond and CB options:</p>
                
                  <ul class="bulleted">
                    
                     <li>
                        <b>splitTicket</b>.  Schema definition: This element typically applies to bond options.  If Split Ticket is applicable,  the party required to deliver bonds will divide the bonds to be delivered as notifying party desires to facilitate delivery obligations.</li>
                    
                     <li>
                        <b>limitedRightToConfirm</b>. Schema definition: Has the meaning defined as part of the 1997 ISDA Government Bond Option Definitions, section 4.5 Limited Right to Confirm Exercise.  If present, (i) the Seller may request the Buyer to confirm its intent if not done on or before the expiration time on the Expiration date (ii) specific rules will apply in relation to the settlement mode.</li>
                
                  </ul>
                
                  <p>
                    
                     <a href="images/bond-options/ExerciseProcedure.jpg">
                        <img src="images/bond-options/ExerciseProcedure.jpg" alt="images/bond-options/ExerciseProcedure.jpg" class="image"/>
                     </a>
                
                  </p>
            
               </div>
               <div>
                  <h5>
                     <a id="s13.2.2.4">13.2.2.4 The Notional construct</a>
                  </h5>
                
                  <p>This provides the ability to support the notional for CDS option as expressed in the ISDA template, i.e. as a reference to the notional of the underlyer swap or as an explicit amount.</p>
            
               </div>
               <div>
                  <h5>
                     <a id="s13.2.2.5">13.2.2.5 The Denomination construct</a>
                  </h5>
                
                  <p>This requirement was identified in the case of bond and CB option.  Not CDS options.  The structure positions an explicit construct as part of the base type, so that it can be applied over time to the equity options.  The currency has been added, as it is present as part of the bond and CB option confirmations.</p>
                
                  <p>
                    
                     <a href="images/bond-options/OptionBaseExtended2.jpg">
                        <img src="images/bond-options/OptionBaseExtended2.jpg" alt="images/bond-options/OptionBaseExtended2.jpg" class="image"/>
                     </a>
                
                  </p>
            
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s13.3">13.3 The Option on Bond and Convertible Bond</a>
               </h3>
            </div>
        
        
    
            <div>
               <h4>
                  <a id="s13.3.1">13.3.1 The strike</a>
               </h4>
            
               <p>The market practice consists in pricing convertible bond options based upon a swap curve, while also to include 'standard penalty' (called Make Whole Amount) in the case where the option is exercised early one. Conversely, the bond options are priced using a price reference.</p>
            
               <p>As a result, the BondOptionStrike provides a choice between a swap curve reference and a price.</p>
            
               <p>
                
                  <a href="images/bond-options/strike.jpg">
                     <img src="images/bond-options/strike.jpg" alt="images/bond-options/strike.jpg" class="image"/>
                  </a>
            
               </p>
            
               <p>
                
                  <a href="images/bond-options/ReferenceSwapCurve.jpg">
                     <img src="images/bond-options/ReferenceSwapCurve.jpg" alt="images/bond-options/ReferenceSwapCurve.jpg" class="image"/>
                  </a>
            
               </p>
            
               <p>
                
                  <a href="images/bond-options/MakeWholeAmount.jpg">
                     <img src="images/bond-options/MakeWholeAmount.jpg" alt="images/bond-options/MakeWholeAmount.jpg" class="image"/>
                  </a>
            
               </p>
        
            </div>
            <div>
               <h4>
                  <a id="s13.3.2">13.3.2 The convertible bond underlyer</a>
               </h4>
            
               <p>Two changes have been added to the convertible bond underlyer in order to support options on convertible bonds:</p>
            
               <ul class="bulleted">
                
                  <li>Added the redemption date (defined as "Earlier date between put dates and maturity date."), as it is specified as part of the CB option template;</li>
                
                  <li>Made the underlyingEquity optional, for consistently with the guideline for underlying assets (internal systems just reference the instrumentId).</li>
            
               </ul>
            
               <p>
                
                  <a href="images/bond-options/convertibleBond.jpg">
                     <img src="images/bond-options/convertibleBond.jpg" alt="images/bond-options/convertibleBond.jpg" class="image"/>
                  </a>
            
               </p>
        
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s14">14 LOAN PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	
      	<p>The content of the loan work has been removed from version 5.0 since it is currently being redesigned by the FpML Syndicated Loan Working Group. The new content will published in the subsequent version depending on progress. For more information, please see the <a class="web" href="http://www.fpml.org/roadmap/roadmap.pdf">FpML Roadmap</a>.</p>

      </div>
      <div>
         <div>
            <h2>
               <a id="s15">15 COMMODITY DERIVATIVE PRODUCT ARCHITECTURE</a>
            </h2>
         </div>
	
	
	
	
	

         <div>
            <h3>
               <a id="s15.1">15.1 Introduction</a>
            </h3>
		
            <p>This section provides a detailed description of the product architecture for commodity derivatives. FpML provides support for commodity swaps (whether fix/float or float/float) and commodity options (American, European and Asian). Physically-settled trades are also covered including swaps for Electricity, Natural Gas, Oil, and Coal commodities. Support for Bullion Forwards is also included. A representation for a commodity underlyer has also been introduced, which is used within the commodity products but that can also be used within other products such as equity baskets.</p>
		
            <p>For an overview of the commodites coverage in FpML and its linking with the legal documentation see the following document: <a class="web" href="confirmations/com-coverage-matrix.pdf">FpML Commodities Coverage Matrix (pdf file)</a>
            </p>
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s15.2">15.2 Commodity Underlyer</a>
               </h3>
            </div>
		
            <p>The 'commodity' underlyer is meant to identify the commodity ‘index’ which is subject to the trade and is flexible enough to support agricultural products, and energy. Support for other commodity types has not been fully evaluated but this does not preclude their being able to be represented A number of global elements are already defined in the FpML schema for various asset types. The commodity underlyer follows the same model.</p>
		
            <a href="images/commodity-derivatives/Commodity.jpg">
               <img src="images/commodity-derivatives/Commodity.jpg" alt="images/commodity-derivatives/Commodity.jpg" class="image"/>
            </a>
		
            <p>The 'instrumentId' and the 'description' elements are derived from the IdentifiedAsset type, which is used by multiple underlyers. The 'instrumentId' contains the unique identifier for the asset, and is intended to hold a Commodity Reference Price in the format set out by ISDA in the 1993 or 2005 Commodity Definitions. However, a CUSIP, ISIN, or any other identifier could also be used. The 'description' contains the name of the asset.</p>
		
            <p>The following sequence of elements is optional and they are specified only in the event that no ISDA Commodity Reference Price or other identifier for this commodity ‘index’ exists.</p>
		
            <ul class="bulleted">
			
               <li>The 'commodityBase' element identifies the base type of the commodity being traded, for example 'Oil'.</li>
			
               <li>The 'commodityDetails' also identifies the type of commodity but it is more specific than the base, for example 'Brent'.</li>
			
               <li>The 'unit' element identifies the unit in which the underlyer is denominated.</li>
			
               <li>The 'currency' identifies the currency in which the Commodity Reference Price is published.</li>
			
               <li>Either the 'exchange' or the 'publication' are specified. For those commodities being traded with reference to the price of a listed future, the exchange where that future is listed should be specified in the 'exchange' element. On the other hand, for those commodities being traded with reference to a price distributed by a publication, that publication should be specified in the 'publication' element.</li>
		
            </ul>
		
            <p>The 'specified Price' is not defined in the Commodity Reference Price and so needs to be stated in the underlyer definition as it will impact the calculation of the Floating Price.</p>
		
            <p>The 'deliveryDates' element is applicable for a Commodity Transaction that references a listed future.</p>
		
            <p>The 'deliveryDateRollConvention' specifies, for a Commodity Transaction that references a listed future via the 'deliveryDates' element, the day on which the specified future will roll to the next nearby month when the referenced future expires.</p>
		
            <p>The 'multiplier' specifies the multiplier associated with the transaction. This element is intended for use with freight transactions.</p>
	
	
         </div>
         <div>
            <div>
               <h3>
                  <a id="s15.3">15.3 commoditySwap</a>
               </h3>
            </div>
		
            <p>The commodity swap product is designed to support both fixed/float swaps and float/float swaps. There is also support for describing the attributes of physical commodity delivery. Its design is fully compatible with other FpML products and reuses standard common types.</p>
		
            <p>As with all products in FpML the commodity swaps are accessed through a global element 'commoditySwap' which can substitute the 'product' element used in the construction of trade structures. The following diagram outlines the product structure.</p>
		
            <a href="images/commodity-derivatives/commoditySwap.jpg">
               <img src="images/commodity-derivatives/commoditySwap.jpg" alt="images/commodity-derivatives/commoditySwap.jpg" class="image"/>
            </a>
		
            <p>The 'commoditySwap' structure only defines parameters for product-related information (e.g. dates, rates, underlying commodity, price source, etc.). Other trade-related information (e.g. trade date, identifiers, legal documentation, etc.) is held in the containing trade structure.</p>
		
            <p>The repeating 'fixedLeg' and 'floatingLeg' elements contain the details of any scheduled payments or exchanges during the life of the instrument and are described later. A simple commodity swap would contain two legs, typically one fixed and one floating, but the repetition allows more complex multi-legged exchanges to be described.</p>
		
            <p>The product representation of physically-settled trades is done within 'coalPhysicalLeg', 'elecricityPhysicalLeg', 'gasPhysicalLeg', 'oilPhysicalLeg' paired with  'fixedLeg' or 'floatingLeg'  - see details in the Physical Leg section.</p>
		
            <p>The optional 'commonPricing' flag may be relevant for a Transaction that references more than one Commodity Reference Price. If Common Pricing is not specified or its value is set to 'false', it will be deemed not to apply.</p>
		
            <p>The optional 'marketDisruption' structure defines how the product should behave if there is a market disruption as defined in the 'ISDA 1993 Commodity Definitions' or in the 'ISDA 2005 Commodity Definitions', as applicable.</p>
		
            <a href="images/commodity-derivatives/CommodityMarketDisruption.jpg">
               <img src="images/commodity-derivatives/CommodityMarketDisruption.jpg" alt="images/commodity-derivatives/CommodityMarketDisruption.jpg" class="image"/>
            </a>
		
            <p>The commodity swap's 'rounding' element, if present, defines the direction and number of decimal places to which rounding should be performed in all amount calculations.</p>
		
		
		
	
            <div>
               <h4>
                  <a id="s15.3.1">15.3.1 fixedLeg</a>
               </h4>
			
               <p>A schedule of fixed payments associated with a commodity swap are defined within a 'fixedLeg' using the following structure.</p>
			
               <a href="images/commodity-derivatives/FixedPriceLeg.jpg">
                  <img src="images/commodity-derivatives/FixedPriceLeg.jpg" alt="images/commodity-derivatives/FixedPriceLeg.jpg" class="image"/>
               </a>
			
               <p>As with other FpML leg structures the payer and receiver parties are explicitly indicated in the 'payerPartyReference' and 'receiverPartyReference'.</p>
			
               <p>The role of the remaining elements is as follows:</p>
			
               <ul class="bulleted">
				
                  <li>The 'calculationPeriods' or 'calculationDates' if the Calculation Periods are all one day long or the 'calculationPeriodsSchedule' is only intended to be used if the Calculation Periods differ on each leg. If Calculation Periods mirror another leg, then the 'calculationPeriodsReference' element should be used to point to the Calculation Periods on that leg or 'calculationPeriodsDatesReference' element should be used to point to the single-day-duration Calculation Periods on that leg or the 'calculationPeriodsScheduleReference' can be used to point to the Calculation Periods Schedule for that leg.</li>
				
                  <li>The 'fixedPrice' structure defines the price for a given unit of the underlying commodity where that price is fixed for the life of the trade.</li>
				
                  <li>On the other hand, if the fixed price varies over the life of the trade, then the 'fixedPriceSchedule' structure is used instead of the 'fixedPrice'. Note that the intention is that a fixed price step should be specified for each Calculation Period in the trade, regardless of whether there is a change in value between two periods. This is so as to match the fixed price schedule to the calculation periods as clearly as possible. The fixed price steps must be in chronological order (i.e the first step corresponds to the first Calculation Period, the last step to the last Calculation Period).</li>
				
                  <li>The 'totalPrice' structure specifies the total amount of all fixed payments due during the term of the trade.</li>
				
                  <li>The notional amount is specified stating either the 'notionalQuantity' or if the notional changes over the life of the transaction, then the 'notionalQuantitySchedule' is specified. The 'settlementPeriodsNotionalQuantity' should be specified for an electricity transaction, the Notional Quantity for a one or more groups of Settlement Periods to which the Notional Quantity is based. If the schedule differs for different groups of Settlement Periods, this element should be repeated. In addition, the 'totalNotionalQuantity' must be specified. Note that the intention is that a notional step should be specified for each Calculation Period in the trade, regardless of whether there is a change in value between two periods. This is so as to match the notional quantity schedule to the calculation periods as clearly as possible. The notional steps must be in chronological order (i.e the first step corresponds to the first Calculation Period, the last step to the last Calculation Period). If notional amount mirror another leg, then the 'quantityReference' element should be used to point to the Notional Quantity.</li>
				
                  <li>The 'paymentDates' structure supports either the definition of dates as either a series of unadjusted dates along with a date roll convention and business center list for adjustment, or as set of adjusted dates relative to some other date schedule defined elsewhere in the product (e.g. in the floating leg).</li>
				
                  <li>The 'relativePaymentDates' are specified when the payment dates are relative to the calculation periods.</li>
				
                  <li>The Flat Rate, applicable to Wet Voyager Charter Freight Swaps. Whether the Flat Rate is the New Worldwide Tanker Nominal Freight Scale for the Freight Index Route taken at the Trade Date of the transaction or taken on each Pricing Date. The 'flatRateAmount', If 'flatRate' is set to 'Fixed', is the actual value of the Flat Rate.</li>
			
               </ul>
		
            </div>
            <div>
               <h4>
                  <a id="s15.3.2">15.3.2 floatingLeg</a>
               </h4>
			
               <p>Each 'floatingLeg' defines a series of financial payments for a commodity who's value is derived from a floating price source such as an exchange.</p>
			
               <a href="images/commodity-derivatives/FloatingPriceLeg.jpg">
                  <img src="images/commodity-derivatives/FloatingPriceLeg.jpg" alt="images/commodity-derivatives/FloatingPriceLeg.jpg" class="image"/>
               </a>
			
               <p>As with the 'fixedLeg' they parties obligation to pay and receive the payments are explicitly indicated by the 'payerPartyReference' and 'receiverPartyReference' elements.</p>
			
               <p>Two structures distinguish the 'floatingLeg' from the 'fixedLeg': the existence of the 'commodity' underlyer (see description above at the Commodity Underlyer section) and the 'calculation' structure within the floating leg.</p>
			
		
               <div>
                  <h5>
                     <a id="s15.3.2.1">15.3.2.1 calculation</a>
                  </h5>
				
                  <p>The 'calculation' structure captures details relevant to the calculation of the floating price.</p>
				
                  <a href="images/commodity-derivatives/FloatingLegCalculation.jpg">
                     <img src="images/commodity-derivatives/FloatingLegCalculation.jpg" alt="images/commodity-derivatives/FloatingLegCalculation.jpg" class="image"/>
                  </a>
				
                  <p>The structure is defined by the following elements:</p>
				
                  <ul class="bulleted">
					
                     <li>The 'pricingDates' represent the dates on which prices are observed for the underlyer.</li>
					
                     <li>The 'averagingMethod' element specifies the method of averaging specified by the parties when more than one pricing date is applicable.</li>
					
                     <li>If the Notional Quantity is specified in a unit that does not match the unit in which the Commodity Reference Price is quoted, the scaling or conversion factor used to convert the Commodity Reference Price unit into the Notional Quantity unit should be stated in the 'conversionFactor' element. If there is no conversion, the 'conversionFactor' element is not intended to be used.</li>
					
                     <li>The 'rounding' structure defines the rounding direction and precision for price values.</li>
					
                     <li>In some trades, there may be a spread under or over the Commodity Reference Price, in that case the spread may defined by the 'spread' element or if the spread is not constant over the life of the trade, the 'spreadStep' will be used to define the spread schedule. Note that the intention is that a spread step should be specified for each Calculation Period in the trade, regardless of whether there is a change in value between two periods. This is so as to match the spread schedule to the calculation periods as clearly as possible. The spread steps must be in chronological order (i.e the first step corresponds to the first Calculation Period, the last step to the last Calculation Period).</li>
					
                     <li>The FX observations to be used to convert the observed Commodity Reference Price to the Settlement Currency are covered by the 'fx' element.</li>
				
                  </ul>
			
               </div>
            </div>
            <div>
               <h4>
                  <a id="s15.3.3">15.3.3 Physical Leg</a>
               </h4>
			
			
		
               <div>
                  <h5>
                     <a id="s15.3.3.1">15.3.3.1 Coverage</a>
                  </h5>
				
                  <p>The support for physically-settled commodities trades includes,</p>
				
                  <ul class="bulleted">
					
                     <li>Natural Gas</li>
					
                     <li>Oil</li>
					
                     <li>Electricity</li>
					
                     <li>Coal</li>
				
                  </ul>
			
               </div>
               <div>
                  <h5>
                     <a id="s15.3.3.2">15.3.3.2 Product Representation</a>
                  </h5>
				
                  <p>The product representation of physically-settled trades is done within the commoditySwap product element by adding a family of physical legs.</p>
				
                  <ul class="bulleted">
					
                     <li>Fixed price transaction = xxxPhysicalLeg + fixedLeg</li>
					
                     <li>Floating price transaction = xxxPhysicalLeg + floatingLeg</li>
				
                  </ul>
				
                  <p>Note: xxx gets replaced by oil, gas, electricity, and coal.</p>
				
                  <p>The following structures vary between all these commodities,</p>
				
                  <ul class="bulleted">
					
                     <li>Delivery periods</li>
					
                     <li>Product</li>
					
                     <li>Delivery</li>
					
                     <li>Quantities</li>
				
                  </ul>
				
				
				
				
			
                  <div>
                     <h5>
                        <a id="s15.3.3.2.1">15.3.3.2.1 Gas Physical Leg</a>
                     </h5>
					
                     <p>Physically settled natural gas leg.</p>
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s15.3.3.2.1.1">15.3.3.2.1.1 gasPhysicalLeg - deliveryPeriods</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/gasPhysicalLeg-deliveryPeriods.jpg">
                           <img src="images/commodity-derivatives/gasPhysicalLeg-deliveryPeriods.jpg" alt="images/commodity-derivatives/gasPhysicalLeg-deliveryPeriods.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.1.2">15.3.3.2.1.2 gasPhysicalLeg - product</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/gasPhysicalLeg-product.jpg">
                           <img src="images/commodity-derivatives/gasPhysicalLeg-product.jpg" alt="images/commodity-derivatives/gasPhysicalLeg-product.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.1.3">15.3.3.2.1.3 gasPhysicalLeg - deliveryConditions</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/gasPhysicalLeg-deliveryConditions.jpg">
                           <img src="images/commodity-derivatives/gasPhysicalLeg-deliveryConditions.jpg" alt="images/commodity-derivatives/gasPhysicalLeg-deliveryConditions.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.1.4">15.3.3.2.1.4 gasPhysicalLeg - deliveryQuantity</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/gasPhysicalLeg-deliveryQuantity.jpg">
                           <img src="images/commodity-derivatives/gasPhysicalLeg-deliveryQuantity.jpg" alt="images/commodity-derivatives/gasPhysicalLeg-deliveryQuantity.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
                  <div>
                     <h5>
                        <a id="s15.3.3.2.2">15.3.3.2.2 Oil  Physical Leg</a>
                     </h5>
					
                     <p>Physically settled oil or refined products leg.</p>
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s15.3.3.2.2.1">15.3.3.2.2.1 oilPhysicalLeg - deliveryPeriods</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/oilPhysicalLeg-deliveryPeriods.jpg">
                           <img src="images/commodity-derivatives/oilPhysicalLeg-deliveryPeriods.jpg" alt="images/commodity-derivatives/oilPhysicalLeg-deliveryPeriods.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.2.2">15.3.3.2.2.2 oilPhysicalLeg - product</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/oilPhysicalLeg-product.jpg">
                           <img src="images/commodity-derivatives/oilPhysicalLeg-product.jpg" alt="images/commodity-derivatives/oilPhysicalLeg-product.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.2.3">15.3.3.2.2.3 oilPhysicalLeg - deliveryConditions</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/oilPhysicalLeg-deliveryConditions.jpg">
                           <img src="images/commodity-derivatives/oilPhysicalLeg-deliveryConditions.jpg" alt="images/commodity-derivatives/oilPhysicalLeg-deliveryConditions.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.2.4">15.3.3.2.2.4 oilPhysicalLeg - deliveryQuantity</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/oilPhysicalLeg-deliveryQuantity.jpg">
                           <img src="images/commodity-derivatives/oilPhysicalLeg-deliveryQuantity.jpg" alt="images/commodity-derivatives/oilPhysicalLeg-deliveryQuantity.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
                  <div>
                     <h5>
                        <a id="s15.3.3.2.3">15.3.3.2.3 Electricity Physical Leg</a>
                     </h5>
					
                     <p>Physically settled electricity leg.</p>
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s15.3.3.2.3.1">15.3.3.2.3.1 electricityPhysicalLeg - deliveryPeriods</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/electricityPhysicalLeg-deliveryPeriods.jpg">
                           <img src="images/commodity-derivatives/electricityPhysicalLeg-deliveryPeriods.jpg" alt="images/commodity-derivatives/electricityPhysicalLeg-deliveryPeriods.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.3.2">15.3.3.2.3.2 electricityPhysicalLeg - product</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/electricityPhysicalLeg-product.jpg">
                           <img src="images/commodity-derivatives/electricityPhysicalLeg-product.jpg" alt="images/commodity-derivatives/electricityPhysicalLeg-product.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.3.3">15.3.3.2.3.3 electricityPhysicalLeg - deliveryConditions</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/electricityPhysicalLeg-deliveryConditions.jpg">
                           <img src="images/commodity-derivatives/electricityPhysicalLeg-deliveryConditions.jpg" alt="images/commodity-derivatives/electricityPhysicalLeg-deliveryConditions.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.3.4">15.3.3.2.3.4 electricityPhysicalLeg - deliveryQuantity</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/electricityPhysicalLeg-deliveryQuantity.jpg">
                           <img src="images/commodity-derivatives/electricityPhysicalLeg-deliveryQuantity.jpg" alt="images/commodity-derivatives/electricityPhysicalLeg-deliveryQuantity.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
                  <div>
                     <h5>
                        <a id="s15.3.3.2.4">15.3.3.2.4 Coal Physical Leg</a>
                     </h5>
					
                     <p>Physically settled coal leg.</p>
					
					
					
					
				
                     <div>
                        <h5>
                           <a id="s15.3.3.2.4.1">15.3.3.2.4.1 coalPhysicalLeg - deliveryPeriods</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/coalPhysicalLeg-deliveryPeriods.jpg">
                           <img src="images/commodity-derivatives/coalPhysicalLeg-deliveryPeriods.jpg" alt="images/commodity-derivatives/coalPhysicalLeg-deliveryPeriods.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.4.2">15.3.3.2.4.2 coalPhysicalLeg - product</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/coalPhysicalLeg-product.jpg">
                           <img src="images/commodity-derivatives/coalPhysicalLeg-product.jpg" alt="images/commodity-derivatives/coalPhysicalLeg-product.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.4.3">15.3.3.2.4.3 coalPhysicalLeg - deliveryConditions</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/coalPhysicalLeg-deliveryConditions.jpg">
                           <img src="images/commodity-derivatives/coalPhysicalLeg-deliveryConditions.jpg" alt="images/commodity-derivatives/coalPhysicalLeg-deliveryConditions.jpg" class="image"/>
                        </a>
					
                     </div>
                     <div>
                        <h5>
                           <a id="s15.3.3.2.4.4">15.3.3.2.4.4 coalPhysicalLeg - deliveryQuantity</a>
                        </h5>
						
                        <a href="images/commodity-derivatives/coalPhysicalLeg-deliveryQuantity.jpg">
                           <img src="images/commodity-derivatives/coalPhysicalLeg-deliveryQuantity.jpg" alt="images/commodity-derivatives/coalPhysicalLeg-deliveryQuantity.jpg" class="image"/>
                        </a>
					
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s15.4">15.4 commodityOption</a>
               </h3>
            </div>
		
            <p>The product support for financially-settled  and physically-settled commodity options in FpML is based on the creation of a new 'commodityOption' product. The product references the 'commodity' underlyer in order to support the underlying asset of the option.</p>
		
            <a href="images/commodity-derivatives/commodityOption.jpg">
               <img src="images/commodity-derivatives/commodityOption.jpg" alt="images/commodity-derivatives/commodityOption.jpg" class="image"/>
            </a>
		
            <p>All FpML products inherit two optional elements from the Product type: 'productType' and 'productId'. The 'productType' defines a classification of the type of product. FpML defines a simple product categorization using a coding scheme. The 'productId' contains a product reference identifier allocated by a party. In this case, FpML does not define the domain values associated with this element. </p>
		
            <p>The 'buyerPartyReference' and 'sellerPartyReference' contain references to the parties that buy or sell the instrument respectively. Buying the instrument means paying for the instrument and receiving the rights defined by it. On the other hand, selling the instrument means granting the rights defined by the instrument and in return receiving a payment for it.</p>
		
            <p>The optionType element is for specifying whether this is a call option or a put option.</p>
		
            <p>The choice allows to selecet the financially-settled commodity options or physically-settled options.</p>
		
		
		
            <p>The 'premium' element defines the option premium payable by the buyer to the seller. Should the premium differ over the course of an Asian options life (e.g. because delivery is per calendar day which is reflected in the premium), a premium schedule should be specified. Note that the intention is that a premium step should be specified for each Calculation Period in the trade, regardless of whether there is a change in value between two periods. This is so as to match the premium schedule to the calculation periods as clearly as possible. The premium steps must be in chronological order (i.e the first step corresponds to the first Calculation Period, the last step to the last Calculation Period).</p>
		
            <p>The 'commonPricing', 'marketDisruption', and 'rounding' elements are common across all commodity transactions. For a detailed description of them see the commoditySwap section.</p>
	
            <div>
               <h4>
                  <a id="s15.4.1">15.4.1 CommodityFinancialOption</a>
               </h4>
			
               <p>The CommodityFinancialOption.model is specific to financially-settled commodity options:</p>
			
               <a href="images/commodity-derivatives/CommodityFinancialOption.jpg">
                  <img src="images/commodity-derivatives/CommodityFinancialOption.jpg" alt="images/commodity-derivatives/CommodityFinancialOption.jpg" class="image"/>
               </a>
			
               <p>The 'commodity' underlyer component is specified using a reference to the 'commodity' asset (see description above at the Commodity Underlyer section).</p>
			
               <p>The following elements are specific to asian/averaging commodity options only:</p>
			
               <ul class="bulleted">
				
                  <li>The 'effectiveDate' of the Commodity Option Transaction. Note that the Termination/Expiration Date should be specified in expirationDate within the CommodityAmericanExercise type or the CommodityEuropeanExercise type, as applicable.</li>
				
                  <li>The Calculation Periods are represented explicitly with the 'calculationPeriods' element or as a parametric representation with the 'calculationPeriodsSchedule' structure.</li>
				
                  <li>The 'pricingDates' element defines the dates on which the option will price.</li>
				
                  <li>The 'averagingMethod' is present if there is more than one 'pricingDates' element.</li>
			
               </ul>
			
               <p>As with the 'commoditySwap', the notional amount of the 'commodityOption' is specified stating either the 'notionalQuantity' or if the notional changes over the life of the transaction, then the 'notionalQuantitySchedule' is specified. In addition, the 'totalNotionalQuantity' must be specified. Note that the intention is that a notional step should be specified for each Calculation Period in the trade, regardless of whether there is a change in value between two periods. This is so as to match the notional quantity schedule to the calculation periods as clearly as possible. The notional steps must be in chronological order (i.e the first step corresponds to the first Calculation Period, the last step to the last Calculation Period).</p>
			
               <p>The 'exercise' structure contains the parameters for defining how the commodity option can be exercised and how it is settled.</p>
			
               <p>The different options for specifying the strike price per unit will consist of a single strike price of a strike price schedule. Note that the intention is that a strike price per unit step should be specified for each Calculation Period in the trade, regardless of whether there is a change in value between two periods. This is so as to match the strike price schedule to the calculation periods as clearly as possible. The strike price per unit of the strike price per unit steps must be in chronological order (i.e the first step corresponds to the first Calculation Period, the last step to the last Calculation Period).</p>
		
            </div>
            <div>
               <h4>
                  <a id="s15.4.2">15.4.2 CommodityPhysicalOption</a>
               </h4>
			
               <p>The CommodityPhysicalOption.model is specific to physically-settled commodity options:</p>
			
               <a href="images/commodity-derivatives/CommodityPhysicalOption.jpg">
                  <img src="images/commodity-derivatives/CommodityPhysicalOption.jpg" alt="images/commodity-derivatives/CommodityPhysicalOption.jpg" class="image"/>
               </a>
			
               <p>The approach is similar to that used for interest rate swaptions by embedding a physically-settled swap/forward transaction within the option transaction. So that the exercise of an option results in a new physically-settled swap or forward transaction.</p>
			
               <p>The 'physicalExercise' structure defines how the commodity option can be exercised into a physical transaction.</p>
		
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s15.5">15.5 commodityForward</a>
               </h3>
            </div>
		
            <p>The commodityForward product element supports the representation of Bullion Forwards. Whilst some commodity forwards are booked as single period swaps, precious forwards are extremely basic trades and are confirmed under a different ISDA confirmation template</p>
		
            <p>Even though the initial scope is limited to Bullion Forward, the intention of the working group is to allow support for other commodity classes should this be required.</p>
		
            <a href="images/commodity-derivatives/commodityForward.jpg">
               <img src="images/commodity-derivatives/commodityForward.jpg" alt="images/commodity-derivatives/commodityForward.jpg" class="image"/>
            </a>
		
		
	
            <div>
               <h4>
                  <a id="s15.5.1">15.5.1 fixedLeg</a>
               </h4>
			
               <p>The fixed payment of the Commodity Forward product is represented using the fixedLeg element of type NonPeriodicFixedPriceLeg.</p>
			
               <a href="images/commodity-derivatives/fixedLeg.jpg">
                  <img src="images/commodity-derivatives/fixedLeg.jpg" alt="images/commodity-derivatives/fixedLeg.jpg" class="image"/>
               </a>
		
            </div>
            <div>
               <h4>
                  <a id="s15.5.2">15.5.2 bullionPhysicalLeg</a>
               </h4>
			
               <p>The intention of the new leg is to re-use as many existing commodity components as possible to achieve a flexible implementation of a forward that will be adaptable for use with further commodity classes.</p>
			
               <p>Consequently, the BullionPhysicalLeg component will be a member of a choice group such that further commodity types can be added over time.</p>
			
               <a href="images/commodity-derivatives/bullionPhysicalLeg.jpg">
                  <img src="images/commodity-derivatives/bullionPhysicalLeg.jpg" alt="images/commodity-derivatives/bullionPhysicalLeg.jpg" class="image"/>
               </a>
		
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s16">16 PRICING AND RISK ARCHITECTURE</a>
            </h2>
         </div>
        
        
         

                
        
        
        
        
        

         <div>
            <h3>
               <a id="s16.1">16.1 Introduction</a>
            </h3>
                
            <p>This section is the initial deliverable of the FpML Pricing and Risk
                        Working Group (PRWG). </p>
                
            <p>Included in this section are:</p>
                
            <ul class="bulleted">
                        
               <li>A very brief introduction to derivatives pricing and risk, and how
                                this specification relates to those processes.</li>
                        
               <li>The scope of the initial deliverable</li>
                        
               <li>The requirements to address that scope</li>
                        
               <li>A high-level overview of the structures in the schema used to
                                address the requirements.</li>
                        
               <li>A more detailed explanation of the usage scenarios together with
                                examples</li>
                        
               <li>A short glossary</li>
                
            </ul>
        
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.2">16.2 Derivatives Pricing and Risk</a>
               </h3>
            </div>
                
                
        
            <div>
               <h4>
                  <a id="s16.2.1">16.2.1 Pricing</a>
               </h4>
                        
               <p>Interest rate derivatives are typically priced (a.k.a. “valued”)
                                by forecasting the future price and price evolution of the assets
                                that underlie the derivative, using these forecasts to estimate the
                                future cash flows of the derivative instrument, and then discounting
                                these cash flows to the preset.</p>
                        
               <p>For example, interest rate swap cash flows are typically
                                calculated based in part on an floating interest rate index (such as
                                US Dollar 3 month LIBOR). An interest rate swap’s value is usually
                                estimated by forecasting the floating rate (in this example,
                                USD-LIBOR-3M), calculating the forecast cash flows, and then
                                discounting them to the present using a discount curve.</p>
                        
               <p>More complex products such as option products frequently use a
                                similar process, but price the instrument under a variety of
                                forecasts and estimate the value of the derivative by averaging or
                                otherwise combining the various forecasts.</p>
                        
               <p>This specification describes ways to represent the data that is
                                needed for generating these forecasts, if required for valuation
                                reporting.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.2.2">16.2.2 Valuation and Risk Reporting</a>
               </h4>
                        
               <p>A series of values (“measures”) can be computed about
                                derivatives. The measures include:</p>
                        
               <ul class="bulleted">
                                
                  <li>a variety of price-like values (e.g. Net Present Value,
                                        Clean Price, Dirty Price, Accrued Interest, Cash Payable,
                                        etc.), </li>
                                
                  <li>the sensitivities of some of the above values (particularly
                                        the NPV) to changes in pricing assumptions</li>
                                
                  <li>other risk measures, such as Potential Exposure, Value At
                                        Risk, etc.</li>
                        
               </ul>
                        
               <p>The specification provides way to represent these measures and if
                                desired to describe them in some detail.</p>
                
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.3">16.3 Pricing and Risk Scope</a>
               </h3>
            </div>
        
            <p>The Pricing and Risk scope for FpML 5.0 Recommendation is:</p>
        
            <p>Valuation and basic risk on the following products:</p>
        
            <ul class="bulleted">
                
               <li>Vanilla IR Swaps (single and dual currency fix/float swaps, non-CMS/CMT) <ul class="bulleted">
                                
                     <li>Valuation reporting (trades only)</li>
                                
                     <li>Market Data (Yield Curves, FX spot rates) </li>
                                
                     <li>Market risk reporting (Delta Risk vs. Curve Inputs, FX
                                        exposures) for trades</li>
                        
                  </ul>
                
               </li>
                
               <li>Credit Default Swaps <ul class="bulleted">
                                
                     <li>Valuation reporting for trades</li>
                                
                     <li>Market Data (ir curves, credit spread, recovery rate,
                                        probability of default)</li>
                                
                     <li>Market risk reporting (risk with respect to. the above
                                        variables) for trades</li>
                        
                  </ul>
                
               </li>
                
               <li>IR Caps/Floors/ EuropeanSwaptions, and corresponding risk types <ul class="bulleted">
                                
                     <li>Valuation reporting for trades</li>
                                
                     <li>Market data (volatility surfaces)</li>
                                
                     <li>Market risk reporting <ul class="bulleted">
                                                
                           <li>Volatility/Vega Risk</li>
                                                
                           <li>Convexity/Gamma Risk (applies to all products)</li>
                                                
                           <li>Time Decay/Theta (applies to all products)</li>
                                        
                        </ul>
                                
                     </li>
                        
                  </ul>
                
               </li>
                
               <li>Portfolio level valuation and risk <ul class="bulleted">
                                
                     <li>Valuation</li>
                                
                     <li>Risk reporting</li>
                        
                  </ul>
                
               </li>
        
            </ul>
        
            <p>The Pricing and Risk Working Group has also provided some definitions that might
                be useful for other types of valuation and risk reporting.</p>

         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.4">16.4 Requirements</a>
               </h3>
            </div>
                
                
                
                
                
                
                
        
            <div>
               <h4>
                  <a id="s16.4.1">16.4.1 Introduction</a>
               </h4>
                        
               <p>The aim of the FpML Pricing and Valuations Working Group (PRWG)
                                is to define a set of extensions to the FpML schema that allow the
                                description of:</p>
                        
               <ul class="bulleted">
                                
                  <li>A request to provide valuation and risk information about a
                                        trade or group of trades, henceforth referred to as a
                                        Valuation Request.</li>
                                
                  <li>A report providing valuation and risk information about a
                                        trade or group trades, henceforth referred to as a Valuation
                                        Report.</li>
                        
               </ul>
                
            </div>
            <div>
               <h4>
                  <a id="s16.4.2">16.4.2 Usage Scenarios</a>
               </h4>
                        
               <p>The intended uses of this specification include:</p>
                        
               <ul class="bulleted">
                                
                  <li>Submitting valuation requests by relatively unsophisticated
                                        clients to more sophisticated providers, and returning the
                                        results.</li>
                                
                  <li>Submitting valuation requests from sophisticated trading
                                        users or applications to a valuation engine or system.</li>
                                
                  <li>Providing sensitivity results with a variety of levels of
                                        rigor and definitional detail</li>
                                
                  <li>Communicating market data between clients and providers for
                                        the purposes of either requesting valuations or explaining
                                        how valuation results were obtained.</li>
                        
               </ul>
                        
               <p>These scenarios are described below in more detail in the “Use
                                Cases and Examples” section.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.4.3">16.4.3 Product Coverage</a>
               </h4>
                        
               <p>The products to be supported are those covered by the FpML 4.0
                                specification. However, we will in particular focus on the following
                                product groupings:</p>
                        
               <ul class="bulleted">
                                
                  <li>Vanilla IR Swaps (single and dual currency fix/float swaps,
                                        non CMS/CMT)</li>
                                
                  <li>Credit Default Swaps</li>
                                
                  <li>IR Caps/Floors and European Swaptions.</li>
                        
               </ul>
                
            </div>
            <div>
               <h4>
                  <a id="s16.4.4">16.4.4 Valuation and Risk Measures</a>
               </h4>
                        
               <p>The specification and reporting of following valuation and risk
                                measures are to be supported:</p>
                        
               <ul class="bulleted">
                                
                  <li>Net Present Value</li>
                                
                  <li>Market Risk Sensitivities, including, but not limited to: <ul class="bulleted">
                                                
                        <li>Interest Rate Delta (Sensitivity to Curve
                                                  Inputs)</li>
                                                
                        <li>Interest Rate Delta (Sensitivity to Forward
                                                  Rates)</li>
                                                
                        <li>Interest Rate Vega</li>
                                                
                        <li>Interest Rate Gamma</li>
                                                
                        <li>FX Spot Sensitivity</li>
                                                
                        <li>Credit Spread Sensitivity</li>
                                                
                        <li>Sensitivity to Probability of Default</li>
                                                
                        <li>Recovery Rate sensitivity</li>
                                        
                     </ul>
                                
                  </li>
                        
               </ul>
                        
               <p>In addition, the schema should be easily extensible to allow
                                additional valuation or risk measures to specified and
                        reported.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.4.5">16.4.5 Market and Pricing Data</a>
               </h4>
                        
               <p>The schema should allow the description of market or pricing
                                data. Here we refer to market data as observable market rates or
                                prices in some structured form (e.g. a yield curve of interest
                                rates), and pricing data as market data that has been processed in
                                some way (e.g. a term structure of discount factors). </p>
                        
               <p>This market and pricing data may be referred to by the Valuation
                                Request as data to be used in calculating the requested valuation
                                and risk measures, or can be included in the Valuation Report as
                                data used to produce the reported valuation and risk measures.</p>
                        
               <p>In addition, a Valuation Request may refer to market and pricing
                                data (as a group) by reference (e.g. an identifier denoting ‘use
                                current market data’ or ‘use yesterday’s end-of-day market
                        data).</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.4.6">16.4.6 Valuation Scenarios</a>
               </h4>
                        
               <p>The schema should allow the specification of shocks to one or
                                more market data elements, collectively referred to as a Scenario,
                                and the calculation and reporting of all applicable valuation and
                                risk measures in the context of the Scenario rather than the base
                                market data.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.4.7">16.4.7 Portfolios</a>
               </h4>
                        
               <p>The schema should allow specification of a Valuation Request for
                                a single trade or group of trades, henceforth referred to as a
                                Portfolio. A trade may be defined ‘in place’, i.e. as a complete
                                FpML trade representation, or by reference (e.g. a trade
                                identifier). A portfolio may be specified in the following ways:</p>
                        
               <ul class="bulleted">
                                
                  <li>A list of trades defined ‘in place’</li>
                                
                  <li>A list of trade references</li>
                                
                  <li>A portfolio reference (e.g. a portfolio identifier)</li>
                                
                  <li>A query or logical definition (e.g. all trades with
                                        counterparty x)</li>
                        
               </ul>
                
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.5">16.5 Overview of design</a>
               </h3>
            </div>
                
                
                
                
                
                
                
        
            <div>
               <h4>
                  <a id="s16.5.1">16.5.1 Overview</a>
               </h4>
                        
               <p>The Pricing and Risk schema is intended to meet the requirements
                                described above. Because the requirements include both high-level,
                                simplified representations as well as sophisticated, detailed
                                definitions, the schema has been designed to allow a variety of
                                amounts of detail to be provided. It will be up to the client and
                                the provider to negotiate minimum requirements for data as well as
                                well as the list of maximum supported elements.</p>
                        
               <p>The schema has been subdivided into several subschema files,
                                corresponding to different topic areas, to reduce the number of
                                definitions that a user needs to review and understand to be able to
                                use the schema. These subschema include (where x-y is the FpML
                                version number):</p>
                        
               <ul class="bulleted">
                                
                  <li>fpml-valuation-shared-x-y.xsd – This includes base types
                                        used throughout the pricing and risk schema, such as
                                        quotations characteristics, measure types, etc.</li>
                                
                  <li>fpml-valuation-x-y.xsd – This includes valuation result sets
                                        and related definitions.</li>
                                
                  <li>fpml-reporting-x-y.xsd – This include messages used for
                                        requesting and providing valuation reporting results.</li>
                                
                  <li>fpml-mktenv-x-y.xsd – This include definitions of market
                                        environment data structures such as yield curves, volatility
                                        matrices, and the like. It contains the largest set of
                                        definitions, but is not necessary for simple uses of the
                                        standard.</li>
                                
                  <li>fpml-riskdef-x-y.xsd – This includes detailed definitions of
                                        valuation and sensitivity results. They include detailed
                                        definitions of sensitivity calculations and are intended to
                                        be used by sophisticated users.</li>
                        
               </ul>
                
            </div>
            <div>
               <h4>
                  <a id="s16.5.2">16.5.2 Shared Types</a>
               </h4>
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.5.2.1">16.5.2.1 Introduction</a>
                  </h5>
                                
                  <p>The Pricing and Risk shared types include ways to
                                        represent valuations about single objects, such as assets or
                                        pricing inputs. They include quotation characteristics,
                                        measure types, and base level valuation
                                structures.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.2.2">16.5.2.2 Quotation Characteristics</a>
                  </h5>
                                
                  <p>The QuotationCharacteristics.model model group, and the
                                        corresponding type QuotationCharacteristics, allow a variety
                                        of descriptors to be applied to any particular quotation.
                                        These descriptors include items such as:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>The measure reported (ie. The type or purpose of the
                                                quotation)</li>
                                        
                     <li>The units of measure</li>
                                        
                     <li>Which point of view the quotation is expressed for
                                                (buyer, seller, mid-market)</li>
                                        
                     <li>The currency of the quotation</li>
                                        
                     <li>Whether the quotation is for opening of business, daily high/low/mid, close of day.</li>
                                        
                     <li>A business center or the exchange (e.g. stock or futures exchange) needs also to be supplied if the time is supplied.</li>
                                        
                     <li>The information source where a published or displayed market rate will be obtained, e.g. Telerate Page 3750.</li>
                                        
                     <li>The time the quotation was recorded.</li>
		           
                     <li>The valuation date is the date when the quote was computed.</li>
                                        
                     <li>How long the quotation remains valid</li>
                                        
                     <li>For cash flow quotations, the type of cash flow.
                                                (This is a sub-measure; in a future draft this may
                                                be generalized further).</li>
                                
                  </ul>
                                
                  <p>
                                        
                     <a href="images/valuation/QuotationCharacteristics.jpg">
                        <img src="images/valuation/QuotationCharacteristics.jpg" alt="images/valuation/QuotationCharacteristics.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The Quotation Characteristics structures are used
                                        relatively consistently throughout the schema to describe
                                        values that may be reported.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.2.3">16.5.2.3 Measure Types</a>
                  </h5>
                                
                  <p>“Measure Types” are represented by the “AssetMeasureType”
                                        type, which is an FpML scheme. A wide variety of measures
                                        have been defined (see “scheme values” for more
                                        information), but additional ones could also be defined.
                                        Current measures are divided into three broad categories:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Valuation measures, such as NPV, cash, accrued
                                                interest.</li>
                                        
                     <li>Sensitivity measures, such as
                                        	BucketedInterestRateSensitivity</li>
                                        
                     <li>Risk measures, such as Value at Risk.</li>
                                
                  </ul>
                                
                  <p>Please see the FpML “schemes” documentation for a
                                        complete list of the measures. A number of measure types
                                        have been defined for areas beyond the current scope of this
                                        working group.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.2.4">16.5.2.4 BasicQuotations</a>
                  </h5>
                                
                  <p>A BasicQuotation is a type that provides a value with a
                                        set of QuotationCharacteristics as defined above.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/BasicQuotation.jpg">
                        <img src="images/valuation/BasicQuotation.jpg" alt="images/valuation/BasicQuotation.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>A BasicQuotation is provided for quoting simple assets
                                        where sensitivities are not required, e.g. for quotes for
                                        input instruments in curves</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.2.5">16.5.2.5 Valuation</a>
                  </h5>
                                
                  <p>Valuation is a type used as a base for types that
                                        represent valuations, i.e. quotations associated with
                                        objects for a particular valuation scenario.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/Valuation.jpg">
                        <img src="images/valuation/Valuation.jpg" alt="images/valuation/Valuation.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It includes:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>An object reference, which identifies the object
                                                that is valued.</li>
                                        
                     <li>An optional valuation scenario reference, which
                                                identifies the valuation scenario that this
                                                valuation is for.</li>
                                
                  </ul>
                                
                  <p>Valuation is extended for objects such as assets and
                                        pricing structures.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.2.6">16.5.2.6 Basic Asset Valuation</a>
                  </h5>
                                
                  <p>A BasicAssetValuation object extends the Valuation type
                                        with a BasicQuotation. It is used for representing basic
                                        valuations of assets such as benchmarks assets used as
                                        inputs to a yield curve. It is not typically used for
                                        reporting values of derivative instruments.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/BasicValuation.jpg">
                        <img src="images/valuation/BasicValuation.jpg" alt="images/valuation/BasicValuation.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.5.3">16.5.3 Valuation Sets and related definitions</a>
               </h4>
                        
               <p>The following types are used to represent valuations of assets
                                and the corresponding sensitivity valuations. These definitions are
                                mostly contained in the fpml-pr-x-y.xsd subschema file.</p>
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.5.3.1">16.5.3.1 Quotation</a>
                  </h5>
                                
                  <p>The Quotation type is similar to the BasicQuotation but
                                        also allows a collection of sensitivities to be added. This
                                        allows sensitivities to be associated directly with a
                                        specific measure, to provide a precise relationship between
                                        the sensitivities and the base value. (Note that both the
                                        base value and the sensitivities are optional, so that only
                                        one or the other could be reported.)</p>
                                
                  <p>
                                        
                     <a href="images/valuation/Quotation.jpg">
                        <img src="images/valuation/Quotation.jpg" alt="images/valuation/Quotation.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.3.2">16.5.3.2 Asset Valuation</a>
                  </h5>
                                
                  <p>The AssetValuation type extends the Valuation types with
                                        a full Quotation and an FX rate. The full Quotation allows values (and the associated
                                        sensitivities) to be represented for a single asset, such as
                                        a trade or a portfolio. The FX rate indicates the rate of a currency conversion that may have been used to compute valuations.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/AssetValuation.jpg">
                        <img src="images/valuation/AssetValuation.jpg" alt="images/valuation/AssetValuation.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.3.3">16.5.3.3 Sensitivity Set</a>
                  </h5>
                                
                  <p>A Sensitivity Set is collection of sensitivities,
                                        normally related somehow. It is used for containing a mini
                                        “risk report” for a single asset, e.g. bucketed interest
                                        rate delta risk for a trade or portfolio.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/SensitivitySet.jpg">
                        <img src="images/valuation/SensitivitySet.jpg" alt="images/valuation/SensitivitySet.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It can contain:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>The name of the sensitivity sets, used to describe
                                                its purpose to a human.</li>
                                        
                     <li>A reference to the definition of the sensitivity
                                                set, used to fully explain the meaning of the
                                                sensitivities</li>
                                        
                     <li>A collection of sensitivities.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.3.4">16.5.3.4 Sensitivity</a>
                  </h5>
                                
                  <p>A sensitivity is a structure that contains a numerical
                                        result for the sensitivity of a valuation to a pricing input
                                        change:</p>
                                
                  <p>
                                        
                     <a href="images/valuation/Sensitivity.jpg">
                        <img src="images/valuation/Sensitivity.jpg" alt="images/valuation/Sensitivity.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It contains only a single numeric value. The associated
                                        valuation is obtained via containment (i.e. the sensitivity
                                        is directly under the same quotation structure). It has two
                                        optional attributes: A name, which is a human-readable
                                        description of the sensitivity value (e.g the “2Y” point on
                                        an interest rate delta curve), and a definitionRef, which is
                                        a reference to a Sensitivity Defintion (described in detail
                                        below). At least one of these two attributes must be filled
                                        it.</p>
                                
                  <p>The units of the sensitivity (and other quotation
                                        characteristics) can be provided via the Sensitivity
                                        Definition or the Sensitivity Set definition. If a quotation
                                        characteristic is provided at both levels, the finer grained
                                        one (ie. that applying to the SensitivityDefinition)
                                        prevails.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.3.5">16.5.3.5 Valuation Set</a>
                  </h5>
                                
                  <p>The valuation set, in effect a short “risk report” or
                                        “valuation report”, is a collection of valuations, together
                                        with some identifying and descriptive information.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/valuationSet.jpg">
                        <img src="images/valuation/valuationSet.jpg" alt="images/valuation/valuationSet.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>Contents include:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>The name of the valuation set, for human readers</li>
                                        
                     <li>The valuation scenario that was applied (this
                                                describes items such as valuation date, the base
                                                counterparty, and the market environment).</li>
                                        
                     <li>The base party, from which point of view the
                                                valuations are computed.</li>
                                        
                     <li>The default quotation characteristics (used to
                                                abbreviate large valuation sets containing many
                                                similar quotations, such as NPVs).</li>
                                        
                     <li>The definitions of any sensitivity sets, ie.
                                                definitions of the sensitivity risk reports
                                                provided.</li>
                                        
                     <li>A flag indicating whether the market environment is
                                                or should be included.</li>
                                        
                     <li>A collection of asset valuations, as described
                                                above.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.3.6">16.5.3.6 Valuation Scenario</a>
                  </h5>
                                
                  <p>The Valuation Scenario is a type that is used to define
                                        how the valuation was (or is to be) computed. It specifies
                                        the input assumptions for the valuations.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/valuationScenario.jpg">
                        <img src="images/valuation/valuationScenario.jpg" alt="images/valuation/valuationScenario.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It includes, or can include:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>A name, for humans to understand the purpose.</li>
                                        
                     <li>The date for which the valuation is performed.</li>
                                        
                     <li>A reference to the market environment (see below).</li>
                                        
                     <li>Constructs for defining how the base market
                                                environment is to be adjusted prior to valuation.
                                                (See below in risk definitions for more
                                        detail.)</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.3.7">16.5.3.7 Summary</a>
                  </h5>
                                
                  <p>Following is an overview diagram showing many of the
                                        structures described above.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/valuationSetExpanded.jpg">
                        <img src="images/valuation/valuationSetExpanded.jpg" alt="images/valuation/valuationSetExpanded.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.5.4">16.5.4 Pricing Inputs</a>
               </h4>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.5.4.1">16.5.4.1 Overview</a>
                  </h5>
                                
                  <p>This section describes representations for market inputs,
                                        such as yield curves and volatility matrices. These market
                                        inputs may be shared for the purpose of requesting a
                                        valuation or of reporting how a valuation was obtained.</p>
                                
                  <p>Market inputs are divided into two main types:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Pricing Structures provide a name/identifier to
                                                allow the pricing input to be referenced and
                                                identified, but provide no values.</li>
                                        
                     <li>Pricing Structure Valuations provide values (inputs
                                                and/or outputs) for a pricing structure. They are
                                                typically associated with a particular valuation
                                                scenario.</li>
                                
                  </ul>
                                
                  <p>Each of these is specialized into a variety of pricing
                                        input structures, which are in turn built out of building
                                        blocks such as TermCurves (for representing term structures)
                                        and Underlying Assets with quotations.</p>
                                
                  <p>A collection of pricing inputs is defined by a “market”
                                        or “market Environment.”</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.2">16.5.4.2 Abstract Structures</a>
                  </h5>
                                
                  <p>The Pricing Structure type is used as a placeholder for
                                        identifying a pricing input, such as a curve or matrix. It
                                        is extended for particular pricing structures.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PricingStructure.jpg">
                        <img src="images/valuation/PricingStructure.jpg" alt="images/valuation/PricingStructure.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The Pricing Structure Valuation type is used to hold
                                        valuations associated with the pricing structure. It
                                        includes </p>
                                
                  <ul class="bulleted">
                                        
                     <li>A reference to the pricing structure that is valued.</li>
                                        
                     <li>A reference to the valuation scenario that this is
                                                for</li>
                                        
                     <li>A variety of pieces of date information to describe
                                                the valuation. </li>
                                
                  </ul>
                                
                  <p>
                                        
                     <a href="images/valuation/pricingStructureValuation.jpg">
                        <img src="images/valuation/pricingStructureValuation.jpg" alt="images/valuation/pricingStructureValuation.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.3">16.5.4.3 Term Points and Curves</a>
                  </h5>
                                
                  <p>A term curve is a building block structure used to
                                        represent a set of market values over a term structure. It
                                        contains a set of Term Points, as well as some information
                                        about interpolation and extrapolation. It is used for
                                        representing term structures such as discount factor curves.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/TermCurve.jpg">
                        <img src="images/valuation/TermCurve.jpg" alt="images/valuation/TermCurve.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The Term Point allows bid, ask, mid, and spread values to
                                        be specified for a particular term. The Term is in turn
                                        defined as a tenor and/or a date.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/TermPoint.jpg">
                        <img src="images/valuation/TermPoint.jpg" alt="images/valuation/TermPoint.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.4">16.5.4.4 Underlying Assets</a>
                  </h5>
                                
                  <p>Underlying assets are used to represent simple benchmark
                                        assets, in this case for constructing market inputs such as
                                        curves. Underlying assets have a number of shared
                                        attributes:</p>
                                
                  <p>
                                        
                     <a href="images/valuation/UnderlyingAsset.jpg">
                        <img src="images/valuation/UnderlyingAsset.jpg" alt="images/valuation/UnderlyingAsset.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>Most of the shared elements of an underlying asset are
                                        self-explanatory. The “definition” element allows a
                                        reference to a full FpML product definition for the
                                        instrument, to allow a more complete definition to be
                                        provided.</p>
                                
                  <p>In addition, a variety of specialized underlying assets
                                        have been produced, including, for example:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Bonds – typically used for government bonds</li>
                                        
                     <li>Cash – used to represent currency assets that need
                                                to be discounted</li>
                                        
                     <li>Deposit – used to represent simple term deposits</li>
                                        
                     <li>FxRate – used to represent FX spot rates used to
                                                build pricing inputs (like FX forward curves)</li>
                                        
                     <li>RateIndex – used to represent interest rate indexes,
                                                such as Libor.</li>
                                        
                     <li>SimpleFra – used to represent Floating Rate
                                                Agreement rates used to construct yield curves.</li>
                                        
                     <li>SimpleIrSwap – used to represent benchmark Interest
                                                Rate Swaps used to construct yield curves.</li>
                                
                  </ul>
                                
                  <p>These are all contained in the fpml-asset-x-y.xsd schema
                                        file.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.5">16.5.4.5 Quoted Asset Sets</a>
                  </h5>
                                
                  <p>The quoted asset set allows a set of underlyingAssets to
                                        be created and quotations to be provided for them:</p>
                                
                  <p>
                                        
                     <a href="images/valuation/QuotedAssetSet.jpg">
                        <img src="images/valuation/QuotedAssetSet.jpg" alt="images/valuation/QuotedAssetSet.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It is used for calibrating pricing inputs, such as yield
                                        curve inputs, and for providing a set of quotes for
                                        instruments, such as FX rates, Floating Rate Index rates,
                                        etc.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.6">16.5.4.6 Yield Curves</a>
                  </h5>
                                
                  <p>Yield curves are relatively complex and are divided into
                                        several types, including:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Yield Curve – basic curve identifier</li>
                                        
                     <li>Yield Curve Valuation – holder of valuation
                                                information about a yield curve</li>
                                        
                     <li>Zero Curve – component of Yield Curve Valuation to
                                                hold a zero curve</li>
                                        
                     <li>Forward Curve – component of Yield Curve Valuation
                                                to hold forward curve(s).</li>
                                
                  </ul>
                                
                                
                                
                                
                        
                  <div>
                     <h5>
                        <a id="s16.5.4.6.1">16.5.4.6.1 Yield Curve</a>
                     </h5>
                                        
                     <p>This structure provides a high level identifier
                                                for an interest rate curve model.</p>
                                        
                     <p>
                                                
                        <a href="images/valuation/yieldCurve.jpg">
                           <img src="images/valuation/yieldCurve.jpg" alt="images/valuation/yieldCurve.jpg" class="image"/>
                        </a>
                                        
                     </p>
                                
                  </div>
                  <div>
                     <h5>
                        <a id="s16.5.4.6.2">16.5.4.6.2 Yield Curve Valuation</a>
                     </h5>
                                        
                     <p>The Yield Curve Valuation is a type of Pricing
                                                Structure Valuation that is able to hold a variety
                                                of pieces of information about an interest rate
                                                model, including:</p>
                                        
                     <ul class="bulleted">
                                                
                        <li>An optional set of input instruments used
                                                  for building the yield curve</li>
                                                
                        <li>An optional zero curve, used for
                                                  representing a term structure of zero-coupon
                                                  interest rates.</li>
                                                
                        <li>An optional discount factor curve, used for
                                                  representing a term structure of discount
                                                  factors</li>
                                                
                        <li>Optional forward curves, used for
                                                  representing forward rate projections for
                                                  specific indexes.</li>
                                        
                     </ul>
                                        
                     <p>
                                                
                        <a href="images/valuation/yieldCurveValuation.jpg">
                           <img src="images/valuation/yieldCurveValuation.jpg" alt="images/valuation/yieldCurveValuation.jpg" class="image"/>
                        </a>
                                        
                     </p>
                                
                  </div>
                  <div>
                     <h5>
                        <a id="s16.5.4.6.3">16.5.4.6.3 Zero Rate Curve</a>
                     </h5>
                                        
                     <p>A zero rate curve provides a term structure of
                                                zero coupon interest rates.</p>
                                        
                     <p>
                                                
                        <a href="images/valuation/ZeroRateCurve.jpg">
                           <img src="images/valuation/ZeroRateCurve.jpg" alt="images/valuation/ZeroRateCurve.jpg" class="image"/>
                        </a>
                                        
                     </p>
                                
                  </div>
                  <div>
                     <h5>
                        <a id="s16.5.4.6.4">16.5.4.6.4 Forward Rate Curve</a>
                     </h5>
                                        
                     <p>A forward rate curve represents a set of forward
                                                rates for a particular floating rate index asset.</p>
                                        
                     <p>
                                                
                        <a href="images/valuation/forwardRateCurve.jpg">
                           <img src="images/valuation/forwardRateCurve.jpg" alt="images/valuation/forwardRateCurve.jpg" class="image"/>
                        </a>
                                        
                     </p>
                                
                  </div>
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.7">16.5.4.7 FX Forward Curves</a>
                  </h5>
                                
                  <p>The FXCurve structure represents the abstract pricing
                                        model associated with forecasting FX rates. It extends
                                        PricingInput, adding a quoted currency pair to identify what
                                        is quoted.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/FXCurve.jpg">
                        <img src="images/valuation/FXCurve.jpg" alt="images/valuation/FXCurve.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The FXCurveValuation represents the valuation for
                                        forecasting FX rates. It extends PricingInputValuation.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/FXCurveValuation.jpg">
                        <img src="images/valuation/FXCurveValuation.jpg" alt="images/valuation/FXCurveValuation.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.8">16.5.4.8 Credit Curves</a>
                  </h5>
                                
                  <p>The CreditCurve structure represents the abstract pricing
                                        model associated with forecasting Credit market values (such
                                        as default probabilities). It extends PricingInput, adding
                                        several characteristics identifying the credit entity that
                                        is quoted.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/CreditCurve.jpg">
                        <img src="images/valuation/CreditCurve.jpg" alt="images/valuation/CreditCurve.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The Credit Curve Valuation models the valuation of a
                                        credit curve:</p>
                                
                  <p>
                                        
                     <a href="images/valuation/CreditCurveValuation.jpg">
                        <img src="images/valuation/CreditCurveValuation.jpg" alt="images/valuation/CreditCurveValuation.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The default probability curve is a special type of
                                        pricing input valuation that models the default probability
                                        of a credit entity:</p>
                                
                  <p>
                                        
                     <a href="images/valuation/DefaultProbabilityCurve.jpg">
                        <img src="images/valuation/DefaultProbabilityCurve.jpg" alt="images/valuation/DefaultProbabilityCurve.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.9">16.5.4.9 Multi-dimensional Pricing Data</a>
                  </h5>
                                
                  <p>The multi-dimensional pricing data structure is used to
                                        represent complex pricing structures such as volatility
                                        matrices. It consists of a set of Pricing Structure Points.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/MultidimensionalPricingData.jpg">
                        <img src="images/valuation/MultidimensionalPricingData.jpg" alt="images/valuation/MultidimensionalPricingData.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The Pricing Structure Point represents a single point of
                                        a multi-dimensional pricing structure. It provides a
                                        coordinate or coordinate reference (e.g. a combination of
                                        expiration, strike, and/or tenor), plus a value and some
                                        optional quotation characteristics.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PricingStructurePoint.jpg">
                        <img src="images/valuation/PricingStructurePoint.jpg" alt="images/valuation/PricingStructurePoint.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>The Pricing Data Point Coordinate allows a choice of
                                        index dimension.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PricingDataPointCoordinate.jpg">
                        <img src="images/valuation/PricingDataPointCoordinate.jpg" alt="images/valuation/PricingDataPointCoordinate.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.4.10">16.5.4.10 Markets</a>
                  </h5>
                                
                  <p>A market collects a set of the above pricing structures
                                        to provide an environment for valuing a set of assets.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/Market.jpg">
                        <img src="images/valuation/Market.jpg" alt="images/valuation/Market.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It contains:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>A set of benchmark quotes for benchmark instruments,
                                                such as FX rates and IR indices.</li>
                                        
                     <li>A set of pricing structures and their associated
                                                valuations.</li>
                                        
                     <li>A set of benchmark pricing methods, which associate
                                                benchmark assets with corresponding pricing
                                                structures. These, for example, allow the forecast
                                                model for an interest rate index to be
                                        specified.</li>
                                
                  </ul>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.5.5">16.5.5 Risk Definition</a>
               </h4>
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.5.5.1">16.5.5.1 Overview</a>
                  </h5>
                                
                  <p>The fpml-riskdef-x-y.xsd file contains definitions
                                        relating to sensitivities and valuation
                                scenarios.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.5.2">16.5.5.2 Sensitivity Set Definitions</a>
                  </h5>
                                
                  <p>The Sensitivity Set Definition describes a set of related
                                        sensitivities, providing a name, a set of characteristics, a
                                        reference to the valuation scenario, a reference to the
                                        pricing input (e.g. to the yield curve), and a set of
                                        definition of the individual sensitivities.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/SensitivitySetDefinition.jpg">
                        <img src="images/valuation/SensitivitySetDefinition.jpg" alt="images/valuation/SensitivitySetDefinition.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.5.3">16.5.5.3 Sensitivity Definitions</a>
                  </h5>
                                
                  <p>The Sensitivity Definition is used to define each
                                        individual sensitivity. It can contain a name and a
                                        valuation scenario (if these are different from those of the
                                        Sensitivity Set Definition), as well as either an explicit
                                        definition of the derivatives that was computed, or a
                                        listing of the term structure point or coordinates that the
                                        sensitivity corresponds to.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/SensitivityDefinition.jpg">
                        <img src="images/valuation/SensitivityDefinition.jpg" alt="images/valuation/SensitivityDefinition.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.5.4">16.5.5.4 Pricing Parameter Derivative</a>
                  </h5>
                                
                  <p>The Pricing Parameter derivative describes a single
                                        partial derivative. It indicates the pricing parameter to
                                        which the sensitivity is computed, the units of the reported
                                        value, and how the derivative is computed (numerically or
                                        analytically).</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PricingParameterDerivative.jpg">
                        <img src="images/valuation/PricingParameterDerivative.jpg" alt="images/valuation/PricingParameterDerivative.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.5.5">16.5.5.5 Derivative Formula</a>
                  </h5>
                                
                  <p>The derivative formula describes how to compute a
                                        derivative from a set of partial derivatives. It is normally
                                        only required for complex derivatives, such as Hessians,
                                        cross-gammas, etc.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/DerivatveFormula.jpg">
                        <img src="images/valuation/DerivatveFormula.jpg" alt="images/valuation/DerivatveFormula.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.5.6">16.5.5.6 Derived Valuation Scenario</a>
                  </h5>
                                
                  <p>The Derived Valuation Scenario is a valuation scenario
                                        that is derived from another valuation scenario by the
                                        substitution or shift of market input data. It is used for
                                        scenario reporting, such as stress testing.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/DerivedValuationScenario.jpg">
                        <img src="images/valuation/DerivedValuationScenario.jpg" alt="images/valuation/DerivedValuationScenario.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.5.7">16.5.5.7 Pricing Parameter Shift</a>
                  </h5>
                                
                  <p>The pricing parameter shift describes how a pricing
                                        parameter can be shifted, e.g. to define a valuation
                                        scenario.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PricingParameterShift.jpg">
                        <img src="images/valuation/PricingParameterShift.jpg" alt="images/valuation/PricingParameterShift.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.5.6">16.5.6 Query Portfolio</a>
               </h4>
                        
               <p>The QueryPortfolio type allows a portfolio to be created by
                                grouping together trades that meet specific criteria. These criteria
                                are defined by one or more elements of type QueryParameter. A
                                QueryParameter contains a triplet consisting of elements of type
                                QueryParamterId, QueryParameterValue, and QueryParameterOperator. A
                                queryParameterId element will state a specific criteria such as
                                product, or payment date, from a list defined by attribute
                                queryParameterIdScheme. The queryParameterValue for that stated
                                queryParameterId will provide a value for comparison such as swap,
                                or 20040923, and the queryParameterOperator will define the nature
                                of the comparison such as equals, or greater than, from a list
                                defined by attribute queryParameterOperatorScheme. </p>
                        
               <p>
                                
                  <a href="images/valuation/QueryPortfolio.jpg">
                     <img src="images/valuation/QueryPortfolio.jpg" alt="images/valuation/QueryPortfolio.jpg" class="image"/>
                  </a>
                        
               </p>
                        
               <p>A queryPortfolio element identified as port1 by its id attribute
                                that is composed of swap trades with payment dates greater than
                                20040923 would be created using the following XML segment:</p>
                        
               <pre>
&lt;queryPortfolio id="port1"&gt;
	&lt;queryParameter&gt;
		&lt;queryParameterId queryParameterIdScheme="http://www.fpml.org/spec/2004/query-parameter-id-1-0"&gt;product&lt;/queryParameterId&gt;
		&lt;queryParameterValue&gt;swap&lt;/queryParameterValue&gt;
		&lt;queryParameterOperator queryParameterOperatorScheme="http://www.fpml.org/spec/2004/query-parameter-operator-1-0"&gt;equals&lt;/queryParameterOperator&gt;
	&lt;/queryParameter&gt;
	&lt;queryParameter&gt;
		&lt;queryParameterId queryParameterIdScheme="http://www.fpml.org/spec/2004/query-parameter-id-1-0"&gt;PaymentDate&lt;/queryParameterId&gt;
		&lt;queryParameterValue&gt;20040923&lt;/queryParameterValue&gt;
		&lt;queryParameterOperator queryParameterOperatorScheme="http://www.fpml.org/spec/2004/query-parameter-operator-1-0"&gt;greater than&lt;/queryParameterOperator&gt;
	&lt;/queryParameter&gt;
&lt;/queryPortfolio&gt;

                          </pre>
                        
               <p>The queryParameters within a queryPortfolio are implicitly ANDed
                                together. Query Portfolios can also be created by defining
                                queryPortfolio elements that are children of another queryPortfolio.
                                In this case the child queryPortfolios are ORed together.</p>
                        
               <p>A queryPortfolio element identified as Port3 by its id attribute
                                that is composed of swap, or equitySwap trades with payment dates
                                greater than 20040923 would be created using the following XML
                                segment:</p>
                        
               <pre>
&lt;queryPortfolio id="port3" &gt;
	&lt;queryPortfolio id="port1"&gt;
		&lt;queryParameter&gt;
			&lt;queryParameterId queryParameterIdScheme="http://www.fpml.org/spec/2004/query-parameter-id-1-0"&gt;product&lt;/queryParameterId&gt;
		                              &lt;queryParameterValue&gt;swap&lt;/queryParameterValue&gt;
		                              &lt;queryParameterOperator queryParameterOperatorScheme="http://www.fpml.org/spec/2004/query-parameter-operator-1-0"&gt;equals&lt;/queryParameterOperator&gt;
		&lt;/queryParameter&gt;
		&lt;queryParameter&gt;
			&lt;queryParameterId queryParameterIdScheme="http://www.fpml.org/spec/2004/query-parameter-id-1-0"&gt;PaymentDate&lt;/queryParameterId&gt;
			&lt;queryParameterValue&gt;20040923&lt;/queryParameterValue&gt;
			&lt;queryParameterOperator queryParameterOperatorScheme="http://www.fpml.org/spec/2004/query-parameter-operator-1-0"&gt;greater than&lt;/queryParameterOperator&gt;
		&lt;/queryParameter&gt;
	&lt;/queryPortfolio&gt;
	&lt;queryPortfolio id="port2" &gt;
		&lt;queryParameter&gt;
			&lt;queryParameterId queryParameterIdScheme="http://www.fpml.org/spec/2004/query-parameter-id-1-0"&gt;product&lt;/queryParameterId&gt;
		                             &lt;queryParameterValue&gt;equitySwap&lt;/queryParameterValue&gt;
		                             &lt;queryParameterOperator queryParameterOperatorScheme="http://www.fpml.org/spec/2004/query-parameter-operator-1-0"&gt;equals&lt;/queryParameterOperator&gt;
		&lt;/queryParameter&gt;
		&lt;queryParameter&gt;
			&lt;queryParameterId queryParameterIdScheme="http://www.fpml.org/spec/2004/query-parameter-id-1-0"&gt;PaymentDate&lt;/queryParameterId&gt;
			&lt;queryParameterValue&gt;20040923&lt;/queryParameterValue&gt;
			&lt;queryParameterOperator queryParameterOperatorScheme="http://www.fpml.org/spec/2004/query-parameter-operator-1-0"&gt;greater than&lt;/queryParameterOperator&gt;
		&lt;/queryParameter&gt;
	&lt;/queryPortfolio&gt;
&lt;/queryPortfolio&gt;
                              </pre>
                        
               <p>A queryPortfolio may either consist of queryParameters or other
                                queryPortfolios, but not both.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.5.7">16.5.7 Valuation Messaging</a>
               </h4>
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.5.7.1">16.5.7.1 Introduction</a>
                  </h5>
                                
                  <p>The “fpml-reporting-x-y.xsd” subschema contains
                                        definitions relating to requesting valuations and reporting
                                        them in the form of messages.</p>
                                
                  <p>This includes:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>TradeValuationItem</li>
                                        
                     <li>PortfolioValuationItem</li>
                                        
                     <li>RequestValuationReport</li>
                                        
                     <li>ValuationReport</li>
                                        
                     <li>PositionReport</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.7.2">16.5.7.2 Messaging Guidelines for 'Valuation Report' and 'Position                                 Report'</a>
                  </h5>
                                
                  <p>The FpML Pricing and Risk definitions include two types
                                        of messages for reporting valuations. PositionReport and
                                        ValuationReport should be used under certain criteria.</p>
                                
                  <ul class="bulleted">
                                        
                     <li>The PositionReport is a relatively simple structure
                                                intended to link trade economics and valuation
                                                information for applications that require
                                                notification of the current open positions and their
                                                valuations. It is not intended for complex risk
                                                reporting applications. </li>
                                        
                     <li>The ValuationReport is a structure that groups
                                                related valuation information and supports anywhere
                                                from simple to complex reports. It is intended to be
                                                used when the primary application is to report
                                                valuations and sensitivities and not trade
                                                economics.</li>
                                
                  </ul>
                                
                                
                  <p>These guidelines are provided to assist implementers on
                                        the correct valuation message usage.</p>
                                
                  <p>Use the ValuationReport in any of the following cases:</p>
                                
                  <ul class="bulleted">
                                        
                     <li> When reporting portfolio-level information</li>
                                        
                     <li> When reporting trade level valuations without the
                                                trade economics, e.g. a list of NPVs for a large
                                                number of trades.</li>
                                        
                     <li>When reporting sensitivities</li>
                                        
                     <li> When reporting on valuation scenarios, such as
                                                stress tests</li>
                                        
                     <li> When providing market inputs</li>
                                        
                     <li> When responding to a ValuationRequest
                                        message</li>
                                
                  </ul>
                                
                  <p>Use the PositionReport message:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>When providing both trade economics and valuations
                                                together</li>
                                        
                     <li>When providing a statement of current position,
                                                rather than any kind of what-if analysis</li>
                                        
                     <li>When performing portfolio reconciliation</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.7.3">16.5.7.3 TradeValuationItem</a>
                  </h5>
                                
                  <p>A trade valuation item identifies a trade or trades to be
                                        valued, and contains a valuation set that describes the
                                        required valuation measures. If the trade not defined, the
                                        measures defined by the valuation set are requested for all
                                        trades in the relevant portfolio.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/TradeValuationItem.jpg">
                        <img src="images/valuation/TradeValuationItem.jpg" alt="images/valuation/TradeValuationItem.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.7.4">16.5.7.4 PortfolioValuationItem</a>
                  </h5>
                                
                  <p>A portfolio valuation item identifies portfolio to be
                                        valued, and contains a valuation set that describes the
                                        required valuation measures.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PortfolioValuationItem.jpg">
                        <img src="images/valuation/PortfolioValuationItem.jpg" alt="images/valuation/PortfolioValuationItem.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.7.5">16.5.7.5 RequestValuationReport</a>
                  </h5>
                                
                  <p>This is a request message for requesting portfolio and/or
                                        trade valuations. It contains portfolio and/or trade
                                        valuation items that are requested.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/RequestValuationReport.jpg">
                        <img src="images/valuation/RequestValuationReport.jpg" alt="images/valuation/RequestValuationReport.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.7.6">16.5.7.6 ValuationReport</a>
                  </h5>
                                
                  <p>This is a response message, sent in response to a
                                        “RequestValuationReport” message. It contains portfolio
                                        and/or trade valuation items and optionally market data.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/ValuationReport.jpg">
                        <img src="images/valuation/ValuationReport.jpg" alt="images/valuation/ValuationReport.jpg" class="image"/>
                     </a>
                                
                  </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.5.7.7">16.5.7.7 PositionReport</a>
                  </h5>
                                
                  <p>This is a notification message to support position
                                        reporting. It can send one or multiple positions. It
                                        implements the requirements defined by DSWG for position
                                        reports.</p>
                                
                  <p>
                                        
                     <a href="images/valuation/PositionReport.jpg">
                        <img src="images/valuation/PositionReport.jpg" alt="images/valuation/PositionReport.jpg" class="image"/>
                     </a>
                                
                  </p>
                                
                  <p>It contains:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Version attribute</li>
                                        
                     <li>Message header, giving addressing and message
                                                identification information</li>
                                        
                     <li>An optional asOfDate, identifying the date for which
                                                the report has been prepared.</li>
                                        
                     <li>An optional data set name, to assist subdividing a
                                                feed into multiple files.</li>
                                        
                     <li>A set of default quotation characteristics, which
                                                can include for example the default reporting
                                                currency for NPV, the market side (mid/bid/ask),
                                                etc.</li>
                                        
                                        
                     <li>A collection of positions, including valuation
                                                information.</li>
                                        
                     <li>The parties referenced by the trades or involved in
                                                the reporting process.</li>
                                
                  </ul>
                                
                        
                  <div>
                     <h5>
                        <a id="s16.5.7.7.1">16.5.7.7.1 Position</a>
                     </h5>
                                        
                     <p>This type is used to hold individual positions.
                                                Currently only positions based on single OTC
                                                contracts are used.</p>
                                        
                     <p>
                                                
                        <a href="images/valuation/Position.jpg">
                           <img src="images/valuation/Position.jpg" alt="images/valuation/Position.jpg" class="image"/>
                        </a>
                                        
                     </p>
                                        
                     <p>It contains:</p>
                                        
                     <ul class="bulleted">
                                                
                        <li>Information about the roles of the parties
                                                  with respect to reporting the positions.</li>
                                                
                        <li>The components that create this position,
                                                  currently a trade or a reference to a trade.</li>
                                                
                        <li>Position level scheduled dates, such as
                                                  final payment dates, in a simple and
                                                  flexible format.</li>
                                                
                        <li>Valuations reported for the position, such
                                                  as NPV or accrued interest. The asset/object
                                                  references in the valuations should refer to
                                                  the deal or components of the deal in the
                                                  position, e.g. legs, streams, or
                                                underlyers.</li>
                                        
                     </ul>
                                
                  </div>
               </div>
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.6">16.6 Use Cases/Examples</a>
               </h3>
            </div>
                
            <p>Pricing and Risk Use Cases/Examples are available at 
                        <a class="web" href="fpml-5-0-examples.html#s10">fpml-5-0-examples.html</a>
                
            </p>
        
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.7">16.7 Glossary</a>
               </h3>
            </div>
                
            <p>Many of the terms used in this document can be, and often are,
                        interpreted in a wide fashion throughout the derivatives industry and in
                        particular in the context of derivatives pricing and risk management systems
                        and technology. Often, the same term may be used to convey similar but
                        subtly different concepts in two different institutions. This section
                        attempts to define what various common terms used within this document are
                        meant convey. </p>
                
                
                
                
                
                
                
                
                
                
                
                
        
            <div>
               <h4>
                  <a id="s16.7.1">16.7.1 Valuation</a>
               </h4>
                        
               <p>The act of calculating one or more ‘Valuation Measures’ for a
                                trade. </p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.2">16.7.2 Risk</a>
               </h4>
                        
               <p>The exposure of the value of a trade to one or more
                                non-deterministic variables.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.3">16.7.3 Valuation Measure</a>
               </h4>
                        
               <p>A value that can be calculated for a trade at some given point in
                                time. Valuation Measures may be generically applicable for all trade
                                types, for example Present Value, or may be specific to certain
                                trade type, for example Accrued Interest or Yield. Valuation
                                Measures may vary from one day to the next, distinguishing them from
                                static trade information such as maturity date, counterparty
                        etc.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.4">16.7.4 Risk Measure</a>
               </h4>
                        
               <p>A particular type of ‘Valuation Measure’ that measures the
                                exposure of the value of a trade to a particular variable or set of
                                variables. Examples include Interest Rate Sensitivity, Credit Spread
                                Sensitivity, VAR, DEAR, RAROC, Peak Credit Exposure.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.5">16.7.5 Market Environment</a>
               </h4>
                        
               <p>A term that refers to the complete set of market data required
                                (or available) to value a trade or portfolio. A Market Environment
                                is made up of one more ‘Market Data’ elements.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.6">16.7.6 Market Data</a>
               </h4>
                        
               <p>A list of related market data values that are typically grouped
                                together for pricing purposes. Examples include an Interest Rate
                                Yield Curve, a Credit Spread Curve, a collection of FX spot rates, a
                                Volatility Surface, a term curve of Discount Factors or a Default
                                Probability Curve.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.7">16.7.7 Market Data Value</a>
               </h4>
                        
               <p>A single value associated with a particular market observable
                                instrument or synthetically derived instrument. Examples might
                                include the par rate for a 5 year Swap, the discount factor for a
                                synthetic 5 year zero-coupon bond or the volatility of an
                                At-the-Money 3-into-5 Swaption.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.8">16.7.8 Pricing Data</a>
               </h4>
                        
               <p>Data required by a particular pricing model that is not directly
                                associated with a market observable instrument or a synthetically
                                derived instrument. An examples would be factor loadings for a
                                multi-factor HJM/BGM Monte Carlo model.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.9">16.7.9 Portfolio</a>
               </h4>
                        
               <p>An abstract definition of a group of trades.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.10">16.7.10 Scenario</a>
               </h4>
                        
               <p>A grouping of one or more shocks to be applied to a ‘Market
                                Environment’.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.11">16.7.11 Sensitivity</a>
               </h4>
                        
               <p>A particular type of ‘Risk Measure’ that measures the sensitivity
                                of the value of a trade to a change in one or more items of market
                                data. </p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.7.12">16.7.12 Shock</a>
               </h4>
                        
               <p>A change to be applied to a single ‘Market Data’ element within a
                                ‘Market Environment’. The shock may affect one or more ‘Market Data
                                Values’ within the specified ‘Market Data’ element.</p>
                
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.8">16.8 Validation Rules</a>
               </h3>
            </div>
                
                
                
                
                
                
        
            <div>
               <h4>
                  <a id="s16.8.1">16.8.1 Introduction</a>
               </h4>
                        
               <p>This section describes how to define some validation rules that
                                cannot be enforced by the schema. It is intended as input to the
                                Validation Working Group.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.8.2">16.8.2 Reference Integrity</a>
               </h4>
                        
               <p>Intra-document references have been typed in the schema (e.g.
                                “ValuationScenarioReference” is a reference to a ValuationScenario.)
                                In XML schema the type of the target cannot easily be enforced; this
                                should be enforced in the valuation rules.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.8.3">16.8.3 Date uniqueness</a>
               </h4>
                        
               <p>Frequently in pricing structures (especially curves) it is not
                                allowed to have multiple values referring to the same point. For
                                instance, there can be only one discount factor for a single DF
                                curve on a given date.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.8.4">16.8.4 Optionality</a>
               </h4>
                        
               <p>There are many optional elements in the schema. This means that
                                it is difficult to ensure that some kind of necessary data are
                                present. Here are some suggested checks:</p>
                        
               <ul class="bulleted">
                                
                  <li>For a given AssetValuation, a ValuationScenarioReference
                                        should be supplied either directly or in the containing
                                        ValuationSet.</li>
                                
                  <li>If the marketEnvironmentIncluded flag is true, a market
                                        environment should be included.</li>
                        
               </ul>
                
            </div>
            <div>
               <h4>
                  <a id="s16.8.5">16.8.5 Names/Definitions</a>
               </h4>
                        
               <p>For sensitivities, either the name or the definitionRef attribute
                                (or both) must be filled in. It is not easy to enforce this
                                requirement in the schema.</p>
                
            </div>
            <div>
               <h4>
                  <a id="s16.8.6">16.8.6 Consistency of definitions/references</a>
               </h4>
                        
               <p>Where there are two ways to traverse references upward through
                                parallel structures, the resulting destination must be the same. For
                                example, assume that a Sensitivity has a definitionRef to a
                                SensitivityDefinition. This is contained within a
                                SensitivitySetDefinition. If the SensitivitySet that contains the
                                Sensitivity also has a definitionReference, it must be the same
                                SensitivitySetDefinition as before. Following is an illustration:</p>
                        
               <p>
                                
                  <a href="images/valuation/consistencyOfDefinitions.jpg">
                     <img src="images/valuation/consistencyOfDefinitions.jpg" alt="images/valuation/consistencyOfDefinitions.jpg" class="image"/>
                  </a>
                        
               </p>
                        
               <p>Similarly, there will normally be consistency between valuation
                                scenario references in sensitivity definitions and those in
                                sensitivity set definitions, if they are present in
                        both.</p>
                
            </div>
         </div>
         <div>
            <div>
               <h3>
                  <a id="s16.9">16.9 Appendix: Design Decisions</a>
               </h3>
            </div>
                
            <p>This section discusses issues that had particular complexity in
                        representation, together with options for resolving these issues and a
                        rationale for the chosen solution</p>
                
                
                
                
                
        
            <div>
               <h4>
                  <a id="s16.9.1">16.9.1 Abstract vs. Actual Products</a>
               </h4>
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.9.1.1">16.9.1.1 Issue 1: Defining an abstract product</a>
                  </h5>
                                
                  <p>The FpML specification deals with actual trades, that is
                                        products that have been or are in the process of being
                                        traded between two counterparties. When it comes to
                                        Valuation, there is a need for abstract deals, representing
                                        typically what the Broker market is quoting. The question is
                                        how to represent these “abstract deals”. </p>
                                
                  <p>Options:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Define these abstract products from scratch. This
                                                can be done in two different ways: <ul class="bulleted">
                                                  
                           <li>a) Provide short definitions and
                                                  rely on market convention. At the
                                                  extreme, these could be only names,
                                                  e.g. SWAPUSD-10Y. The advantage is
                                                  that the task can be carried out
                                                  relatively fast, counting on the
                                                  fact that the number of abstract
                                                  deals needed is small. The
                                                  disadvantage is that relying on
                                                  market conventions, can potentially
                                                  lead to a disagreement between two
                                                  parties. </li>
                                                  
                           <li>b) Provide a thorough definition.
                                                  This would avoid ambiguity but it
                                                  means the PRWG could potentially
                                                  have to redo a large part of what
                                                  the a FpML product group has already
                                                  done. </li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                                
                  <p>Both of the above (a,b) cases would require that systems
                                        be enhanced to parse these new definitions. </p>
                                
                  <ul class="bulleted">
                                        
                     <li>Reuse the FpML standard to define abstract trades.
                                                Disadvantages related to this approach include: <ul class="bulleted">
                                                  
                           <li>a) Some elements in the FpML
                                                  standard are irrelevant for abstract
                                                  products (for example parties).</li>
                                                  
                           <li>b) Some elements must be “tweaked”
                                                  to accommodate specificity of the
                                                  abstract trades. Typically, an
                                                  abstract trade is usually defined as
                                                  a “sliding maturity” product (the
                                                  case of futures being more
                                                  ambiguous) whereas a real deal has a
                                                  converging maturity. Dates
                                                  accommodates the latter, tenors the
                                                  former. </li>
                                                  
                           <li>c) These definitions are verbose.</li>
                                                  
                           <li>d) Some abstract deals are not
                                                  defined by FpML (typically the
                                                  discount factor of maturity T is a
                                                  very useful concept when it comes to
                                                  valuation).</li>
                                                  
                           <li>Even with the above (a,b,c,d)
                                                  issues, there are noticeable
                                                  advantages to this approach
                                                  including :</li>
                                                  
                           <li>a) Leveraging the existing standard
                                                  and reusing existing definitions,
                                                  would avoid redundant work and
                                                  mistakes. </li>
                                                  
                           <li>b) Enhancing systems that already
                                                  process FpML to deal with abstract
                                                  products is an easier task.
                                                  </li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.1.2">16.9.1.2 Issue 2:  Use of tenors instead of absolute dates</a>
                  </h5>
                                
                  <p>The main difference of abstract deals with FpML products
                                        is that most of the times these deals are “sliding” instead
                                        of “converging”, that is their maturity is not fixed and
                                        they cannot be defined in terms of dates but in terms of
                                        “tenors”. </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.1.3">16.9.1.3 Issue 3:  Stub definitions</a>
                  </h5>
                                
                  <p>In FpML, the stub is defined in terms of dates
                                        (FirstRegularPeriodStartDate...). Since in abstract deals
                                        this is not possible we must define the stubs a priori.
                                        There are implicit market conventions for these but they are
                                        rather loosely defined. A stub can be placed:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>at the beginning</li>
                                        
                     <li>at the end</li>
                                        
                     <li>both</li>
                                
                  </ul>
                                
                  <p>The term of a stub can be:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>short, which means shorter than the regular period</li>
                                        
                     <li>long</li>
                                
                  </ul>
                                
                  <p>It is always possible to create a short stub from a long
                                        one by creating an extra-regular period. The reciprocal is
                                        true, by aggregating the short period to the next or
                                        previous regular period. </p>
                                
                  <p>The market convention tends to refuse to have a stub that
                                        is “too” short (say 10 days). </p>
                                
                  <p>The only reason why you would have a stub at the
                                        beginning and at the end is because the Roll Convention is
                                        not on the start or termination date. </p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.9.2">16.9.2 Product and Trade Identification and Description</a>
               </h4>
                        
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.9.2.1">16.9.2.1 Issue 1:  Trade Summaries</a>
                  </h5>
                                
                  <p>The example valuation and risk reports generally include
                                        some kind of trade information summary, but FpML does not
                                        currently support this type of summary.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.2">16.9.2.2 Options:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Create a summary view for required products.</li>
                                        
                     <li>Include full trade details</li>
                                        
                     <li>Reference trade via ID or xml reference.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.3">16.9.2.3 Solution:</a>
                  </h5>
                                
                  <p>Reference the trade via ID or xml reference. Do not
                                        create a trade summary.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.4">16.9.2.4 Rationale:</a>
                  </h5>
                                
                  <p>Trade summaries are mostly useful for humans, not
                                        computers. FpML should provide a useful, forward-looking
                                        solution, not try to mechanize the past.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.5">16.9.2.5 Issue 2:  Trade Identification</a>
                  </h5>
                                
                  <p>FpML allows trades to be identified by multiple external
                                        IDs (tradeIdentitifier/partyTradeIdentifier). Trades can
                                        also be identified by an internal XML document identifier
                                        (as long as the trade is in the same FpML
                                document.).</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.6">16.9.2.6 Options:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>1. Allow single external ID per trade</li>
                                        
                     <li>2. Allow multiple external IDs per trade</li>
                                        
                     <li>3. Use XML internal ID for each trade.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.7">16.9.2.7 Solution:</a>
                  </h5>
                                
                  <p>Number 2</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.2.8">16.9.2.8 Rationale:</a>
                  </h5>
                                
                  <p>Most valuation reports will be for a large number of
                                        trades not sent in the same document, so an internal XML ID
                                        is not useful, and there is no FpML-standard document
                                        identification scheme.</p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.9.3">16.9.3 Pricing Inputs</a>
               </h4>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.9.3.1">16.9.3.1 Issue 1:  Term Representation</a>
                  </h5>
                                
                  <p>It will be necessary to be able to represent term
                                        structures for a variety of pricing inputs as well as for
                                        risk reports. There are a variety of ways to represent the
                                        time dimension for the term structure.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.2">16.9.3.2 Options</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Explicit date</li>
                                        
                     <li>Tenor (number plus period)</li>
                                        
                     <li>Reference to another structure that contains a date.</li>
                                        
                     <li>Number of days</li>
                                        
                     <li>Year Fraction</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.3">16.9.3.3 Solution:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>For yield curves: <ul class="bulleted">
                                                  
                           <li>Date is mandatory</li>
                                                  
                           <li>Tenor is optional</li>
                                                  
                           <li>Reference to another structure is
                                                  optional</li>
                                                  
                           <li>Year fraction is optional</li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                                
                  <ul class="bulleted">
                                        
                     <li>For volatility surfaces <ul class="bulleted">
                                                  
                           <li>Tenor is normally required.</li>
                                                  
                           <li>Date is optional.</li>
                                                  
                           <li>Reference to another structure is
                                                  optional</li>
                                                  
                           <li>Year fraction is optional</li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                                
                  <ul class="bulleted">
                                        
                     <li>For credit spread / recovery rate curves <ul class="bulleted">
                                                  
                           <li>Date is mandatory</li>
                                                  
                           <li>Tenor is optional</li>
                                                  
                           <li>Reference to another structure is
                                                  optional</li>
                                                  
                           <li>Year fraction is optional</li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.4">16.9.3.4 Rationale:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Dates are most useful for yield curves and most
                                                explicit.</li>
                                        
                     <li>Tenors are the market convention for credit spread
                                                curves, but use of dates as default will make the
                                                curves consistent with yield curves. </li>
                                        
                     <li>For volatility surfaces, precise dates aren’t so
                                                important and using tenor provides better usability.</li>
                                        
                     <li>Year fraction is a calculated value and can’t
                                                necessarily be supported by all systems.</li>
                                        
                     <li>Number of days could be supported by using the tenor
                                                (in days).</li>
                                
                  </ul>
                                
                  <p>Comment: it would be more consistent to make the same
                                        index (e.g. date) mandatory for everything. If someone
                                        wanted to roll the vol surface to another day, they could do
                                        this as long as the sender had supplied a tenor.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.5">16.9.3.5 Issue 2:  Ability to handle different dimensionality for                                 pricing inputs</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Some pricing inputs, especially volatility
                                                representations, can vary in dimensionality. (points
                                                vs. curves vs. surfaces vs. cubes). We need to be
                                                able to accommodate this.</li>
                                        
                     <li>There is considerable similarity across pricing
                                                inputs in the need for term structures of various
                                                dimensionality. It would be nice to reuse
                                        this.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.6">16.9.3.6 Options:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Separate structures for each pricing input/number of
                                                dimensions.</li>
                                        
                     <li>Single n-dimensional structure</li>
                                        
                     <li>Generic ability to add another term structure
                                                dimension to an existing structure.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.7">16.9.3.7 Solution:</a>
                  </h5>
                                
                  <p>Generic ability to add another term structure dimension
                                        to an existing structure.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.8">16.9.3.8 Rationale:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Generic structure may be too abstract to handle
                                                easily.</li>
                                        
                     <li>Separate Structures don’t provide reuse.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.9">16.9.3.9 Issue 3:  Dates used within pricing structures</a>
                  </h5>
                                
                  <p>For a single market input (e.g. curve), there are
                                        multiple dates that can describe the data. These include:</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Date of input points – date data was retrieved from.</li>
                                        
                     <li>Base date – date used a base for computation.
                                                (Typical this will be the same as above, but not
                                                always.)</li>
                                        
                     <li>Spot date – base date plus settlement lag for the
                                                currency. (“days to spot”).</li>
                                        
                     <li>Date/time generated - the date and time the
                                                calculation was actually performed.</li>
                                
                  </ul>
                                
                  <p>Which of these should be required and/or
                                optional?</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.10">16.9.3.10 Solution:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Base date should be required</li>
                                        
                     <li>Input data date should be optional; normally this
                                                would not be supplied if the same as base date.</li>
                                        
                     <li>Spot date would be optional</li>
                                        
                     <li>Date generated would be optional.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.11">16.9.3.11 Rationale:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Base date is necessary for understanding the meaning
                                                of the values expressed by the curve.</li>
                                        
                     <li>Spot date is derivable from base date.</li>
                                        
                     <li>Input data date is normally same as base date,
                                                except in unusual cases.</li>
                                        
                     <li>Date generated is useful for tracking and sequencing
                                                purposes, but has no other processing
                                        significance.</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.12">16.9.3.12 Issue 4:  Compactness of term structure indexes</a>
                  </h5>
                                
                  <p>FpML architectural guidelines and standard XML modeling
                                        practice require putting business data in elements. However,
                                        for repeated numerical data like term structures, i) this
                                        produces very verbose, possibly difficult-to-read XML, and
                                        ii) the term structure indexes can be thought of as
                                        meta-data anyway, since the real data is the numerical
                                        value.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.13">16.9.3.13 Options:</a>
                  </h5>
                                
                  <p>1. Indexes in elements reusing existing FpML structures,
                                        e.g.:</p>
                                
                  <pre>
&lt;dfpoint&gt;
	&lt;date&gt;2004-06-01&lt;/date&gt;
&lt;tenor&gt;
&lt;periodMultiplier&gt;1&lt;/periodMultiplier&gt;
&lt;/period&gt;D&lt;/period&gt;
&lt;/tenor&gt;
&lt;value&gt;0.995&lt;/value&gt;
&lt;/dfpoint&gt;
                                </pre>
                                
                  <p>2. Indexes in elements using more compact structures,
                                        e.g.:</p>
                                
                  <pre>
&lt;dfpoint&gt;
	&lt;date&gt;2004-06-01&lt;/date&gt;
&lt;tenor&gt;1D&lt;/tenor&gt;
&lt;value&gt;0.995&lt;/value&gt;
&lt;/dfpoint&gt;
                                </pre>
                                
                  <p>3. Indexes in attributes:</p>
                                
                  <pre>
&lt;df date=”2004-06-01” tenor=”1D”&gt;0.995&lt;/df&gt;
                                </pre>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.14">16.9.3.14 Solution:</a>
                  </h5>
                                
                  <p>We have chosen to use the fully expanded form, but to
                                        allow referencing some of the coordinates so that the
                                        information does not have to be repeated.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.15">16.9.3.15 Rationale:</a>
                  </h5>
                                
                  <p>Compromise that preserves FpML design rules but allows a
                                        more compact representation.</p>
                                
                  <ul class="bulleted">
                                        
                     <li>solution 1: 134 characters = 3.1 x</li>
                                        
                     <li>solution 2: 79 characters = 1.8 x</li>
                                        
                     <li>solution 3: 43 characters = 1.0 x</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.16">16.9.3.16 Issue 6: Handling of currency conversion </a>
                  </h5>
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.17">16.9.3.17 Solution:</a>
                  </h5>
                                
                  <p>FX rates need to be treated as pricing / reporting
                                inputs</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.18">16.9.3.18 Rationale:</a>
                  </h5>
                                
                  <p>FX conversion is often required in reporting values and
                                        risks.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.19">16.9.3.19 Issue 7: Handling of credit default swap basis conventions</a>
                  </h5>
                                
                  <p>This applies to credit default swaps and recovery rates.
                                        Are all CDS basis conventions required for specification of
                                        credit curves?</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.20">16.9.3.20 Option 1: partial description</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Reference entity – underlying entity used to
                                                determine default condition. Should include the full
                                                name, RED identifier and/or other standard
                                                identifier. For index transactions, a unique
                                                identifier (e.g. DJ TRAC-X NA 100 Series 2)</li>
                                        
                     <li>Debt seniority – One of the following: senior, T3
                                                Subordinated, LT2 Subordinated, UT2 Subordinated, T1
                                                Subordinated</li>
                                        
                     <li>Secured – Yes / No flag if the protection is on
                                                secured debt.</li>
                                        
                     <li>Currency – Currency of the protection payout</li>
                                        
                     <li>Restructuring event - no restructuring, modified
                                                restructuring, modified modified restructuring, etc.</li>
                                        
                     <li>Optional descriptor – ability to add additional
                                                terms to distinguish this set of market
                                        data</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.21">16.9.3.21 Option 2: full description:</a>
                  </h5>
                                
                  <table class="table">
                                        
                                        
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>
                                                  
                              <b>Contract Term</b>
                                                  
                           </p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>
                                                  
                              <b>Description</b>
                                                  
                           </p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>
                                                  
                              <b>Options/Value</b>
                                                  
                           </p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>
                                                  
                              <b>Defaults</b>
                                                  
                           </p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Reference Entity </p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Underlying entity used to
                                                  determine default condition. Should
                                                  include the full name, RED
                                                  identifier and/or other standard
                                                  identifier</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Text name of the underlying
                                                  entity; RED identifier of the
                                                  underlying entity; Other identifier
                                                  of the underlying entity</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>N/A</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Credit Event</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>The material credit event.
                                                  Multiple selection and at least one
                                                  required. Modified Restructuring is
                                                  where a Restructuring event is
                                                  allowed but a Restructuring Maturity
                                                  Limitation applies</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Bankruptcy; Failure To Pay;
                                                  Restructuring; Modified
                                                  Restructuring; Modified-Modified
                                                  Restructuring; No
                                                  Restructuring</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Bankruptcy; Failure To Pay;
                                                  Restructuring</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Seniority</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>The seniority of the deliverable
                                                  obligation. Single selection and
                                                  required.</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Senior; Sub Tier 1; Sub (Upper
                                                  Tier 2); Sub (Lower Tier 2); Sub
                                                  Tier 3</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Senior</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Secured Flag</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Whether the deliverable
                                                  obligation is secured or unsecured.
                                                  Single selection and
                                                  required.</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>No</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p/>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Currency</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>The currency of denomination of
                                                  the deliverable obligation. Single
                                                  selection and required.</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>List of supported
                                                  currencies</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>USD</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Obligation Category</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>What sort of reference payment
                                                  will trigger a credit event. Single
                                                  selection and required.</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Payment; Borrowed Money;
                                                  Reference Obligations Only; Bond or
                                                  Loan; Bond; Loan;</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Borrowed Money</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Deliverable Obligation
                                                  Category</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>What sort of obligation may be
                                                  delivered in the event of the credit
                                                  event. Single selection and
                                                  required.</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Payment; Borrowed Money;
                                                  Reference Obligations Only; Bond or
                                                  Loan; Bond; Loan;</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Bond or Loan</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>ISDA CD Definitions</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Specifies what ISDA document and
                                                  supplement (if any) is applicable to
                                                  this curve. Multiple selection and
                                                  required.</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>1999 ISDA; 1999 Successor
                                                  Supplement; 1999 Convert Supplement;
                                                  1999 MR Supplement; 2003 ISDA
                                                  </p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>1999 ISDA; 1999 Successor
                                                  Supplement; 1999 Convert Supplement;
                                                  1999 MR Supplement;</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Deliverable
                                                  Exclusions</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Security types excluded from
                                                  delivery of this
                                                  contract</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Exclude zero coupon; Exclude
                                                  convertible; Exclude floating rate
                                                  note</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>None</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Obligation
                                                  characteristics</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Types of obligations that may be
                                                  considered for default
                                                  determination</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Pari Passu Ranking; Not
                                                  Contingent; Not Domestic Issuance;
                                                  Not Domestic Currency; Not Sovereign
                                                  Lender; Listed; Not Domestic Law;
                                                  Specified Currency OECD; Specified
                                                  Currency non-OECD</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Multiple selection</p>
                                                
                        </td>
                                        
                     </tr>
                                        
                     <tr>
                                                
                        <td>
                                                  
                           <p>Deliverable obligation
                                                  characteristics</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Types of securities that can be
                                                  delivered to the protection holder
                                                  upon trigger of the
                                                  contract</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Pari Passu Ranking; Not
                                                  Contingent; Not Domestic Issuance;
                                                  Not Domestic Currency; Not Sovereign
                                                  Lender; Listed; Not Domestic Law;
                                                  Specified Currency OECD; Specified
                                                  Currency non-OECD; Accelerated or
                                                  Matured; Not Bearer</p>
                                                
                        </td>
                                                
                        <td>
                                                  
                           <p>Multiple selection</p>
                                                
                        </td>
                                        
                     </tr>
                                
                  </table>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.22">16.9.3.22 Option 3: fpml CD 4.x specification: </a>
                  </h5>
                                
                  <p>Refer to the existing fpml CD v4.0 specification for all
                                        references to unique terms defining CDS
                                instruments</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.23">16.9.3.23 Solution:</a>
                  </h5>
                                
                  <p>Option 1: Use the partial description.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.3.24">16.9.3.24 Rationale:</a>
                  </h5>
                                
                  <p>Simplified approach captures most relevant components for
                                        determining pricing basis. Can be expanded at a later time
                                        using the optional field (or via amendments to the
                                        specification).</p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.9.4">16.9.4 Valuation Reporting</a>
               </h4>
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.9.4.1">16.9.4.1 Issue 1: How much detail is needed for the NPVs?</a>
                  </h5>
               </div>
               <div>
                  <h5>
                     <a id="s16.9.4.2">16.9.4.2 Options:</a>
                  </h5>
                                
                  <ul class="bulleted">
                                        
                     <li>Pay vs. receive?</li>
                                        
                     <li>Cash flows on value date</li>
                                        
                     <li>Currency translation</li>
                                        
                     <li>Pricing currency</li>
                                        
                     <li>Valuation date</li>
                                        
                     <li>Underlying security or benchmark price if applicable</li>
                                        
                     <li>Volatility and Delta if applicable</li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.4.3">16.9.4.3 Solution:</a>
                  </h5>
                                
                  <p>Use Asset Measures to allow a variety of results to be
                                        returned.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.4.4">16.9.4.4 Rationale:</a>
                  </h5>
                                
                  <p>This allows a user to extend the standard to provide more
                                        types of returned values.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.4.5">16.9.4.5 Issue 2:  Reporting Currency</a>
                  </h5>
                                
                  <p>Reporting should be in a single specified currency, with
                                        currency conversion rates and the source of those rates
                                        identified for any trades not in the reporting
                                currency.</p>
                        
               </div>
            </div>
            <div>
               <h4>
                  <a id="s16.9.5">16.9.5 Risk Types and Measures</a>
               </h4>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                
               <div>
                  <h5>
                     <a id="s16.9.5.1">16.9.5.1 Issue 1:  Risk types and measures</a>
                  </h5>
                                
                  <p>Need to specify the risk type and measure of the
                                        submitted risk figures.</p>
                                
                  <p>
                                        
                     <b>Risk Types</b>
                                
                  </p>
                                
                  <p>There are a number of broad market risk types.</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Interest Rate</li>
                                        
                     <li>Credit Spread</li>
                                        
                     <li>FX Rate</li>
                                        
                     <li>Equity Price</li>
                                        
                     <li>Commodity Price</li>
                                
                  </ul>
                                
                  <p>
                                        
                     <b>Risk Measures</b>
                                
                  </p>
                                
                  <p>For each of the broad risk types a number of risk
                                        measures are used. Risk measures are typically generated by
                                        perturbing the valuation parameters and calculating the
                                        effect on the net present value of the trades or portfolio.</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Delta, first order sensitivity to a shift in the
                                                valuation parameter <ul class="bulleted">
                                                  
                           <li>Parallel shift (applicable to all
                                                  risk types)</li>
                                                  
                           <li>1-dimensional, bucketed risk
                                                  (applicable yield curves and credit
                                                  curves)</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Gamma, second order sensitivity to a shift in the
                                                valuation parameter <ul class="bulleted">
                                                  
                           <li>Parallel shift</li>
                                                  
                           <li>1-dimensional</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Vega <ul class="bulleted">
                                                  
                           <li>Parallel shift</li>
                                                  
                           <li>2 or 3 dimensional, risk against
                                                  each individual entry in the
                                                  volatility surface/cube</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Scenario <ul class="bulleted">
                                                  
                           <li>A single number representing the
                                                  sensitivity to a shift in the
                                                  valuation parameters defined by a
                                                  (separately) specified
                                                  scenario</li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.2">16.9.5.2 Solution</a>
                  </h5>
                                
                  <p>We therefore need to be label a risk figure with an entry
                                        from the following hierarchy. </p>
                                
                  <ul class="bulleted">
                                        
                     <li>Market Risk <ul class="bulleted">
                                                  
                           <li>Interest Rate <ul class="bulleted">
                                                  
                                 <li>Delta</li>
                                                  
                                 <li>Gamma</li>
                                                  
                                 <li>Vega</li>
                                                  
                                 <li>Scenario</li>
                                                  
                              </ul>
                                                  
                           </li>
                                                  
                           <li>Credit Spread <ul class="bulleted">
                                                  
                                 <li>Delta</li>
                                                  
                                 <li>Gamma</li>
                                                  
                                 <li>Vega</li>
                                                  
                                 <li>Scenario</li>
                                                  
                              </ul>
                                                  
                           </li>
                                                  
                           <li>FX Rate <ul class="bulleted">
                                                  
                                 <li>Delta</li>
                                                  
                                 <li>Gamma</li>
                                                  
                                 <li>Vega</li>
                                                  
                                 <li>Scenario</li>
                                                  
                              </ul>
                                                  
                           </li>
                                                  
                           <li>Equity Price <ul class="bulleted">
                                                  
                                 <li>Delta</li>
                                                  
                                 <li>Gamma</li>
                                                  
                                 <li>Vega</li>
                                                  
                                 <li>Scenario</li>
                                                  
                              </ul>
                                                  
                           </li>
                                                  
                           <li>Commodity Price <ul class="bulleted">
                                                  
                                 <li>Delta</li>
                                                  
                                 <li>Gamma</li>
                                                  
                                 <li>Vega</li>
                                                  
                                 <li>Scenario</li>
                                                  
                              </ul>
                                                  
                           </li>
                                                  
                           <li>Scenarios cross risk type</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Credit Risk <ul class="bulleted">
                                                  
                           <li>Current Exposure</li>
                                                  
                           <li>Potential Exposure</li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                                
                  <p>For yield curves, the shifts can be performed in either</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Input Rates <ul class="bulleted">
                                                  
                           <li>The yield curve benchmark
                                                  prices</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Output rates of resulting term structure of <ul class="bulleted">
                                                  
                           <li>The resulting term structure of
                                                  implied <ul class="bulleted">
                                                  
                                 <li>Zero Rates</li>
                                                  
                                 <li>Forward Rates</li>
                                                  
                                 <li>Par Rates</li>
                                                  
                              </ul>
                                                  
                           </li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                                
                  <p>Other valuation parameters typically do not have both
                                        input and output values.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.3">16.9.5.3 Solution</a>
                  </h5>
                                
                  <p>The risk data must include a reference to the perturbed
                                        node of a valuation parameter. And the node can be an input
                                        node or an output node.</p>
                                
                  <p>References can be either to a bucket node / matrix
                                        element or it can be reference to the full yield curve /
                                        volatility / object. In the latter case it is a parallel
                                        shift greek.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.4">16.9.5.4 Issue2:  Shift size</a>
                  </h5>
                                
                  <p>Shift sizes can potentially be a subject for discussion.
                                        Either we specify one standard definition or we include the
                                        shift size in the message. </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.5">16.9.5.5 Solution</a>
                  </h5>
                                
                  <p>In order to keep the complexity down, we define the shift
                                        sizes to be</p>
                                
                  <ul class="bulleted">
                                        
                     <li>Delta and gamma sensitivities are based on shift
                                                size <ul class="bulleted">
                                                  
                           <li>interest rates 1 basis point (0.01%)</li>
                                                  
                           <li>credit spreads 1 basis point
                                                  (0.01%)</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Vega <ul class="bulleted">
                                                  
                           <li>all risk types 1%</li>
                                                
                        </ul>
                                        
                     </li>
                                        
                     <li>Scenarios <ul class="bulleted">
                                                  
                           <li>The shift size for each individual
                                                  risk factor is specified in separate
                                                  scenario representation which
                                                  includes a large set of references
                                                  to the nodes in valuation parameters
                                                  and shift sizes.</li>
                                                
                        </ul>
                                        
                     </li>
                                
                  </ul>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.6">16.9.5.6 Issue 3 Shift method</a>
                  </h5>
                                
                  <p>A number of different shift methods are used when
                                        calculating sensitivities (central differences, right hand
                                        side, scaling etc). </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.7">16.9.5.7 Solution</a>
                  </h5>
                                
                  <p>It is not our ambition to harmonize calculation methods
                                        but rather to reach a common understanding of the resulting
                                        numbers. We therefore leave out the applied method from the
                                        message.</p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.8">16.9.5.8 Issue 4 Risk currency</a>
                  </h5>
                                
                  <p>The currency in which a risk figure is expressed is
                                        needed. </p>
                        
               </div>
               <div>
                  <h5>
                     <a id="s16.9.5.9">16.9.5.9 Solution</a>
                  </h5>
                                
                  <p>Typically the risk figures are expressed in the same
                                        currency as the currency of the trade. Trades involving more
                                        than one currency will have its risk expressed separately
                                        against yield curves etc for each currency. The currency
                                        element should be part of the message.</p>
                        
               </div>
            </div>
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s17">17 CHANGES IN THIS VERSION</a>
            </h2>
         </div>
	

         <div>
            <h3>
               <a id="s17.1">17.1 Changes compared to FpML 5.0 Last Call Working Draft 2010-03-30</a>
            </h3>
		
            <ul class="bulleted">
			
			
               <li>All areas:<ul class="bulleted">
				
                     <li>Synchronized content with FpML 4.8.</li>
				
                  </ul>
			
               </li>
			
               <li>Validation Rules:<ul class="bulleted">
				
                     <li>Converted validation rules' test cases for 5.0 Confirmation View.</li>
			
                  </ul>
			
               </li>
			
			
               <li>The following issues have been resolved: <ul class="bulleted">
					
                     <li>
						
                        <a class="web" href="http://www.fpml.org/issues/view.php?id=1010" target="_blank" title="Link opens in new window.">http://www.fpml.org/issues/view.php?id=1010</a>
					
                     </li>
				
                  </ul>
			
               </li>
			
               <p>View <a class="web" href="xml/changes.pdf" target="_blank" title="Link opens in new window.">PDF for details on schema changes</a>
               </p>
			
               <p>View <a class="web" href="validation-rules/changes.pdf" target="_blank" title="Link opens in new window.">PDF for details on validation rules changes</a>
               </p>
		
            </ul>
	
         </div>
      </div>
      <div>
         <div>
            <h2>
               <a id="s18">18 SCHEMA REFERENCE</a>
            </h2>
         </div>
	
         <p>These are automatically generated reference documents detailing the contents of the various sections in the FpML schema.</p>
	
         <ul class="bulleted">
		
            <li>Core Definitions:
			<ul class="bulleted">			
				
                  <li>
                     <a class="web" href="schemaRef/fpml-main-5-0.xsd.html" target="_blank" title="Link opens in new window.">Main Components</a>
                  </li>
				
                  <li>
                     <a class="web" href="schemaRef/fpml-doc-5-0.xsd.html" target="_blank" title="Link opens in new window.">Doc Components</a>
                  </li>
				
                  <li>
                     <a class="web" href="schemaRef/fpml-shared-5-0.xsd.html" target="_blank" title="Link opens in new window.">Shared Components</a>
                  </li>
				
                  <li>
                     <a class="web" href="schemaRef/fpml-enum-5-0.xsd.html" target="_blank" title="Link opens in new window.">Shared Enumeration definitions</a>
                  </li>
				
                  <li>
                     <a class="web" href="schemaRef/fpml-asset-5-0.xsd.html" target="_blank" title="Link opens in new window.">Asset Components</a>
                  </li>
			
               </ul>
		
            </li>
		
            <li>Products:
			<ul class="bulleted">
				
                  <li>IRD
					<ul class="bulleted">
						
                        <li>
                           <a class="web" href="schemaRef/fpml-ird-5-0.xsd.html" target="_blank" title="Link opens in new window.">Interest Rate Components</a>
                        </li>
					
                     </ul>
				
                  </li>
			
               </ul>
			
			
               <ul class="bulleted">
				
                  <li>CD
					<ul class="bulleted">
						
                        <li>
                           <a class="web" href="schemaRef/fpml-cd-5-0.xsd.html" target="_blank" title="Link opens in new window.">Credit Derivative Components</a>
                        </li>
					
                     </ul>
				
                  </li>
			
               </ul>
			
               <ul class="bulleted">
				
                  <li>EQD
					<ul class="bulleted">
						
                        <li>
                           <a class="web" href="schemaRef/fpml-eq-shared-5-0.xsd.html" target="_blank" title="Link opens in new window.">Equity Shared Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-eqd-5-0.xsd.html" target="_blank" title="Link opens in new window.">Equity Derivative Options Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-return-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Return Swaps Components</a>
                        </li>						
						
                        <li>
                           <a class="web" href="schemaRef/fpml-variance-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Variance Swaps Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-dividend-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Dividend Swaps Components</a>
                        </li>
						
                        <li>
                           <a class="web" href="schemaRef/fpml-correlation-swaps-5-0.xsd.html" target="_blank" title="Link opens in new window.">Correlation Swaps Components</a>
                        </li>
					
                     </ul>
				
                  </li>
			
               </ul>
			
               <ul class="bulleted">
				
                  <li>Bond Options
					<ul class="bulleted">
						
                        <li>
                           <a class="web" href="schemaRef/fpml-bond-option-5-0.xsd.html" target="_blank" title="Link opens in new window.">Bond Options Components</a>
                        </li>						
					
                     </ul>
				
                  </li>
			
               </ul>
			
               <ul class="bulleted">
				
                  <li>Options
					<ul class="bulleted">
						
                        <li>
                           <a class="web" href="schemaRef/fpml-option-shared-5-0.xsd.html" target="_blank" title="Link opens in new window.">Options Shared Components</a>
                        </li>
					
                     </ul>
				
                  </li>
			
               </ul>
			
			
               <ul class="bulleted">
				
                  <li>Commodities
					<ul class="bulleted">
						
                        <li>
                           <a class="web" href="schemaRef/fpml-com-5-0.xsd.html" target="_blank" title="Link opens in new window.">Commodity Derivative Components</a>
                        </li>						
					
                     </ul>
				
                  </li>
			
               </ul>
			
			
		
            </li>
		
            <!--li>Pricing and Risking:
			<ul class="bulleted">
				
				
                  <li>
                     <a class="web" href="schemaRef/fpml-mktenv-5-0.xsd.html" target="_blank" title="Link opens in new window.">Market Environment Data Components</a>
                  </li>
				
                  <li>
                     <a class="web" href="schemaRef/fpml-riskdef-5-0.xsd.html" target="_blank" title="Link opens in new window.">Valuation and Sensitivity Results</a>
                  </li>
			
               </ul>
		
            </li-->
		
            <li>Messaging Framework:
			<ul class="bulleted">
				
                  <li>
                     <a class="web" href="schemaRef/fpml-msg-5-0.xsd.html" target="_blank" title="Link opens in new window.">Messaging Components</a>
                  </li>
				
                  <li>
                     <a class="web" href="schemaRef/fpml-confirmation-processes-5-0.xsd.html" target="_blank" title="Link opens in new window.">Trade and Post-Trade Messaging Components</a>
                  </li>
				
				
                  <li>
                     <a class="web" href="schemaRef/fpml-business-events-5-0.xsd.html" target="_blank" title="Link opens in new window.">Business Event Notification Components</a>
                  </li>
			
               </ul>
		
            </li>
		
            <li>Reference:
			<ul class="bulleted">
				
                  <li>
                     <a class="web" href="fpml-5-0-index-frame.html" target="_blank" title="Link opens in new window.">Index and cross-reference of definitions</a>
                  </li>
				
                  <li>
                  	<a class="web" href="../../xml/confirmation_xml.zip">Schema and Example files</a> - Provides zip file with FpML schemas and examples. </li>				
			
               </ul>
		
            </li>
	
         </ul>

      </div>
      <div>
         <div>
            <h2>
               <a id="s20">20 SCHEMA AND EXAMPLES</a>
            </h2>
         </div>
	
         <ul class="bulleted">
		
            <li>
			
               <a class="web" href="fpml-5-0-examples-frame.html" target="_blank" title="Link opens in new window.">Description of Examples</a> - Provides list and description of available FpML examples. All examples can be downloaded clicking the link below.
		</li>
		
            <li>
			
               <a class="web" href="../../xml/confirmation_xml.zip">Schema and Example files</a> - Provides zip file with FpML Schema and all examples.
		</li>
	
         </ul>

      </div>
      <div>
         <div>
            <h2>
               <a id="s24">24 SCHEME DEFINITIONS</a>
            </h2>
         </div>
			
         <ul class="bulleted">	
				
            <li>
					
               <a class="web" href="http://www.fpml.org/spec/coding-scheme/index.html" target="_blank" title="Link opens in new window.">Scheme Definitions</a> - Describes standard FpML schemes, and the values that they can take.
				</li>
				
            <li>
					
               <a class="web" href="http://www.fpml.org/spec/coding-scheme/codelist.zip">Coding Schemes (.zip file)</a> - Package of internal FpML defined internal schemes defined as xml files.
				</li>
			
         </ul>

      </div>
      <p>
         <a href="http://validator.w3.org/check/referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11" alt="Valid XHTML 1.1!" height="31" width="88"/>
         </a>
         <a href="http://jigsaw.w3.org/css-validator/">
            <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!"/>
         </a>
      </p>
   </body>
</html>